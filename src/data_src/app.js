(()=>{var up=Object.create;var yc=Object.defineProperty;var fp=Object.getOwnPropertyDescriptor;var hp=Object.getOwnPropertyNames;var dp=Object.getPrototypeOf,pp=Object.prototype.hasOwnProperty;var mp=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var gp=(s,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of hp(e))!pp.call(s,a)&&a!==i&&yc(s,a,{get:()=>e[a],enumerable:!(n=fp(e,a))||n.enumerable});return s};var wc=(s,e,i)=>(i=s!=null?up(dp(s)):{},gp(e||!s||!s.__esModule?yc(i,"default",{value:s,enumerable:!0}):i,s));var Cl=mp((Al,Sl)=>{(function(s,e){typeof Al=="object"&&typeof Sl<"u"?Sl.exports=e():typeof define=="function"&&define.amd?define(e):(s=typeof globalThis<"u"?globalThis:s||self,s.bootstrap=e())})(Al,function(){"use strict";let s=new Map,e={set(o,t,r){s.has(o)||s.set(o,new Map);let u=s.get(o);if(!u.has(t)&&u.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(u.keys())[0]}.`);return}u.set(t,r)},get(o,t){return s.has(o)&&s.get(o).get(t)||null},remove(o,t){if(!s.has(o))return;let r=s.get(o);r.delete(t),r.size===0&&s.delete(o)}},i=1e6,n=1e3,a="transitionend",f=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(t,r)=>`#${CSS.escape(r)}`)),o),d=o=>o==null?`${o}`:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase(),v=o=>{do o+=Math.floor(Math.random()*i);while(document.getElementById(o));return o},E=o=>{if(!o)return 0;let{transitionDuration:t,transitionDelay:r}=window.getComputedStyle(o),u=Number.parseFloat(t),m=Number.parseFloat(r);return!u&&!m?0:(t=t.split(",")[0],r=r.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(r))*n)},_=o=>{o.dispatchEvent(new Event(a))},D=o=>!o||typeof o!="object"?!1:(typeof o.jquery<"u"&&(o=o[0]),typeof o.nodeType<"u"),w=o=>D(o)?o.jquery?o[0]:o:typeof o=="string"&&o.length>0?document.querySelector(f(o)):null,A=o=>{if(!D(o)||o.getClientRects().length===0)return!1;let t=getComputedStyle(o).getPropertyValue("visibility")==="visible",r=o.closest("details:not([open])");if(!r)return t;if(r!==o){let u=o.closest("summary");if(u&&u.parentNode!==r||u===null)return!1}return t},I=o=>!o||o.nodeType!==Node.ELEMENT_NODE||o.classList.contains("disabled")?!0:typeof o.disabled<"u"?o.disabled:o.hasAttribute("disabled")&&o.getAttribute("disabled")!=="false",W=o=>{if(!document.documentElement.attachShadow)return null;if(typeof o.getRootNode=="function"){let t=o.getRootNode();return t instanceof ShadowRoot?t:null}return o instanceof ShadowRoot?o:o.parentNode?W(o.parentNode):null},Y=()=>{},q=o=>{o.offsetHeight},et=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,M=[],Q=o=>{document.readyState==="loading"?(M.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of M)t()}),M.push(o)):o()},x=()=>document.documentElement.dir==="rtl",Z=o=>{Q(()=>{let t=et();if(t){let r=o.NAME,u=t.fn[r];t.fn[r]=o.jQueryInterface,t.fn[r].Constructor=o,t.fn[r].noConflict=()=>(t.fn[r]=u,o.jQueryInterface)}})},R=(o,t=[],r=o)=>typeof o=="function"?o(...t):r,ht=(o,t,r=!0)=>{if(!r){R(o);return}let m=E(t)+5,b=!1,T=({target:S})=>{S===t&&(b=!0,t.removeEventListener(a,T),R(o))};t.addEventListener(a,T),setTimeout(()=>{b||_(t)},m)},it=(o,t,r,u)=>{let m=o.length,b=o.indexOf(t);return b===-1?!r&&u?o[m-1]:o[0]:(b+=r?1:-1,u&&(b=(b+m)%m),o[Math.max(0,Math.min(b,m-1))])},ft=/[^.]*(?=\..*)\.|.*/,H=/\..*/,X=/::\d+$/,st={},G=1,U={mouseenter:"mouseover",mouseleave:"mouseout"},at=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function yt(o,t){return t&&`${t}::${G++}`||o.uidEvent||G++}function J(o){let t=yt(o);return o.uidEvent=t,st[t]=st[t]||{},st[t]}function xe(o,t){return function r(u){return Nt(u,{delegateTarget:o}),r.oneOff&&C.off(o,u.type,t),t.apply(o,[u])}}function Ft(o,t,r){return function u(m){let b=o.querySelectorAll(t);for(let{target:T}=m;T&&T!==this;T=T.parentNode)for(let S of b)if(S===T)return Nt(m,{delegateTarget:T}),u.oneOff&&C.off(o,m.type,t,r),r.apply(T,[m])}}function ot(o,t,r=null){return Object.values(o).find(u=>u.callable===t&&u.delegationSelector===r)}function mt(o,t,r){let u=typeof t=="string",m=u?r:t||r,b=Yt(o);return at.has(b)||(b=o),[u,m,b]}function B(o,t,r,u,m){if(typeof t!="string"||!o)return;let[b,T,S]=mt(t,r,u);t in U&&(T=(Wt=>function(_t){if(!_t.relatedTarget||_t.relatedTarget!==_t.delegateTarget&&!_t.delegateTarget.contains(_t.relatedTarget))return Wt.call(this,_t)})(T));let N=J(o),K=N[S]||(N[S]={}),k=ot(K,T,b?r:null);if(k){k.oneOff=k.oneOff&&m;return}let dt=yt(T,t.replace(ft,"")),gt=b?Ft(o,r,T):xe(o,T);gt.delegationSelector=b?r:null,gt.callable=T,gt.oneOff=m,gt.uidEvent=dt,K[dt]=gt,o.addEventListener(S,gt,b)}function Ot(o,t,r,u,m){let b=ot(t[r],u,m);b&&(o.removeEventListener(r,b,!!m),delete t[r][b.uidEvent])}function qt(o,t,r,u){let m=t[r]||{};for(let[b,T]of Object.entries(m))b.includes(u)&&Ot(o,t,r,T.callable,T.delegationSelector)}function Yt(o){return o=o.replace(H,""),U[o]||o}let C={on(o,t,r,u){B(o,t,r,u,!1)},one(o,t,r,u){B(o,t,r,u,!0)},off(o,t,r,u){if(typeof t!="string"||!o)return;let[m,b,T]=mt(t,r,u),S=T!==t,N=J(o),K=N[T]||{},k=t.startsWith(".");if(typeof b<"u"){if(!Object.keys(K).length)return;Ot(o,N,T,b,m?r:null);return}if(k)for(let dt of Object.keys(N))qt(o,N,dt,t.slice(1));for(let[dt,gt]of Object.entries(K)){let ct=dt.replace(X,"");(!S||t.includes(ct))&&Ot(o,N,T,gt.callable,gt.delegationSelector)}},trigger(o,t,r){if(typeof t!="string"||!o)return null;let u=et(),m=Yt(t),b=t!==m,T=null,S=!0,N=!0,K=!1;b&&u&&(T=u.Event(t,r),u(o).trigger(T),S=!T.isPropagationStopped(),N=!T.isImmediatePropagationStopped(),K=T.isDefaultPrevented());let k=Nt(new Event(t,{bubbles:S,cancelable:!0}),r);return K&&k.preventDefault(),N&&o.dispatchEvent(k),k.defaultPrevented&&T&&T.preventDefault(),k}};function Nt(o,t={}){for(let[r,u]of Object.entries(t))try{o[r]=u}catch{Object.defineProperty(o,r,{configurable:!0,get(){return u}})}return o}function Pe(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function fe(o){return o.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}let Ct={setDataAttribute(o,t,r){o.setAttribute(`data-bs-${fe(t)}`,r)},removeDataAttribute(o,t){o.removeAttribute(`data-bs-${fe(t)}`)},getDataAttributes(o){if(!o)return{};let t={},r=Object.keys(o.dataset).filter(u=>u.startsWith("bs")&&!u.startsWith("bsConfig"));for(let u of r){let m=u.replace(/^bs/,"");m=m.charAt(0).toLowerCase()+m.slice(1,m.length),t[m]=Pe(o.dataset[u])}return t},getDataAttribute(o,t){return Pe(o.getAttribute(`data-bs-${fe(t)}`))}};class Se{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,r){let u=D(r)?Ct.getDataAttribute(r,"config"):{};return{...this.constructor.Default,...typeof u=="object"?u:{},...D(r)?Ct.getDataAttributes(r):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,r=this.constructor.DefaultType){for(let[u,m]of Object.entries(r)){let b=t[u],T=D(b)?"element":d(b);if(!new RegExp(m).test(T))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${u}" provided type "${T}" but expected type "${m}".`)}}}let Be="5.3.3";class le extends Se{constructor(t,r){super(),t=w(t),t&&(this._element=t,this._config=this._getConfig(r),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),C.off(this._element,this.constructor.EVENT_KEY);for(let t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,r,u=!0){ht(t,r,u)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return e.get(w(t),this.DATA_KEY)}static getOrCreateInstance(t,r={}){return this.getInstance(t)||new this(t,typeof r=="object"?r:null)}static get VERSION(){return Be}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}let ks=o=>{let t=o.getAttribute("data-bs-target");if(!t||t==="#"){let r=o.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),t=r&&r!=="#"?r.trim():null}return t?t.split(",").map(r=>f(r)).join(","):null},z={find(o,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,o))},findOne(o,t=document.documentElement){return Element.prototype.querySelector.call(t,o)},children(o,t){return[].concat(...o.children).filter(r=>r.matches(t))},parents(o,t){let r=[],u=o.parentNode.closest(t);for(;u;)r.push(u),u=u.parentNode.closest(t);return r},prev(o,t){let r=o.previousElementSibling;for(;r;){if(r.matches(t))return[r];r=r.previousElementSibling}return[]},next(o,t){let r=o.nextElementSibling;for(;r;){if(r.matches(t))return[r];r=r.nextElementSibling}return[]},focusableChildren(o){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(r=>`${r}:not([tabindex^="-"])`).join(",");return this.find(t,o).filter(r=>!I(r)&&A(r))},getSelectorFromElement(o){let t=ks(o);return t&&z.findOne(t)?t:null},getElementFromSelector(o){let t=ks(o);return t?z.findOne(t):null},getMultipleElementsFromSelector(o){let t=ks(o);return t?z.find(t):[]}},Is=(o,t="hide")=>{let r=`click.dismiss${o.EVENT_KEY}`,u=o.NAME;C.on(document,r,`[data-bs-dismiss="${u}"]`,function(m){if(["A","AREA"].includes(this.tagName)&&m.preventDefault(),I(this))return;let b=z.getElementFromSelector(this)||this.closest(`.${u}`);o.getOrCreateInstance(b)[t]()})},Hn="alert",je=".bs.alert",Rs=`close${je}`,$s=`closed${je}`,ys="fade",ut="show";class nt extends le{static get NAME(){return Hn}close(){if(C.trigger(this._element,Rs).defaultPrevented)return;this._element.classList.remove(ut);let r=this._element.classList.contains(ys);this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),C.trigger(this._element,$s),this.dispose()}static jQueryInterface(t){return this.each(function(){let r=nt.getOrCreateInstance(this);if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t](this)}})}}Is(nt,"close"),Z(nt);let lt="button",Vs=".bs.button",vn=".data-api",Hs="active",Je='[data-bs-toggle="button"]',Xe=`click${Vs}${vn}`;class he extends le{static get NAME(){return lt}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Hs))}static jQueryInterface(t){return this.each(function(){let r=he.getOrCreateInstance(this);t==="toggle"&&r[t]()})}}C.on(document,Xe,Je,o=>{o.preventDefault();let t=o.target.closest(Je);he.getOrCreateInstance(t).toggle()}),Z(he);let Ue="swipe",ee=".bs.swipe",Xs=`touchstart${ee}`,di=`touchmove${ee}`,En=`touchend${ee}`,Zs=`pointerdown${ee}`,pi=`pointerup${ee}`,Ke="touch",zi="pen",Ir="pointer-event",Bo=40,jo={endCallback:null,leftCallback:null,rightCallback:null},Uo={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class mi extends Se{constructor(t,r){super(),this._element=t,!(!t||!mi.isSupported())&&(this._config=this._getConfig(r),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return jo}static get DefaultType(){return Uo}static get NAME(){return Ue}dispose(){C.off(this._element,ee)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),R(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){let t=Math.abs(this._deltaX);if(t<=Bo)return;let r=t/this._deltaX;this._deltaX=0,r&&R(r>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(C.on(this._element,Zs,t=>this._start(t)),C.on(this._element,pi,t=>this._end(t)),this._element.classList.add(Ir)):(C.on(this._element,Xs,t=>this._start(t)),C.on(this._element,di,t=>this._move(t)),C.on(this._element,En,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===zi||t.pointerType===Ke)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}let Ko="carousel",Bt=".bs.carousel",ws=".data-api",yn="ArrowLeft",wn="ArrowRight",Ye=500,fs="next",Ze="prev",tn="left",Fn="right",Yo=`slide${Bt}`,Gi=`slid${Bt}`,en=`keydown${Bt}`,zo=`mouseenter${Bt}`,Wn=`mouseleave${Bt}`,Rr=`dragstart${Bt}`,Fs=`load${Bt}${ws}`,de=`click${Bt}${ws}`,se="carousel",zt="active",gi="slide",ts="carousel-item-end",Bn="carousel-item-start",$r="carousel-item-next",qi="carousel-item-prev",jn=".active",sn=".carousel-item",Qi=jn+sn,Ji=".carousel-item img",Xi=".carousel-indicators",Zi="[data-bs-slide], [data-bs-slide-to]",tr='[data-bs-ride="carousel"]',er={[yn]:Fn,[wn]:tn},sr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ts={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class nn extends le{constructor(t,r){super(t,r),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=z.findOne(Xi,this._element),this._addEventListeners(),this._config.ride===se&&this.cycle()}static get Default(){return sr}static get DefaultType(){return Ts}static get NAME(){return Ko}next(){this._slide(fs)}nextWhenVisible(){!document.hidden&&A(this._element)&&this.next()}prev(){this._slide(Ze)}pause(){this._isSliding&&_(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){C.one(this._element,Gi,()=>this.cycle());return}this.cycle()}}to(t){let r=this._getItems();if(t>r.length-1||t<0)return;if(this._isSliding){C.one(this._element,Gi,()=>this.to(t));return}let u=this._getItemIndex(this._getActive());if(u===t)return;let m=t>u?fs:Ze;this._slide(m,r[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&C.on(this._element,en,t=>this._keydown(t)),this._config.pause==="hover"&&(C.on(this._element,zo,()=>this.pause()),C.on(this._element,Wn,()=>this._maybeEnableCycle())),this._config.touch&&mi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let u of z.find(Ji,this._element))C.on(u,Rr,m=>m.preventDefault());let r={leftCallback:()=>this._slide(this._directionToOrder(tn)),rightCallback:()=>this._slide(this._directionToOrder(Fn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ye+this._config.interval))}};this._swipeHelper=new mi(this._element,r)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;let r=er[t.key];r&&(t.preventDefault(),this._slide(this._directionToOrder(r)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;let r=z.findOne(jn,this._indicatorsElement);r.classList.remove(zt),r.removeAttribute("aria-current");let u=z.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);u&&(u.classList.add(zt),u.setAttribute("aria-current","true"))}_updateInterval(){let t=this._activeElement||this._getActive();if(!t)return;let r=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=r||this._config.defaultInterval}_slide(t,r=null){if(this._isSliding)return;let u=this._getActive(),m=t===fs,b=r||it(this._getItems(),u,m,this._config.wrap);if(b===u)return;let T=this._getItemIndex(b),S=ct=>C.trigger(this._element,ct,{relatedTarget:b,direction:this._orderToDirection(t),from:this._getItemIndex(u),to:T});if(S(Yo).defaultPrevented||!u||!b)return;let K=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(T),this._activeElement=b;let k=m?Bn:ts,dt=m?$r:qi;b.classList.add(dt),q(b),u.classList.add(k),b.classList.add(k);let gt=()=>{b.classList.remove(k,dt),b.classList.add(zt),u.classList.remove(zt,dt,k),this._isSliding=!1,S(Gi)};this._queueCallback(gt,u,this._isAnimated()),K&&this.cycle()}_isAnimated(){return this._element.classList.contains(gi)}_getActive(){return z.findOne(Qi,this._element)}_getItems(){return z.find(sn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return x()?t===tn?Ze:fs:t===tn?fs:Ze}_orderToDirection(t){return x()?t===Ze?tn:Fn:t===Ze?Fn:tn}static jQueryInterface(t){return this.each(function(){let r=nn.getOrCreateInstance(this,t);if(typeof t=="number"){r.to(t);return}if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t]()}})}}C.on(document,de,Zi,function(o){let t=z.getElementFromSelector(this);if(!t||!t.classList.contains(se))return;o.preventDefault();let r=nn.getOrCreateInstance(t),u=this.getAttribute("data-bs-slide-to");if(u){r.to(u),r._maybeEnableCycle();return}if(Ct.getDataAttribute(this,"slide")==="next"){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()}),C.on(window,Fs,()=>{let o=z.find(tr);for(let t of o)nn.getOrCreateInstance(t)}),Z(nn);let Vr="collapse",Tn=".bs.collapse",Go=".data-api",qo=`show${Tn}`,Qo=`shown${Tn}`,Fr=`hide${Tn}`,Wr=`hidden${Tn}`,Jo=`click${Tn}${Go}`,_i="show",Ws="collapse",rn="collapsing",vi="collapsed",Xo=`:scope .${Ws} .${Ws}`,nr="collapse-horizontal",Zo="width",tl="height",el=".collapse.show, .collapse.collapsing",Bs='[data-bs-toggle="collapse"]',Ei={parent:null,toggle:!0},ir={parent:"(null|element)",toggle:"boolean"};class hs extends le{constructor(t,r){super(t,r),this._isTransitioning=!1,this._triggerArray=[];let u=z.find(Bs);for(let m of u){let b=z.getSelectorFromElement(m),T=z.find(b).filter(S=>S===this._element);b!==null&&T.length&&this._triggerArray.push(m)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ei}static get DefaultType(){return ir}static get NAME(){return Vr}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(el).filter(S=>S!==this._element).map(S=>hs.getOrCreateInstance(S,{toggle:!1}))),t.length&&t[0]._isTransitioning||C.trigger(this._element,qo).defaultPrevented)return;for(let S of t)S.hide();let u=this._getDimension();this._element.classList.remove(Ws),this._element.classList.add(rn),this._element.style[u]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let m=()=>{this._isTransitioning=!1,this._element.classList.remove(rn),this._element.classList.add(Ws,_i),this._element.style[u]="",C.trigger(this._element,Qo)},T=`scroll${u[0].toUpperCase()+u.slice(1)}`;this._queueCallback(m,this._element,!0),this._element.style[u]=`${this._element[T]}px`}hide(){if(this._isTransitioning||!this._isShown()||C.trigger(this._element,Fr).defaultPrevented)return;let r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,q(this._element),this._element.classList.add(rn),this._element.classList.remove(Ws,_i);for(let m of this._triggerArray){let b=z.getElementFromSelector(m);b&&!this._isShown(b)&&this._addAriaAndCollapsedClass([m],!1)}this._isTransitioning=!0;let u=()=>{this._isTransitioning=!1,this._element.classList.remove(rn),this._element.classList.add(Ws),C.trigger(this._element,Wr)};this._element.style[r]="",this._queueCallback(u,this._element,!0)}_isShown(t=this._element){return t.classList.contains(_i)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=w(t.parent),t}_getDimension(){return this._element.classList.contains(nr)?Zo:tl}_initializeChildren(){if(!this._config.parent)return;let t=this._getFirstLevelChildren(Bs);for(let r of t){let u=z.getElementFromSelector(r);u&&this._addAriaAndCollapsedClass([r],this._isShown(u))}}_getFirstLevelChildren(t){let r=z.find(Xo,this._config.parent);return z.find(t,this._config.parent).filter(u=>!r.includes(u))}_addAriaAndCollapsedClass(t,r){if(t.length)for(let u of t)u.classList.toggle(vi,!r),u.setAttribute("aria-expanded",r)}static jQueryInterface(t){let r={};return typeof t=="string"&&/show|hide/.test(t)&&(r.toggle=!1),this.each(function(){let u=hs.getOrCreateInstance(this,r);if(typeof t=="string"){if(typeof u[t]>"u")throw new TypeError(`No method named "${t}"`);u[t]()}})}}C.on(document,Jo,Bs,function(o){(o.target.tagName==="A"||o.delegateTarget&&o.delegateTarget.tagName==="A")&&o.preventDefault();for(let t of z.getMultipleElementsFromSelector(this))hs.getOrCreateInstance(t,{toggle:!1}).toggle()}),Z(hs);var Ce="top",ae="bottom",Re="right",be="left",An="auto",js=[Ce,ae,Re,be],As="start",es="end",on="clippingParents",bi="viewport",ln="popper",an="reference",Us=js.reduce(function(o,t){return o.concat([t+"-"+As,t+"-"+es])},[]),yi=[].concat(js,[An]).reduce(function(o,t){return o.concat([t,t+"-"+As,t+"-"+es])},[]),rr="beforeRead",xt="read",Rt="afterRead",Ss="beforeMain",ce="main",ne="afterMain",ie="beforeWrite",Pt="write",cn="afterWrite",Un=[rr,xt,Rt,Ss,ce,ne,ie,Pt,cn];function ds(o){return o?(o.nodeName||"").toLowerCase():null}function Qt(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var t=o.ownerDocument;return t&&t.defaultView||window}return o}function ye(o){var t=Qt(o).Element;return o instanceof t||o instanceof Element}function ze(o){var t=Qt(o).HTMLElement;return o instanceof t||o instanceof HTMLElement}function or(o){if(typeof ShadowRoot>"u")return!1;var t=Qt(o).ShadowRoot;return o instanceof t||o instanceof ShadowRoot}function sl(o){var t=o.state;Object.keys(t.elements).forEach(function(r){var u=t.styles[r]||{},m=t.attributes[r]||{},b=t.elements[r];!ze(b)||!ds(b)||(Object.assign(b.style,u),Object.keys(m).forEach(function(T){var S=m[T];S===!1?b.removeAttribute(T):b.setAttribute(T,S===!0?"":S)}))})}function nl(o){var t=o.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(u){var m=t.elements[u],b=t.attributes[u]||{},T=Object.keys(t.styles.hasOwnProperty(u)?t.styles[u]:r[u]),S=T.reduce(function(N,K){return N[K]="",N},{});!ze(m)||!ds(m)||(Object.assign(m.style,S),Object.keys(b).forEach(function(N){m.removeAttribute(N)}))})}}let ss={name:"applyStyles",enabled:!0,phase:"write",fn:sl,effect:nl,requires:["computeStyles"]};function pe(o){return o.split("-")[0]}var $e=Math.max,Cs=Math.min,Sn=Math.round;function Ge(){var o=navigator.userAgentData;return o!=null&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Br(){return!/^((?!chrome|android).)*safari/i.test(Ge())}function un(o,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var u=o.getBoundingClientRect(),m=1,b=1;t&&ze(o)&&(m=o.offsetWidth>0&&Sn(u.width)/o.offsetWidth||1,b=o.offsetHeight>0&&Sn(u.height)/o.offsetHeight||1);var T=ye(o)?Qt(o):window,S=T.visualViewport,N=!Br()&&r,K=(u.left+(N&&S?S.offsetLeft:0))/m,k=(u.top+(N&&S?S.offsetTop:0))/b,dt=u.width/m,gt=u.height/b;return{width:dt,height:gt,top:k,right:K+dt,bottom:k+gt,left:K,x:K,y:k}}function wi(o){var t=un(o),r=o.offsetWidth,u=o.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-u)<=1&&(u=t.height),{x:o.offsetLeft,y:o.offsetTop,width:r,height:u}}function Cn(o,t){var r=t.getRootNode&&t.getRootNode();if(o.contains(t))return!0;if(r&&or(r)){var u=t;do{if(u&&o.isSameNode(u))return!0;u=u.parentNode||u.host}while(u)}return!1}function Ve(o){return Qt(o).getComputedStyle(o)}function il(o){return["table","td","th"].indexOf(ds(o))>=0}function ps(o){return((ye(o)?o.ownerDocument:o.document)||window.document).documentElement}function Ti(o){return ds(o)==="html"?o:o.assignedSlot||o.parentNode||(or(o)?o.host:null)||ps(o)}function Ks(o){return!ze(o)||Ve(o).position==="fixed"?null:o.offsetParent}function Ys(o){var t=/firefox/i.test(Ge()),r=/Trident/i.test(Ge());if(r&&ze(o)){var u=Ve(o);if(u.position==="fixed")return null}var m=Ti(o);for(or(m)&&(m=m.host);ze(m)&&["html","body"].indexOf(ds(m))<0;){var b=Ve(m);if(b.transform!=="none"||b.perspective!=="none"||b.contain==="paint"||["transform","perspective"].indexOf(b.willChange)!==-1||t&&b.willChange==="filter"||t&&b.filter&&b.filter!=="none")return m;m=m.parentNode}return null}function Ls(o){for(var t=Qt(o),r=Ks(o);r&&il(r)&&Ve(r).position==="static";)r=Ks(r);return r&&(ds(r)==="html"||ds(r)==="body"&&Ve(r).position==="static")?t:r||Ys(o)||t}function Ai(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function fn(o,t,r){return $e(o,Cs(t,r))}function lr(o,t,r){var u=fn(o,t,r);return u>r?r:u}function Si(){return{top:0,right:0,bottom:0,left:0}}function ar(o){return Object.assign({},Si(),o)}function cr(o,t){return t.reduce(function(r,u){return r[u]=o,r},{})}var jr=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,ar(typeof t!="number"?t:cr(t,js))};function Ur(o){var t,r=o.state,u=o.name,m=o.options,b=r.elements.arrow,T=r.modifiersData.popperOffsets,S=pe(r.placement),N=Ai(S),K=[be,Re].indexOf(S)>=0,k=K?"height":"width";if(!(!b||!T)){var dt=jr(m.padding,r),gt=wi(b),ct=N==="y"?Ce:be,Wt=N==="y"?ae:Re,_t=r.rects.reference[k]+r.rects.reference[N]-T[N]-r.rects.popper[k],wt=T[N]-r.rects.reference[N],Ut=Ls(b),re=Ut?N==="y"?Ut.clientHeight||0:Ut.clientWidth||0:0,oe=_t/2-wt/2,Et=dt[ct],Mt=re-gt[k]-dt[Wt],kt=re/2-gt[k]/2+oe,te=fn(Et,kt,Mt),Ne=N;r.modifiersData[u]=(t={},t[Ne]=te,t.centerOffset=te-kt,t)}}function Kr(o){var t=o.state,r=o.options,u=r.element,m=u===void 0?"[data-popper-arrow]":u;m!=null&&(typeof m=="string"&&(m=t.elements.popper.querySelector(m),!m)||Cn(t.elements.popper,m)&&(t.elements.arrow=m))}let ur={name:"arrow",enabled:!0,phase:"main",fn:Ur,effect:Kr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ln(o){return o.split("-")[1]}var Yr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zr(o,t){var r=o.x,u=o.y,m=t.devicePixelRatio||1;return{x:Sn(r*m)/m||0,y:Sn(u*m)/m||0}}function hn(o){var t,r=o.popper,u=o.popperRect,m=o.placement,b=o.variation,T=o.offsets,S=o.position,N=o.gpuAcceleration,K=o.adaptive,k=o.roundOffsets,dt=o.isFixed,gt=T.x,ct=gt===void 0?0:gt,Wt=T.y,_t=Wt===void 0?0:Wt,wt=typeof k=="function"?k({x:ct,y:_t}):{x:ct,y:_t};ct=wt.x,_t=wt.y;var Ut=T.hasOwnProperty("x"),re=T.hasOwnProperty("y"),oe=be,Et=Ce,Mt=window;if(K){var kt=Ls(r),te="clientHeight",Ne="clientWidth";if(kt===Qt(r)&&(kt=ps(r),Ve(kt).position!=="static"&&S==="absolute"&&(te="scrollHeight",Ne="scrollWidth")),kt=kt,m===Ce||(m===be||m===Re)&&b===es){Et=ae;var Te=dt&&kt===Mt&&Mt.visualViewport?Mt.visualViewport.height:kt[te];_t-=Te-u.height,_t*=N?1:-1}if(m===be||(m===Ce||m===ae)&&b===es){oe=Re;var me=dt&&kt===Mt&&Mt.visualViewport?Mt.visualViewport.width:kt[Ne];ct-=me-u.width,ct*=N?1:-1}}var Ie=Object.assign({position:S},K&&Yr),Ds=k===!0?zr({x:ct,y:_t},Qt(r)):{x:ct,y:_t};if(ct=Ds.x,_t=Ds.y,N){var Fe;return Object.assign({},Ie,(Fe={},Fe[Et]=re?"0":"",Fe[oe]=Ut?"0":"",Fe.transform=(Mt.devicePixelRatio||1)<=1?"translate("+ct+"px, "+_t+"px)":"translate3d("+ct+"px, "+_t+"px, 0)",Fe))}return Object.assign({},Ie,(t={},t[Et]=re?_t+"px":"",t[oe]=Ut?ct+"px":"",t.transform="",t))}function Ci(o){var t=o.state,r=o.options,u=r.gpuAcceleration,m=u===void 0?!0:u,b=r.adaptive,T=b===void 0?!0:b,S=r.roundOffsets,N=S===void 0?!0:S,K={placement:pe(t.placement),variation:Ln(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:m,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,hn(Object.assign({},K,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:T,roundOffsets:N})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,hn(Object.assign({},K,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:N})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}let Jt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ci,data:{}};var Kn={passive:!0};function Xt(o){var t=o.state,r=o.instance,u=o.options,m=u.scroll,b=m===void 0?!0:m,T=u.resize,S=T===void 0?!0:T,N=Qt(t.elements.popper),K=[].concat(t.scrollParents.reference,t.scrollParents.popper);return b&&K.forEach(function(k){k.addEventListener("scroll",r.update,Kn)}),S&&N.addEventListener("resize",r.update,Kn),function(){b&&K.forEach(function(k){k.removeEventListener("scroll",r.update,Kn)}),S&&N.removeEventListener("resize",r.update,Kn)}}let Li={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Xt,data:{}};var fr={left:"right",right:"left",bottom:"top",top:"bottom"};function zs(o){return o.replace(/left|right|bottom|top/g,function(t){return fr[t]})}var rl={start:"end",end:"start"};function Gr(o){return o.replace(/start|end/g,function(t){return rl[t]})}function Yn(o){var t=Qt(o),r=t.pageXOffset,u=t.pageYOffset;return{scrollLeft:r,scrollTop:u}}function l(o){return un(ps(o)).left+Yn(o).scrollLeft}function c(o,t){var r=Qt(o),u=ps(o),m=r.visualViewport,b=u.clientWidth,T=u.clientHeight,S=0,N=0;if(m){b=m.width,T=m.height;var K=Br();(K||!K&&t==="fixed")&&(S=m.offsetLeft,N=m.offsetTop)}return{width:b,height:T,x:S+l(o),y:N}}function h(o){var t,r=ps(o),u=Yn(o),m=(t=o.ownerDocument)==null?void 0:t.body,b=$e(r.scrollWidth,r.clientWidth,m?m.scrollWidth:0,m?m.clientWidth:0),T=$e(r.scrollHeight,r.clientHeight,m?m.scrollHeight:0,m?m.clientHeight:0),S=-u.scrollLeft+l(o),N=-u.scrollTop;return Ve(m||r).direction==="rtl"&&(S+=$e(r.clientWidth,m?m.clientWidth:0)-b),{width:b,height:T,x:S,y:N}}function p(o){var t=Ve(o),r=t.overflow,u=t.overflowX,m=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+m+u)}function g(o){return["html","body","#document"].indexOf(ds(o))>=0?o.ownerDocument.body:ze(o)&&p(o)?o:g(Ti(o))}function y(o,t){var r;t===void 0&&(t=[]);var u=g(o),m=u===((r=o.ownerDocument)==null?void 0:r.body),b=Qt(u),T=m?[b].concat(b.visualViewport||[],p(u)?u:[]):u,S=t.concat(T);return m?S:S.concat(y(Ti(T)))}function L(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function O(o,t){var r=un(o,!1,t==="fixed");return r.top=r.top+o.clientTop,r.left=r.left+o.clientLeft,r.bottom=r.top+o.clientHeight,r.right=r.left+o.clientWidth,r.width=o.clientWidth,r.height=o.clientHeight,r.x=r.left,r.y=r.top,r}function P(o,t,r){return t===bi?L(c(o,r)):ye(t)?O(t,r):L(h(ps(o)))}function $(o){var t=y(Ti(o)),r=["absolute","fixed"].indexOf(Ve(o).position)>=0,u=r&&ze(o)?Ls(o):o;return ye(u)?t.filter(function(m){return ye(m)&&Cn(m,u)&&ds(m)!=="body"}):[]}function V(o,t,r,u){var m=t==="clippingParents"?$(o):[].concat(t),b=[].concat(m,[r]),T=b[0],S=b.reduce(function(N,K){var k=P(o,K,u);return N.top=$e(k.top,N.top),N.right=Cs(k.right,N.right),N.bottom=Cs(k.bottom,N.bottom),N.left=$e(k.left,N.left),N},P(o,T,u));return S.width=S.right-S.left,S.height=S.bottom-S.top,S.x=S.left,S.y=S.top,S}function F(o){var t=o.reference,r=o.element,u=o.placement,m=u?pe(u):null,b=u?Ln(u):null,T=t.x+t.width/2-r.width/2,S=t.y+t.height/2-r.height/2,N;switch(m){case Ce:N={x:T,y:t.y-r.height};break;case ae:N={x:T,y:t.y+t.height};break;case Re:N={x:t.x+t.width,y:S};break;case be:N={x:t.x-r.width,y:S};break;default:N={x:t.x,y:t.y}}var K=m?Ai(m):null;if(K!=null){var k=K==="y"?"height":"width";switch(b){case As:N[K]=N[K]-(t[k]/2-r[k]/2);break;case es:N[K]=N[K]+(t[k]/2-r[k]/2);break}}return N}function tt(o,t){t===void 0&&(t={});var r=t,u=r.placement,m=u===void 0?o.placement:u,b=r.strategy,T=b===void 0?o.strategy:b,S=r.boundary,N=S===void 0?on:S,K=r.rootBoundary,k=K===void 0?bi:K,dt=r.elementContext,gt=dt===void 0?ln:dt,ct=r.altBoundary,Wt=ct===void 0?!1:ct,_t=r.padding,wt=_t===void 0?0:_t,Ut=ar(typeof wt!="number"?wt:cr(wt,js)),re=gt===ln?an:ln,oe=o.rects.popper,Et=o.elements[Wt?re:gt],Mt=V(ye(Et)?Et:Et.contextElement||ps(o.elements.popper),N,k,T),kt=un(o.elements.reference),te=F({reference:kt,element:oe,strategy:"absolute",placement:m}),Ne=L(Object.assign({},oe,te)),Te=gt===ln?Ne:kt,me={top:Mt.top-Te.top+Ut.top,bottom:Te.bottom-Mt.bottom+Ut.bottom,left:Mt.left-Te.left+Ut.left,right:Te.right-Mt.right+Ut.right},Ie=o.modifiersData.offset;if(gt===ln&&Ie){var Ds=Ie[m];Object.keys(me).forEach(function(Fe){var ti=[Re,ae].indexOf(Fe)>=0?1:-1,ei=[Ce,ae].indexOf(Fe)>=0?"y":"x";me[Fe]+=Ds[ei]*ti})}return me}function Dt(o,t){t===void 0&&(t={});var r=t,u=r.placement,m=r.boundary,b=r.rootBoundary,T=r.padding,S=r.flipVariations,N=r.allowedAutoPlacements,K=N===void 0?yi:N,k=Ln(u),dt=k?S?Us:Us.filter(function(Wt){return Ln(Wt)===k}):js,gt=dt.filter(function(Wt){return K.indexOf(Wt)>=0});gt.length===0&&(gt=dt);var ct=gt.reduce(function(Wt,_t){return Wt[_t]=tt(o,{placement:_t,boundary:m,rootBoundary:b,padding:T})[pe(_t)],Wt},{});return Object.keys(ct).sort(function(Wt,_t){return ct[Wt]-ct[_t]})}function vt(o){if(pe(o)===An)return[];var t=zs(o);return[Gr(o),t,Gr(t)]}function pt(o){var t=o.state,r=o.options,u=o.name;if(!t.modifiersData[u]._skip){for(var m=r.mainAxis,b=m===void 0?!0:m,T=r.altAxis,S=T===void 0?!0:T,N=r.fallbackPlacements,K=r.padding,k=r.boundary,dt=r.rootBoundary,gt=r.altBoundary,ct=r.flipVariations,Wt=ct===void 0?!0:ct,_t=r.allowedAutoPlacements,wt=t.options.placement,Ut=pe(wt),re=Ut===wt,oe=N||(re||!Wt?[zs(wt)]:vt(wt)),Et=[wt].concat(oe).reduce(function(Ni,Nn){return Ni.concat(pe(Nn)===An?Dt(t,{placement:Nn,boundary:k,rootBoundary:dt,padding:K,flipVariations:Wt,allowedAutoPlacements:_t}):Nn)},[]),Mt=t.rects.reference,kt=t.rects.popper,te=new Map,Ne=!0,Te=Et[0],me=0;me<Et.length;me++){var Ie=Et[me],Ds=pe(Ie),Fe=Ln(Ie)===As,ti=[Ce,ae].indexOf(Ds)>=0,ei=ti?"width":"height",rs=tt(t,{placement:Ie,boundary:k,rootBoundary:dt,altBoundary:gt,padding:K}),Ns=ti?Fe?Re:be:Fe?ae:Ce;Mt[ei]>kt[ei]&&(Ns=zs(Ns));var no=zs(Ns),si=[];if(b&&si.push(rs[Ds]<=0),S&&si.push(rs[Ns]<=0,rs[no]<=0),si.every(function(Ni){return Ni})){Te=Ie,Ne=!1;break}te.set(Ie,si)}if(Ne)for(var io=Wt?3:1,vl=function(Nn){var gr=Et.find(function(oo){var ni=te.get(oo);if(ni)return ni.slice(0,Nn).every(function(El){return El})});if(gr)return Te=gr,"break"},mr=io;mr>0;mr--){var ro=vl(mr);if(ro==="break")break}t.placement!==Te&&(t.modifiersData[u]._skip=!0,t.placement=Te,t.reset=!0)}}let rt={name:"flip",enabled:!0,phase:"main",fn:pt,requiresIfExists:["offset"],data:{_skip:!1}};function j(o,t,r){return r===void 0&&(r={x:0,y:0}),{top:o.top-t.height-r.y,right:o.right-t.width+r.x,bottom:o.bottom-t.height+r.y,left:o.left-t.width-r.x}}function At(o){return[Ce,Re,ae,be].some(function(t){return o[t]>=0})}function Gt(o){var t=o.state,r=o.name,u=t.rects.reference,m=t.rects.popper,b=t.modifiersData.preventOverflow,T=tt(t,{elementContext:"reference"}),S=tt(t,{altBoundary:!0}),N=j(T,u),K=j(S,m,b),k=At(N),dt=At(K);t.modifiersData[r]={referenceClippingOffsets:N,popperEscapeOffsets:K,isReferenceHidden:k,hasPopperEscaped:dt},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":k,"data-popper-escaped":dt})}let jt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Gt};function $t(o,t,r){var u=pe(o),m=[be,Ce].indexOf(u)>=0?-1:1,b=typeof r=="function"?r(Object.assign({},t,{placement:o})):r,T=b[0],S=b[1];return T=T||0,S=(S||0)*m,[be,Re].indexOf(u)>=0?{x:S,y:T}:{x:T,y:S}}function Zt(o){var t=o.state,r=o.options,u=o.name,m=r.offset,b=m===void 0?[0,0]:m,T=yi.reduce(function(k,dt){return k[dt]=$t(dt,t.rects,b),k},{}),S=T[t.placement],N=S.x,K=S.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=N,t.modifiersData.popperOffsets.y+=K),t.modifiersData[u]=T}let Le={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Zt};function Me(o){var t=o.state,r=o.name;t.modifiersData[r]=F({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}let ke={name:"popperOffsets",enabled:!0,phase:"read",fn:Me,data:{}};function ns(o){return o==="x"?"y":"x"}function is(o){var t=o.state,r=o.options,u=o.name,m=r.mainAxis,b=m===void 0?!0:m,T=r.altAxis,S=T===void 0?!1:T,N=r.boundary,K=r.rootBoundary,k=r.altBoundary,dt=r.padding,gt=r.tether,ct=gt===void 0?!0:gt,Wt=r.tetherOffset,_t=Wt===void 0?0:Wt,wt=tt(t,{boundary:N,rootBoundary:K,padding:dt,altBoundary:k}),Ut=pe(t.placement),re=Ln(t.placement),oe=!re,Et=Ai(Ut),Mt=ns(Et),kt=t.modifiersData.popperOffsets,te=t.rects.reference,Ne=t.rects.popper,Te=typeof _t=="function"?_t(Object.assign({},t.rects,{placement:t.placement})):_t,me=typeof Te=="number"?{mainAxis:Te,altAxis:Te}:Object.assign({mainAxis:0,altAxis:0},Te),Ie=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Ds={x:0,y:0};if(kt){if(b){var Fe,ti=Et==="y"?Ce:be,ei=Et==="y"?ae:Re,rs=Et==="y"?"height":"width",Ns=kt[Et],no=Ns+wt[ti],si=Ns-wt[ei],io=ct?-Ne[rs]/2:0,vl=re===As?te[rs]:Ne[rs],mr=re===As?-Ne[rs]:-te[rs],ro=t.elements.arrow,Ni=ct&&ro?wi(ro):{width:0,height:0},Nn=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Si(),gr=Nn[ti],oo=Nn[ei],ni=fn(0,te[rs],Ni[rs]),El=oe?te[rs]/2-io-ni-gr-me.mainAxis:vl-ni-gr-me.mainAxis,ip=oe?-te[rs]/2+io+ni+oo+me.mainAxis:mr+ni+oo+me.mainAxis,bl=t.elements.arrow&&Ls(t.elements.arrow),rp=bl?Et==="y"?bl.clientTop||0:bl.clientLeft||0:0,hc=(Fe=Ie?.[Et])!=null?Fe:0,op=Ns+El-hc-rp,lp=Ns+ip-hc,dc=fn(ct?Cs(no,op):no,Ns,ct?$e(si,lp):si);kt[Et]=dc,Ds[Et]=dc-Ns}if(S){var pc,ap=Et==="x"?Ce:be,cp=Et==="x"?ae:Re,ii=kt[Mt],lo=Mt==="y"?"height":"width",mc=ii+wt[ap],gc=ii-wt[cp],yl=[Ce,be].indexOf(Ut)!==-1,_c=(pc=Ie?.[Mt])!=null?pc:0,vc=yl?mc:ii-te[lo]-Ne[lo]-_c+me.altAxis,Ec=yl?ii+te[lo]+Ne[lo]-_c-me.altAxis:gc,bc=ct&&yl?lr(vc,ii,Ec):fn(ct?vc:mc,ii,ct?Ec:gc);kt[Mt]=bc,Ds[Mt]=bc-ii}t.modifiersData[u]=Ds}}let we={name:"preventOverflow",enabled:!0,phase:"main",fn:is,requiresIfExists:["offset"]};function ms(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function Oe(o){return o===Qt(o)||!ze(o)?Yn(o):ms(o)}function De(o){var t=o.getBoundingClientRect(),r=Sn(t.width)/o.offsetWidth||1,u=Sn(t.height)/o.offsetHeight||1;return r!==1||u!==1}function He(o,t,r){r===void 0&&(r=!1);var u=ze(t),m=ze(t)&&De(t),b=ps(t),T=un(o,m,r),S={scrollLeft:0,scrollTop:0},N={x:0,y:0};return(u||!u&&!r)&&((ds(t)!=="body"||p(b))&&(S=Oe(t)),ze(t)?(N=un(t,!0),N.x+=t.clientLeft,N.y+=t.clientTop):b&&(N.x=l(b))),{x:T.left+S.scrollLeft-N.x,y:T.top+S.scrollTop-N.y,width:T.width,height:T.height}}function On(o){var t=new Map,r=new Set,u=[];o.forEach(function(b){t.set(b.name,b)});function m(b){r.add(b.name);var T=[].concat(b.requires||[],b.requiresIfExists||[]);T.forEach(function(S){if(!r.has(S)){var N=t.get(S);N&&m(N)}}),u.push(b)}return o.forEach(function(b){r.has(b.name)||m(b)}),u}function Gs(o){var t=On(o);return Un.reduce(function(r,u){return r.concat(t.filter(function(m){return m.phase===u}))},[])}function qe(o){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(o())})})),t}}function bf(o){var t=o.reduce(function(r,u){var m=r[u.name];return r[u.name]=m?Object.assign({},m,u,{options:Object.assign({},m.options,u.options),data:Object.assign({},m.data,u.data)}):u,r},{});return Object.keys(t).map(function(r){return t[r]})}var Ca={placement:"bottom",modifiers:[],strategy:"absolute"};function La(){for(var o=arguments.length,t=new Array(o),r=0;r<o;r++)t[r]=arguments[r];return!t.some(function(u){return!(u&&typeof u.getBoundingClientRect=="function")})}function qr(o){o===void 0&&(o={});var t=o,r=t.defaultModifiers,u=r===void 0?[]:r,m=t.defaultOptions,b=m===void 0?Ca:m;return function(S,N,K){K===void 0&&(K=b);var k={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ca,b),modifiersData:{},elements:{reference:S,popper:N},attributes:{},styles:{}},dt=[],gt=!1,ct={state:k,setOptions:function(Ut){var re=typeof Ut=="function"?Ut(k.options):Ut;_t(),k.options=Object.assign({},b,k.options,re),k.scrollParents={reference:ye(S)?y(S):S.contextElement?y(S.contextElement):[],popper:y(N)};var oe=Gs(bf([].concat(u,k.options.modifiers)));return k.orderedModifiers=oe.filter(function(Et){return Et.enabled}),Wt(),ct.update()},forceUpdate:function(){if(!gt){var Ut=k.elements,re=Ut.reference,oe=Ut.popper;if(La(re,oe)){k.rects={reference:He(re,Ls(oe),k.options.strategy==="fixed"),popper:wi(oe)},k.reset=!1,k.placement=k.options.placement,k.orderedModifiers.forEach(function(me){return k.modifiersData[me.name]=Object.assign({},me.data)});for(var Et=0;Et<k.orderedModifiers.length;Et++){if(k.reset===!0){k.reset=!1,Et=-1;continue}var Mt=k.orderedModifiers[Et],kt=Mt.fn,te=Mt.options,Ne=te===void 0?{}:te,Te=Mt.name;typeof kt=="function"&&(k=kt({state:k,options:Ne,name:Te,instance:ct})||k)}}}},update:qe(function(){return new Promise(function(wt){ct.forceUpdate(),wt(k)})}),destroy:function(){_t(),gt=!0}};if(!La(S,N))return ct;ct.setOptions(K).then(function(wt){!gt&&K.onFirstUpdate&&K.onFirstUpdate(wt)});function Wt(){k.orderedModifiers.forEach(function(wt){var Ut=wt.name,re=wt.options,oe=re===void 0?{}:re,Et=wt.effect;if(typeof Et=="function"){var Mt=Et({state:k,name:Ut,instance:ct,options:oe}),kt=function(){};dt.push(Mt||kt)}})}function _t(){dt.forEach(function(wt){return wt()}),dt=[]}return ct}}var yf=qr(),wf=[Li,ke,Jt,ss],Tf=qr({defaultModifiers:wf}),Af=[Li,ke,Jt,ss,Le,rt,we,ur,jt],ol=qr({defaultModifiers:Af});let Oa=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ne,afterRead:Rt,afterWrite:cn,applyStyles:ss,arrow:ur,auto:An,basePlacements:js,beforeMain:Ss,beforeRead:rr,beforeWrite:ie,bottom:ae,clippingParents:on,computeStyles:Jt,createPopper:ol,createPopperBase:yf,createPopperLite:Tf,detectOverflow:tt,end:es,eventListeners:Li,flip:rt,hide:jt,left:be,main:ce,modifierPhases:Un,offset:Le,placements:yi,popper:ln,popperGenerator:qr,popperOffsets:ke,preventOverflow:we,read:xt,reference:an,right:Re,start:As,top:Ce,variationPlacements:Us,viewport:bi,write:Pt},Symbol.toStringTag,{value:"Module"})),Da="dropdown",zn=".bs.dropdown",ll=".data-api",Sf="Escape",Na="Tab",Cf="ArrowUp",xa="ArrowDown",Lf=2,Of=`hide${zn}`,Df=`hidden${zn}`,Nf=`show${zn}`,xf=`shown${zn}`,Pa=`click${zn}${ll}`,Ma=`keydown${zn}${ll}`,Pf=`keyup${zn}${ll}`,Oi="show",Mf="dropup",kf="dropend",If="dropstart",Rf="dropup-center",$f="dropdown-center",Gn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Vf=`${Gn}.${Oi}`,Qr=".dropdown-menu",Hf=".navbar",Ff=".navbar-nav",Wf=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Bf=x()?"top-end":"top-start",jf=x()?"top-start":"top-end",Uf=x()?"bottom-end":"bottom-start",Kf=x()?"bottom-start":"bottom-end",Yf=x()?"left-start":"right-start",zf=x()?"right-start":"left-start",Gf="top",qf="bottom",Qf={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Jf={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Os extends le{constructor(t,r){super(t,r),this._popper=null,this._parent=this._element.parentNode,this._menu=z.next(this._element,Qr)[0]||z.prev(this._element,Qr)[0]||z.findOne(Qr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Qf}static get DefaultType(){return Jf}static get NAME(){return Da}toggle(){return this._isShown()?this.hide():this.show()}show(){if(I(this._element)||this._isShown())return;let t={relatedTarget:this._element};if(!C.trigger(this._element,Nf,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Ff))for(let u of[].concat(...document.body.children))C.on(u,"mouseover",Y);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Oi),this._element.classList.add(Oi),C.trigger(this._element,xf,t)}}hide(){if(I(this._element)||!this._isShown())return;let t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!C.trigger(this._element,Of,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(let u of[].concat(...document.body.children))C.off(u,"mouseover",Y);this._popper&&this._popper.destroy(),this._menu.classList.remove(Oi),this._element.classList.remove(Oi),this._element.setAttribute("aria-expanded","false"),Ct.removeDataAttribute(this._menu,"popper"),C.trigger(this._element,Df,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!D(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${Da.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof Oa>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:D(this._config.reference)?t=w(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);let r=this._getPopperConfig();this._popper=ol(t,this._menu,r)}_isShown(){return this._menu.classList.contains(Oi)}_getPlacement(){let t=this._parent;if(t.classList.contains(kf))return Yf;if(t.classList.contains(If))return zf;if(t.classList.contains(Rf))return Gf;if(t.classList.contains($f))return qf;let r=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Mf)?r?jf:Bf:r?Kf:Uf}_detectNavbar(){return this._element.closest(Hf)!==null}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(r=>Number.parseInt(r,10)):typeof t=="function"?r=>t(r,this._element):t}_getPopperConfig(){let t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ct.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...R(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:r}){let u=z.find(Wf,this._menu).filter(m=>A(m));u.length&&it(u,r,t===xa,!u.includes(r)).focus()}static jQueryInterface(t){return this.each(function(){let r=Os.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}static clearMenus(t){if(t.button===Lf||t.type==="keyup"&&t.key!==Na)return;let r=z.find(Vf);for(let u of r){let m=Os.getInstance(u);if(!m||m._config.autoClose===!1)continue;let b=t.composedPath(),T=b.includes(m._menu);if(b.includes(m._element)||m._config.autoClose==="inside"&&!T||m._config.autoClose==="outside"&&T||m._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Na||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;let S={relatedTarget:m._element};t.type==="click"&&(S.clickEvent=t),m._completeHide(S)}}static dataApiKeydownHandler(t){let r=/input|textarea/i.test(t.target.tagName),u=t.key===Sf,m=[Cf,xa].includes(t.key);if(!m&&!u||r&&!u)return;t.preventDefault();let b=this.matches(Gn)?this:z.prev(this,Gn)[0]||z.next(this,Gn)[0]||z.findOne(Gn,t.delegateTarget.parentNode),T=Os.getOrCreateInstance(b);if(m){t.stopPropagation(),T.show(),T._selectMenuItem(t);return}T._isShown()&&(t.stopPropagation(),T.hide(),b.focus())}}C.on(document,Ma,Gn,Os.dataApiKeydownHandler),C.on(document,Ma,Qr,Os.dataApiKeydownHandler),C.on(document,Pa,Os.clearMenus),C.on(document,Pf,Os.clearMenus),C.on(document,Pa,Gn,function(o){o.preventDefault(),Os.getOrCreateInstance(this).toggle()}),Z(Os);let ka="backdrop",Xf="fade",Ia="show",Ra=`mousedown.bs.${ka}`,Zf={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},th={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class $a extends Se{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Zf}static get DefaultType(){return th}static get NAME(){return ka}show(t){if(!this._config.isVisible){R(t);return}this._append();let r=this._getElement();this._config.isAnimated&&q(r),r.classList.add(Ia),this._emulateAnimation(()=>{R(t)})}hide(t){if(!this._config.isVisible){R(t);return}this._getElement().classList.remove(Ia),this._emulateAnimation(()=>{this.dispose(),R(t)})}dispose(){this._isAppended&&(C.off(this._element,Ra),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Xf),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=w(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),C.on(t,Ra,()=>{R(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){ht(t,this._getElement(),this._config.isAnimated)}}let eh="focustrap",Jr=".bs.focustrap",sh=`focusin${Jr}`,nh=`keydown.tab${Jr}`,ih="Tab",rh="forward",Va="backward",oh={autofocus:!0,trapElement:null},lh={autofocus:"boolean",trapElement:"element"};class Ha extends Se{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return oh}static get DefaultType(){return lh}static get NAME(){return eh}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),C.off(document,Jr),C.on(document,sh,t=>this._handleFocusin(t)),C.on(document,nh,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,C.off(document,Jr))}_handleFocusin(t){let{trapElement:r}=this._config;if(t.target===document||t.target===r||r.contains(t.target))return;let u=z.focusableChildren(r);u.length===0?r.focus():this._lastTabNavDirection===Va?u[u.length-1].focus():u[0].focus()}_handleKeydown(t){t.key===ih&&(this._lastTabNavDirection=t.shiftKey?Va:rh)}}let Fa=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Wa=".sticky-top",Xr="padding-right",Ba="margin-right";class al{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Xr,r=>r+t),this._setElementAttributes(Fa,Xr,r=>r+t),this._setElementAttributes(Wa,Ba,r=>r-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Xr),this._resetElementAttributes(Fa,Xr),this._resetElementAttributes(Wa,Ba)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,r,u){let m=this.getWidth(),b=T=>{if(T!==this._element&&window.innerWidth>T.clientWidth+m)return;this._saveInitialAttribute(T,r);let S=window.getComputedStyle(T).getPropertyValue(r);T.style.setProperty(r,`${u(Number.parseFloat(S))}px`)};this._applyManipulationCallback(t,b)}_saveInitialAttribute(t,r){let u=t.style.getPropertyValue(r);u&&Ct.setDataAttribute(t,r,u)}_resetElementAttributes(t,r){let u=m=>{let b=Ct.getDataAttribute(m,r);if(b===null){m.style.removeProperty(r);return}Ct.removeDataAttribute(m,r),m.style.setProperty(r,b)};this._applyManipulationCallback(t,u)}_applyManipulationCallback(t,r){if(D(t)){r(t);return}for(let u of z.find(t,this._element))r(u)}}let ah="modal",gs=".bs.modal",ch=".data-api",uh="Escape",fh=`hide${gs}`,hh=`hidePrevented${gs}`,ja=`hidden${gs}`,Ua=`show${gs}`,dh=`shown${gs}`,ph=`resize${gs}`,mh=`click.dismiss${gs}`,gh=`mousedown.dismiss${gs}`,_h=`keydown.dismiss${gs}`,vh=`click${gs}${ch}`,Ka="modal-open",Eh="fade",Ya="show",cl="modal-static",bh=".modal.show",yh=".modal-dialog",wh=".modal-body",Th='[data-bs-toggle="modal"]',Ah={backdrop:!0,focus:!0,keyboard:!0},Sh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class qn extends le{constructor(t,r){super(t,r),this._dialog=z.findOne(yh,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new al,this._addEventListeners()}static get Default(){return Ah}static get DefaultType(){return Sh}static get NAME(){return ah}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||C.trigger(this._element,Ua,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ka),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||C.trigger(this._element,fh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ya),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){C.off(window,gs),C.off(this._dialog,gs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new $a({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ha({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let r=z.findOne(wh,this._dialog);r&&(r.scrollTop=0),q(this._element),this._element.classList.add(Ya);let u=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,C.trigger(this._element,dh,{relatedTarget:t})};this._queueCallback(u,this._dialog,this._isAnimated())}_addEventListeners(){C.on(this._element,_h,t=>{if(t.key===uh){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),C.on(window,ph,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),C.on(this._element,gh,t=>{C.one(this._element,mh,r=>{if(!(this._element!==t.target||this._element!==r.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ka),this._resetAdjustments(),this._scrollBar.reset(),C.trigger(this._element,ja)})}_isAnimated(){return this._element.classList.contains(Eh)}_triggerBackdropTransition(){if(C.trigger(this._element,hh).defaultPrevented)return;let r=this._element.scrollHeight>document.documentElement.clientHeight,u=this._element.style.overflowY;u==="hidden"||this._element.classList.contains(cl)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(cl),this._queueCallback(()=>{this._element.classList.remove(cl),this._queueCallback(()=>{this._element.style.overflowY=u},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._scrollBar.getWidth(),u=r>0;if(u&&!t){let m=x()?"paddingLeft":"paddingRight";this._element.style[m]=`${r}px`}if(!u&&t){let m=x()?"paddingRight":"paddingLeft";this._element.style[m]=`${r}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,r){return this.each(function(){let u=qn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof u[t]>"u")throw new TypeError(`No method named "${t}"`);u[t](r)}})}}C.on(document,vh,Th,function(o){let t=z.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),C.one(t,Ua,m=>{m.defaultPrevented||C.one(t,ja,()=>{A(this)&&this.focus()})});let r=z.findOne(bh);r&&qn.getInstance(r).hide(),qn.getOrCreateInstance(t).toggle(this)}),Is(qn),Z(qn);let Ch="offcanvas",dn=".bs.offcanvas",za=".data-api",Lh=`load${dn}${za}`,Oh="Escape",Ga="show",qa="showing",Qa="hiding",Dh="offcanvas-backdrop",Ja=".offcanvas.show",Nh=`show${dn}`,xh=`shown${dn}`,Ph=`hide${dn}`,Xa=`hidePrevented${dn}`,Za=`hidden${dn}`,Mh=`resize${dn}`,kh=`click${dn}${za}`,Ih=`keydown.dismiss${dn}`,Rh='[data-bs-toggle="offcanvas"]',$h={backdrop:!0,keyboard:!0,scroll:!1},Vh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class pn extends le{constructor(t,r){super(t,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return $h}static get DefaultType(){return Vh}static get NAME(){return Ch}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||C.trigger(this._element,Nh,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new al().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(qa);let u=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Ga),this._element.classList.remove(qa),C.trigger(this._element,xh,{relatedTarget:t})};this._queueCallback(u,this._element,!0)}hide(){if(!this._isShown||C.trigger(this._element,Ph).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Qa),this._backdrop.hide();let r=()=>{this._element.classList.remove(Ga,Qa),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new al().reset(),C.trigger(this._element,Za)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let t=()=>{if(this._config.backdrop==="static"){C.trigger(this._element,Xa);return}this.hide()},r=!!this._config.backdrop;return new $a({className:Dh,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?t:null})}_initializeFocusTrap(){return new Ha({trapElement:this._element})}_addEventListeners(){C.on(this._element,Ih,t=>{if(t.key===Oh){if(this._config.keyboard){this.hide();return}C.trigger(this._element,Xa)}})}static jQueryInterface(t){return this.each(function(){let r=pn.getOrCreateInstance(this,t);if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t](this)}})}}C.on(document,kh,Rh,function(o){let t=z.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),I(this))return;C.one(t,Za,()=>{A(this)&&this.focus()});let r=z.findOne(Ja);r&&r!==t&&pn.getInstance(r).hide(),pn.getOrCreateInstance(t).toggle(this)}),C.on(window,Lh,()=>{for(let o of z.find(Ja))pn.getOrCreateInstance(o).show()}),C.on(window,Mh,()=>{for(let o of z.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(o).position!=="fixed"&&pn.getOrCreateInstance(o).hide()}),Is(pn),Z(pn);let tc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Hh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Fh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Wh=(o,t)=>{let r=o.nodeName.toLowerCase();return t.includes(r)?Hh.has(r)?!!Fh.test(o.nodeValue):!0:t.filter(u=>u instanceof RegExp).some(u=>u.test(r))};function Bh(o,t,r){if(!o.length)return o;if(r&&typeof r=="function")return r(o);let m=new window.DOMParser().parseFromString(o,"text/html"),b=[].concat(...m.body.querySelectorAll("*"));for(let T of b){let S=T.nodeName.toLowerCase();if(!Object.keys(t).includes(S)){T.remove();continue}let N=[].concat(...T.attributes),K=[].concat(t["*"]||[],t[S]||[]);for(let k of N)Wh(k,K)||T.removeAttribute(k.nodeName)}return m.body.innerHTML}let jh="TemplateFactory",Uh={allowList:tc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Kh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Yh={entry:"(string|element|function|null)",selector:"(string|element)"};class zh extends Se{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Uh}static get DefaultType(){return Kh}static get NAME(){return jh}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){let t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(let[m,b]of Object.entries(this._config.content))this._setContent(t,b,m);let r=t.children[0],u=this._resolvePossibleFunction(this._config.extraClass);return u&&r.classList.add(...u.split(" ")),r}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(let[r,u]of Object.entries(t))super._typeCheckConfig({selector:r,entry:u},Yh)}_setContent(t,r,u){let m=z.findOne(u,t);if(m){if(r=this._resolvePossibleFunction(r),!r){m.remove();return}if(D(r)){this._putElementInTemplate(w(r),m);return}if(this._config.html){m.innerHTML=this._maybeSanitize(r);return}m.textContent=r}}_maybeSanitize(t){return this._config.sanitize?Bh(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return R(t,[this])}_putElementInTemplate(t,r){if(this._config.html){r.innerHTML="",r.append(t);return}r.textContent=t.textContent}}let Gh="tooltip",qh=new Set(["sanitize","allowList","sanitizeFn"]),ul="fade",Qh="modal",Zr="show",Jh=".tooltip-inner",ec=`.${Qh}`,sc="hide.bs.modal",hr="hover",fl="focus",Xh="click",Zh="manual",td="hide",ed="hidden",sd="show",nd="shown",id="inserted",rd="click",od="focusin",ld="focusout",ad="mouseenter",cd="mouseleave",ud={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},fd={allowList:tc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},hd={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Qn extends le{constructor(t,r){if(typeof Oa>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,r),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return fd}static get DefaultType(){return hd}static get NAME(){return Gh}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),C.off(this._element.closest(ec),sc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let t=C.trigger(this._element,this.constructor.eventName(sd)),u=(W(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!u)return;this._disposePopper();let m=this._getTipElement();this._element.setAttribute("aria-describedby",m.getAttribute("id"));let{container:b}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(b.append(m),C.trigger(this._element,this.constructor.eventName(id))),this._popper=this._createPopper(m),m.classList.add(Zr),"ontouchstart"in document.documentElement)for(let S of[].concat(...document.body.children))C.on(S,"mouseover",Y);let T=()=>{C.trigger(this._element,this.constructor.eventName(nd)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(T,this.tip,this._isAnimated())}hide(){if(!this._isShown()||C.trigger(this._element,this.constructor.eventName(td)).defaultPrevented)return;if(this._getTipElement().classList.remove(Zr),"ontouchstart"in document.documentElement)for(let m of[].concat(...document.body.children))C.off(m,"mouseover",Y);this._activeTrigger[Xh]=!1,this._activeTrigger[fl]=!1,this._activeTrigger[hr]=!1,this._isHovered=null;let u=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),C.trigger(this._element,this.constructor.eventName(ed)))};this._queueCallback(u,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){let r=this._getTemplateFactory(t).toHtml();if(!r)return null;r.classList.remove(ul,Zr),r.classList.add(`bs-${this.constructor.NAME}-auto`);let u=v(this.constructor.NAME).toString();return r.setAttribute("id",u),this._isAnimated()&&r.classList.add(ul),r}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new zh({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Jh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ul)}_isShown(){return this.tip&&this.tip.classList.contains(Zr)}_createPopper(t){let r=R(this._config.placement,[this,t,this._element]),u=ud[r.toUpperCase()];return ol(this._element,t,this._getPopperConfig(u))}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(r=>Number.parseInt(r,10)):typeof t=="function"?r=>t(r,this._element):t}_resolvePossibleFunction(t){return R(t,[this._element])}_getPopperConfig(t){let r={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:u=>{this._getTipElement().setAttribute("data-popper-placement",u.state.placement)}}]};return{...r,...R(this._config.popperConfig,[r])}}_setListeners(){let t=this._config.trigger.split(" ");for(let r of t)if(r==="click")C.on(this._element,this.constructor.eventName(rd),this._config.selector,u=>{this._initializeOnDelegatedTarget(u).toggle()});else if(r!==Zh){let u=r===hr?this.constructor.eventName(ad):this.constructor.eventName(od),m=r===hr?this.constructor.eventName(cd):this.constructor.eventName(ld);C.on(this._element,u,this._config.selector,b=>{let T=this._initializeOnDelegatedTarget(b);T._activeTrigger[b.type==="focusin"?fl:hr]=!0,T._enter()}),C.on(this._element,m,this._config.selector,b=>{let T=this._initializeOnDelegatedTarget(b);T._activeTrigger[b.type==="focusout"?fl:hr]=T._element.contains(b.relatedTarget),T._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},C.on(this._element.closest(ec),sc,this._hideModalHandler)}_fixTitle(){let t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,r){clearTimeout(this._timeout),this._timeout=setTimeout(t,r)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){let r=Ct.getDataAttributes(this._element);for(let u of Object.keys(r))qh.has(u)&&delete r[u];return t={...r,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:w(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){let t={};for(let[r,u]of Object.entries(this._config))this.constructor.Default[r]!==u&&(t[r]=u);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){let r=Qn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}Z(Qn);let dd="popover",pd=".popover-header",md=".popover-body",gd={...Qn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},_d={...Qn.DefaultType,content:"(null|string|element|function)"};class to extends Qn{static get Default(){return gd}static get DefaultType(){return _d}static get NAME(){return dd}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[pd]:this._getTitle(),[md]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){let r=to.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}Z(to);let vd="scrollspy",hl=".bs.scrollspy",Ed=".data-api",bd=`activate${hl}`,nc=`click${hl}`,yd=`load${hl}${Ed}`,wd="dropdown-item",Di="active",Td='[data-bs-spy="scroll"]',dl="[href]",Ad=".nav, .list-group",ic=".nav-link",Sd=`${ic}, .nav-item > ${ic}, .list-group-item`,Cd=".dropdown",Ld=".dropdown-toggle",Od={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Dd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class dr extends le{constructor(t,r){super(t,r),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Od}static get DefaultType(){return Dd}static get NAME(){return vd}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=w(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(r=>Number.parseFloat(r))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(C.off(this._config.target,nc),C.on(this._config.target,nc,dl,t=>{let r=this._observableSections.get(t.target.hash);if(r){t.preventDefault();let u=this._rootElement||window,m=r.offsetTop-this._element.offsetTop;if(u.scrollTo){u.scrollTo({top:m,behavior:"smooth"});return}u.scrollTop=m}}))}_getNewObserver(){let t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(r=>this._observerCallback(r),t)}_observerCallback(t){let r=T=>this._targetLinks.get(`#${T.target.id}`),u=T=>{this._previousScrollData.visibleEntryTop=T.target.offsetTop,this._process(r(T))},m=(this._rootElement||document.documentElement).scrollTop,b=m>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=m;for(let T of t){if(!T.isIntersecting){this._activeTarget=null,this._clearActiveClass(r(T));continue}let S=T.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(b&&S){if(u(T),!m)return;continue}!b&&!S&&u(T)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let t=z.find(dl,this._config.target);for(let r of t){if(!r.hash||I(r))continue;let u=z.findOne(decodeURI(r.hash),this._element);A(u)&&(this._targetLinks.set(decodeURI(r.hash),r),this._observableSections.set(r.hash,u))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Di),this._activateParents(t),C.trigger(this._element,bd,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(wd)){z.findOne(Ld,t.closest(Cd)).classList.add(Di);return}for(let r of z.parents(t,Ad))for(let u of z.prev(r,Sd))u.classList.add(Di)}_clearActiveClass(t){t.classList.remove(Di);let r=z.find(`${dl}.${Di}`,t);for(let u of r)u.classList.remove(Di)}static jQueryInterface(t){return this.each(function(){let r=dr.getOrCreateInstance(this,t);if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t]()}})}}C.on(window,yd,()=>{for(let o of z.find(Td))dr.getOrCreateInstance(o)}),Z(dr);let Nd="tab",Jn=".bs.tab",xd=`hide${Jn}`,Pd=`hidden${Jn}`,Md=`show${Jn}`,kd=`shown${Jn}`,Id=`click${Jn}`,Rd=`keydown${Jn}`,$d=`load${Jn}`,Vd="ArrowLeft",rc="ArrowRight",Hd="ArrowUp",oc="ArrowDown",pl="Home",lc="End",Xn="active",ac="fade",ml="show",Fd="dropdown",cc=".dropdown-toggle",Wd=".dropdown-menu",gl=`:not(${cc})`,Bd='.list-group, .nav, [role="tablist"]',jd=".nav-item, .list-group-item",Ud=`.nav-link${gl}, .list-group-item${gl}, [role="tab"]${gl}`,uc='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',_l=`${Ud}, ${uc}`,Kd=`.${Xn}[data-bs-toggle="tab"], .${Xn}[data-bs-toggle="pill"], .${Xn}[data-bs-toggle="list"]`;class Zn extends le{constructor(t){super(t),this._parent=this._element.closest(Bd),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),C.on(this._element,Rd,r=>this._keydown(r)))}static get NAME(){return Nd}show(){let t=this._element;if(this._elemIsActive(t))return;let r=this._getActiveElem(),u=r?C.trigger(r,xd,{relatedTarget:t}):null;C.trigger(t,Md,{relatedTarget:r}).defaultPrevented||u&&u.defaultPrevented||(this._deactivate(r,t),this._activate(t,r))}_activate(t,r){if(!t)return;t.classList.add(Xn),this._activate(z.getElementFromSelector(t));let u=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(ml);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),C.trigger(t,kd,{relatedTarget:r})};this._queueCallback(u,t,t.classList.contains(ac))}_deactivate(t,r){if(!t)return;t.classList.remove(Xn),t.blur(),this._deactivate(z.getElementFromSelector(t));let u=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(ml);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),C.trigger(t,Pd,{relatedTarget:r})};this._queueCallback(u,t,t.classList.contains(ac))}_keydown(t){if(![Vd,rc,Hd,oc,pl,lc].includes(t.key))return;t.stopPropagation(),t.preventDefault();let r=this._getChildren().filter(m=>!I(m)),u;if([pl,lc].includes(t.key))u=r[t.key===pl?0:r.length-1];else{let m=[rc,oc].includes(t.key);u=it(r,t.target,m,!0)}u&&(u.focus({preventScroll:!0}),Zn.getOrCreateInstance(u).show())}_getChildren(){return z.find(_l,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,r){this._setAttributeIfNotExists(t,"role","tablist");for(let u of r)this._setInitialAttributesOnChild(u)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);let r=this._elemIsActive(t),u=this._getOuterElement(t);t.setAttribute("aria-selected",r),u!==t&&this._setAttributeIfNotExists(u,"role","presentation"),r||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){let r=z.getElementFromSelector(t);r&&(this._setAttributeIfNotExists(r,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(r,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,r){let u=this._getOuterElement(t);if(!u.classList.contains(Fd))return;let m=(b,T)=>{let S=z.findOne(b,u);S&&S.classList.toggle(T,r)};m(cc,Xn),m(Wd,ml),u.setAttribute("aria-expanded",r)}_setAttributeIfNotExists(t,r,u){t.hasAttribute(r)||t.setAttribute(r,u)}_elemIsActive(t){return t.classList.contains(Xn)}_getInnerElement(t){return t.matches(_l)?t:z.findOne(_l,t)}_getOuterElement(t){return t.closest(jd)||t}static jQueryInterface(t){return this.each(function(){let r=Zn.getOrCreateInstance(this);if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t]()}})}}C.on(document,Id,uc,function(o){["A","AREA"].includes(this.tagName)&&o.preventDefault(),!I(this)&&Zn.getOrCreateInstance(this).show()}),C.on(window,$d,()=>{for(let o of z.find(Kd))Zn.getOrCreateInstance(o)}),Z(Zn);let Yd="toast",Dn=".bs.toast",zd=`mouseover${Dn}`,Gd=`mouseout${Dn}`,qd=`focusin${Dn}`,Qd=`focusout${Dn}`,Jd=`hide${Dn}`,Xd=`hidden${Dn}`,Zd=`show${Dn}`,tp=`shown${Dn}`,ep="fade",fc="hide",eo="show",so="showing",sp={animation:"boolean",autohide:"boolean",delay:"number"},np={animation:!0,autohide:!0,delay:5e3};class pr extends le{constructor(t,r){super(t,r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return np}static get DefaultType(){return sp}static get NAME(){return Yd}show(){if(C.trigger(this._element,Zd).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(ep);let r=()=>{this._element.classList.remove(so),C.trigger(this._element,tp),this._maybeScheduleHide()};this._element.classList.remove(fc),q(this._element),this._element.classList.add(eo,so),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this.isShown()||C.trigger(this._element,Jd).defaultPrevented)return;let r=()=>{this._element.classList.add(fc),this._element.classList.remove(so,eo),C.trigger(this._element,Xd)};this._element.classList.add(so),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(eo),super.dispose()}isShown(){return this._element.classList.contains(eo)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,r){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=r;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=r;break}}if(r){this._clearTimeout();return}let u=t.relatedTarget;this._element===u||this._element.contains(u)||this._maybeScheduleHide()}_setListeners(){C.on(this._element,zd,t=>this._onInteraction(t,!0)),C.on(this._element,Gd,t=>this._onInteraction(t,!1)),C.on(this._element,qd,t=>this._onInteraction(t,!0)),C.on(this._element,Qd,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let r=pr.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](this)}})}}return Is(pr),Z(pr),{Alert:nt,Button:he,Carousel:nn,Collapse:hs,Dropdown:Os,Modal:qn,Offcanvas:pn,Popover:to,ScrollSpy:dr,Tab:Zn,Toast:pr,Tooltip:Qn}})});var xn=Object.getPrototypeOf,vr,wl,xi,_r,Ac={isConnected:1},_p=1e3,ao,vp={},Ep=xn(Ac),Sc=xn(xn),ri,Cc=(s,e,i,n)=>(s??(setTimeout(i,n),new Set)).add(e),Lc=(s,e,i)=>{let n=xi;xi=e;try{return s(i)}catch(a){return console.error(a),i}finally{xi=n}},co=s=>s.filter(e=>e._dom?.isConnected),Oc=s=>ao=Cc(ao,s,()=>{for(let e of ao)e._bindings=co(e._bindings),e._listeners=co(e._listeners);ao=ri},_p),uo={get val(){return xi?._getters?.add(this),this.rawVal},get oldVal(){return xi?._getters?.add(this),this._oldVal},set val(s){xi?._setters?.add(this),s!==this.rawVal&&(this.rawVal=s,this._bindings.length+this._listeners.length?(wl?.add(this),vr=Cc(vr,this,bp)):this._oldVal=s)}},Dc=s=>({__proto__:uo,rawVal:s,_oldVal:s,_bindings:[],_listeners:[]}),Er=(s,e)=>{let i={_getters:new Set,_setters:new Set},n={f:s},a=_r;_r=[];let f=Lc(s,i,e);f=(f??document).nodeType?f:new Text(f);for(let d of i._getters)i._setters.has(d)||(Oc(d),d._bindings.push(n));for(let d of _r)d._dom=f;return _r=a,n._dom=f},Tl=(s,e=Dc(),i)=>{let n={_getters:new Set,_setters:new Set},a={f:s,s:e};a._dom=i??_r?.push(a)??Ac,e.val=Lc(s,n,e.rawVal);for(let f of n._getters)n._setters.has(f)||(Oc(f),f._listeners.push(a));return e},Nc=(s,...e)=>{for(let i of e.flat(1/0)){let n=xn(i??0),a=n===uo?Er(()=>i.val):n===Sc?Er(i):i;a!=ri&&s.append(a)}return s},xc=(s,e,...i)=>{let[n,...a]=xn(i[0]??0)===Ep?i:[{},...i],f=s?document.createElementNS(s,e):document.createElement(e);for(let[d,v]of Object.entries(n)){let E=I=>I?Object.getOwnPropertyDescriptor(I,d)??E(xn(I)):ri,_=e+","+d,D=vp[_]??=E(xn(f))?.set??0,w=d.startsWith("on")?(I,W)=>{let Y=d.slice(2);f.removeEventListener(Y,W),f.addEventListener(Y,I)}:D?D.bind(f):f.setAttribute.bind(f,d),A=xn(v??0);d.startsWith("on")||A===Sc&&(v=Tl(v),A=uo),A===uo?Er(()=>(w(v.val,v._oldVal),f)):w(v)}return Nc(f,a)},Tc=s=>({get:(e,i)=>xc.bind(ri,s,i)}),Pc=(s,e)=>e?e!==s&&s.replaceWith(e):s.remove(),bp=()=>{let s=0,e=[...vr].filter(n=>n.rawVal!==n._oldVal);do{wl=new Set;for(let n of new Set(e.flatMap(a=>a._listeners=co(a._listeners))))Tl(n.f,n.s,n._dom),n._dom=ri}while(++s<100&&(e=[...wl]).length);let i=[...vr].filter(n=>n.rawVal!==n._oldVal);vr=ri;for(let n of new Set(i.flatMap(a=>a._bindings=co(a._bindings))))Pc(n._dom,Er(n.f,n._dom)),n._dom=ri;for(let n of i)n._oldVal=n.rawVal},ge={tags:new Proxy(s=>new Proxy(xc,Tc(s)),Tc()),hydrate:(s,e)=>Pc(s,Er(e,s)),add:Nc,state:Dc,derive:Tl};var Mc=wc(Cl()),{h5:yp,div:br}=ge.tags;var qs=class s{static showSuccess(e){e.status=2,s.show(e)}static showError(e){e.status=1,s.show(e)}static showWarning(e){e.status=3,s.show(e)}static show(e){document.dispatchEvent(new CustomEvent("SFT_NOTIFICATION",{detail:e}))}createModal(e){var i="modal-content";switch(e.status||(e.status=0),e.status){case 2:i="alert alert-success";break;case 1:i="alert alert-danger"}var n=br({class:i});e.title&&ge.add(n,br({class:"modal-header"},yp({class:"modal-title"},e.title))),e.msg&&ge.add(n,br({class:"modal-body"},e.msg));var a=br({class:"modal fade ",tabindex:"-1",role:"dialog"},br({class:"modal-dialog",role:"document"},n));return ge.add(document.body,a),new Mc.Modal(a)}showNotification(e){var i=this.createModal(e);i.show(),setTimeout(()=>{i.hide(),setTimeout(()=>{i.dispose()},5e3)},1500)}constructor(){document.addEventListener("SFT_NOTIFICATION",e=>{e.detail&&this.showNotification(e.detail)})}};var Pn=class s{static#t;offset;constructor(){}static instance(){return s.#t||(s.#t=new s),s.#t}static getOffset(){return s.instance().offset}sync_time_finish(e){var i=e.client[0],n=e.client[1],a=e.client[2],f=e.client[3],d=e.server[0],v=e.server[1],E=e.server[2],_=e.server[3],D=(n-i+v-d)/4,w=n-(v-D),A=(f-a+_-E)/4,I=a-(E-A),W=(w+I)/2;return Math.round(W)}async sync_time(e){if(e||(e={client:[Date.now()]}),this.offset)return this.offset;let i=await fetch("/api/v1/time-sync",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(e)});if(!i.ok)qs.showError({msg:`Failed to sync time! ${i.status}`});else{let n=await i.json();if(n.client&&n.server)if(n.client.length<4)n.client.push(Date.now()),this.sync_time(n);else return this.offset=this.sync_time_finish(n),this.offset}}};function yr(s){for(var e=typeof s=="string"?parseInt(s,10):s,i=Math.floor(e/3600/1e3),n=Math.floor((e-i*3600*1e3)/60/1e3),a=Math.floor((e-i*3600*1e3-n*60*1e3)/1e3),f=e-i*3600*1e3-n*60*1e3-a*1e3,d=[[i.toString(),"h"],[n.toString(),"m"],[a.toString(),"s"],[f.toString(),"ms"]],v=!1,E="",_=0;_<d.length;_++)(d[_][0]!="0"||v)&&(E+=d[_][0]+d[_][1]+" ",v=!0);return E}function _s(s){return document.getElementById(s)}function fo(s){s.style.display!=="none"&&(s.old_display=s.style.display,s.style.display="none")}function ho(s){s.style.display==="none"&&(s.style.display=s.old_display||"initial")}function Mi(s){var e=new Map;for(let i of Object.keys(s))Number.isNaN(Number(i))||e.set(i,s[i]);return e}function Ll(s){return s.slice((s.lastIndexOf(".")-1>>>0)+2)}var Pi=class{static get QUESTION_SVG(){return"question-circle.svg"}};function Ol(s,e){return typeof s>"u"||s===null?e:s}var{button:i_,div:wr,pre:r_,ul:wp,li:Tp,a:Ap}=ge.tags,vs=class{name;visible;constructor(e){this.name=e,this.visible=!1}},Mn=class{name;pages;currentPage;addPage(e){this.pages.push(e)}showPage(e,i){if(!this.pages.find(n=>n==e)){console.error(`Failed: showPage(${e.name}) - page not in this Mode`);return}this.currentPage&&(this.currentPage.visible=!1),this.currentPage=e,e.visible=!0,i.replaceChildren(e.getDom())}constructor(e){this.name=e,this.pages=new Array}},Dl=class{name;freq;peak;filter;offset_enter;offset_leave;calib_max_lap_count;calib_min_rssi_peak;led_color},xl=(i=>(i[i.AP=0]="AP",i[i.STA=1]="STA",i))(xl||{}),Pl=(i=>(i[i.CONTROLLER=0]="CONTROLLER",i[i.CLIENT=1]="CLIENT",i))(Pl||{}),mo=(n=>(n[n.RACE=0]="RACE",n[n.CTF=1]="CTF",n[n.SPECTRUM=2]="SPECTRUM",n))(mo||{}),kn=class{rssi;game_mode;node_name;node_mode;ctrl_ipv4;led_num;elrs_uid;osd_x;osd_y;osd_format;wifi_mode;ssid;passphrase;getValue(e){var i=e.match(/^rssi\[(\d)\]\.(\w+)$/);if(i!==null){let n=i[1],a=i[2];if(this.rssi[n])return Ol(this.rssi[n][a],"")}return Ol(this[e],"")}setValues(e){for(let[n,a]of Object.entries(e)){var i=n.match(/^rssi\[(\d)\]\.(\w+)$/);if(i!==null){let f=i[1],d=i[2];this.rssi||(this.rssi=new Array),this.rssi[f]||(this.rssi[f]=new Dl),this.rssi[f][d]=a}else n.match(/^\w+$/)&&(this[n]=a)}return this}toJsonString(){var e=new Object;for(let[i,n]of Object.entries(this))if(i==="rssi")for(let a=0;a<this.rssi.length;a++){let f=this.rssi[a];for(let[d,v]of Object.entries(f))e[`rssi[${a}].${d}`]=v}else e[i]=n;return JSON.stringify(e)}async update(e){let i="/api/v1/settings";try{let n=await fetch(i);if(!n.ok)throw new Error(`Response status: ${n.status}`);let a=await n.json();a.config&&(this.setValues(a.config),document.dispatchEvent(new CustomEvent("SFT_CONFIG_UPDATE",{detail:this})),e(this))}catch(n){console.error(n)}}async save(e){let i="/api/v1/settings";try{let n=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:this.toJsonString()});if(!n.ok)qs.showError({msg:`Failed to save config ${n.status}`}),e(null);else{let a=await n.json();a.status!=="ok"?(qs.showError({msg:`Failed to save config ${a.msg}`}),e(null)):(a.config&&this.setValues(a.config),document.dispatchEvent(new CustomEvent("SFT_CONFIG_UPDATE",{detail:this})),e(this),qs.showSuccess({msg:"Configuration saved!"}))}}catch(n){console.error(n.message)}}};var Nl=class{name;ipaddr;laps;constructor(e){this.name=e}from(e){return this.name=e.name,this.ipaddr=e.ipaddr,this.laps=e.laps,this}sortLapsByDuration(){this.laps.sort((e,i)=>e.duration-i.duration)}sortLapsById(){this.laps.sort((e,i)=>e.id-i.id)}patchTime(e){for(let i of this.laps)i.abs_time+=e;return this}},po=class{_currentMode;_modes;_ws;_players;_root;constructor(){this._modes=new Map,this._currentMode=null,this.initWebsocket(),document.addEventListener("SFT_CONFIG_UPDATE",e=>{this.onConfigUpdate(e.detail)}),new kn().update(()=>{console.debug("GOT CONFIG!")})}initWebsocket(){this._ws&&(this._ws.close(),this._ws=null);let e=`ws://${window.location.hostname}:${window.location.port}/ws/rssi`,i=new WebSocket(e);i.addEventListener("open",()=>{console.debug("WebSocket: connected "+e),this._ws.send(JSON.stringify({type:"hello",msg:"Hello, server!"}))}),i.addEventListener("message",n=>{try{let a=JSON.parse(n.data),f=a;f.type==="rssi"?this.dispatchRSSIUpdateEv(a):f.type==="players"&&this.dispatchPlayersUpdateEv(a.players)}catch{console.log("WebSocket: Failed to parse json:"+n.data)}}),i.onclose=()=>{console.debug("WebSocket: disconnected "+e),setTimeout(()=>{this.initWebsocket()},1e3)},this._ws=i}onConfigUpdate(e){var i=this._modes.get(Number(e.game_mode));i!=this._currentMode&&this.changeMode(i)}changeMode(e){this._currentMode=e,this.getDom().replaceChildren(this.drawTabs())}addMode(e,i){this._modes.set(e,i)}drawTabs(){let e=wp({class:"nav nav-tabs"}),i=wr({class:"tab-content"}),n=this._currentMode;return n?(n.pages.forEach((a,f)=>{let d=Tp({class:"nav-item"},[Ap({class:`nav-link ${f===0?"active":""}`,"data-bs-toggle":"tab",href:`#tab${f+1}`,onclick:()=>{let E=document.getElementById(`tab${f+1}`);E&&n.showPage(a,E)}},a.name)]);e.appendChild(d);let v=wr({class:`tab-pane fade ${f===0?"show active":""}`,id:`tab${f+1}`});f===0&&v.replaceChildren(a.getDom()),i.appendChild(v)}),wr(e,i)):wr({class:"alert alert-danger"},"NO MODE AVAILABLE")}getDom(){return this._root||(this._root=wr()),this._root}dispatchPlayersUpdateEv(e){var i=new Array;for(let n of e){let a=new Nl("").from(n).patchTime(Pn.getOffset());i.push(a)}document.dispatchEvent(new CustomEvent("SFT_PLAYERS_UPDATE",{detail:i}))}dispatchRSSIUpdateEv(e){for(let i of e.data)i.t+=Pn.getOffset();document.dispatchEvent(new CustomEvent("SFT_RSSI",{detail:e}))}async requestSettings(){let e="/api/v1/settings";try{let i=await fetch(e);if(!i.ok)throw new Error(`Response status: ${i.status}`);let n=await i.json();return n.status&&n.status.players&&this.dispatchPlayersUpdateEv(n.status.players),n}catch(i){console.error(i.message)}}};var xv=wc(Cl());var{h3:d_,label:Wl,form:Sp,select:Cp,input:kc,img:Bl,fieldset:jl,option:Lp,button:Op,div:os,h5:Ic,pre:p_,ul:Dp,li:Tr,span:Ul,a:ki,table:m_,thead:g_,tbody:__,th:v_,tr:E_,td:b_}=ge.tags,Ar=class{hidden;hidden_groups;rssi_min;rssi_max;rssi_label;fieldIsVisible(e){return!this.inArray(this.hidden,e)}groupIsVisible(e){return!this.inArray(this.hidden_groups,e)}inArray(e,i){return!!e.find(n=>n.charAt(0)=="^"?!!i.match(n):n===i)}get getRssiMin(){return this.rssi_min}get getRssiMax(){return this.rssi_max}get getRssiLabel(){return this.rssi_label}constructor(e,i,n,a){this.hidden=e,this.hidden_groups=i,this.rssi_min=n||1,this.rssi_max=a||8}},Ml=class extends Ar{constructor(e){super(new Array,new Array,1,1),this.rssi_label="Player Settings",this.hidden.push("node_name"),this.hidden.push("rssi[0].led_color"),e.node_mode==0&&this.hidden.push("ctrl_ipv4")}},kl=class extends Ar{constructor(e){super(new Array,new Array),this.rssi_label="CTF Teams",this.hidden_groups.push(Sr.name),e.node_mode==0?this.hidden.push("ctrl_ipv4"):this.hidden_groups.push(_o.name)}},Il=class extends Ar{constructor(e){super(new Array,new Array),this.hidden_groups.push(Sr.name),this.hidden.push("ctrl_ipv4"),this.hidden.push("node_name"),this.hidden.push("node_mode"),this.hidden.push("^rssi\\[\\d+\\]\\.(?!freq)")}},Qe=class extends EventTarget{fieldname;value;label;help;cfg;visible;constructor(e,i,n,a,f){super(),this.visible=i.fieldIsVisible(n),this.fieldname=n,this.value=e.getValue(n),this.label=a,f&&(this.help=f)}inputId(){return`id_input_${this.fieldname}`}draw(){return this.visible?this.buildHtmlElement():os()}buildHtmlElement(){return os({class:"form-group"},jl(Wl({class:"form-label",for:this.inputId()},this.label,this.help?ki({style:"margin: 0px 5px","data-toggle":"tooltip","data-trigger":"click",title:this.help},Bl({src:Pi.QUESTION_SVG})):Ul()),kc({class:"form-control",name:this.fieldname,id:this.inputId(),type:"text",value:this.value})))}getValue(){var e=_s(this.inputId());if(e){var i=e;return i.value}return String(this.value)}setValue(e){this.value=e;var i=_s(this.inputId());if(i){var n=i;n.value=e}}getKeyValue(e){var i=new Object,n=this.getValue();return n&&(i[this.fieldname]=n,e&&(e[this.fieldname]=n)),i}},Rl=class extends Qe{buildHtmlElement(){var e="#000000",i=this.value||0;if(!Number.isNaN(i)){i=i;var n=(i&16711680)>>16,a=(i&65280)>>8,f=i&255;e="#"+n.toString(16).padStart(2,"0")+a.toString(16).padStart(2,"0")+f.toString(16).padStart(2,"0")}return os({class:"form-group"},jl(Wl({class:"form-label",for:this.inputId()},this.label,this.help?ki({style:"margin: 0px 5px","data-toggle":"tooltip","data-trigger":"click",title:this.help},Bl({src:Pi.QUESTION_SVG})):Ul()),kc({class:"form-control form-control-color",name:this.fieldname,id:this.inputId(),type:"color",value:e})))}getValue(){var e=super.getValue();if(!e)return null;var i=e.match(/#(\w{2})(\w{2})(\w{2})/);if(i){var n=parseInt(i[1],16),a=parseInt(i[2],16),f=parseInt(i[3],16);return e=(n<<16|a<<8|f).toString(),e}return e}},Ii=class extends Qe{options;constructor(e,i,n,a,f,d){super(e,i,n,a,d),this.options=f}buildHtmlElement(){var e=Cp({class:"form-select",name:this.fieldname,id:this.inputId(),onchange:()=>{var n=_s(this.inputId());this.dispatchEvent(new CustomEvent("onchange",{detail:{element:this,value:n.value}}))}}),i=this.value;for(let[n,a]of this.options)ge.add(e,Lp({value:n,selected:i==n},a));return os({class:"form-group"},jl(Wl({class:"form-label",for:this.inputId()},this.label,this.help?ki({style:"margin: 0px 5px","data-toggle":"tooltip","data-trigger":"click",title:this.help},Bl({src:Pi.QUESTION_SVG})):Ul()),e))}},oi=class{label;elements;cfg;visible;constructor(e,i,n){this.label=n,this.cfg=e,this.elements=new Array,this.visible=i.groupIsVisible(this.constructor.name)}addElement(e){return this.elements.push(e),this}buildHtmlElement(){return Tr({class:"list-group-item config-group rounded bg-gradient"},Ic({style:"text-align: right; margin:0"},this.label),this.elements.map(e=>e.draw()))}draw(){return this.visible?this.buildHtmlElement():os()}getKeyValues(e){var i=new Object;for(let n of this.elements)for(let[a,f]of Object.entries(n.getKeyValue(e)))i[a]=f;return i}findConfigElementById(e){for(let i of this.elements)if(i.fieldname==e)return i;return null}},go=class extends Qe{constructor(e,i,n,a,f,d){super(e,i,`rssi[${n}].${a}`,f,d)}},$l=class extends oi{constructor(e,i){super(e,i,"General settings");var n=new Ii(e,i,"game_mode","Game mode",Mi(mo)),a=new Qe(e,i,"node_name","Device Name","Used for CTF, could descripe the location of this device");this.addElement(n),this.addElement(a);var f=new Ii(e,i,"node_mode","Device Mode",Mi(Pl),"Specify if this is a controller device or a client which connects to a controller."),d=new Qe(e,i,"ctrl_ipv4","Controller IPv4","The controller IPv4 address to connect to. If value is 0.0.0.0, GW is used.");this.addElement(f),this.addElement(d),this.addElement(new Qe(e,i,"led_num","Number of LEDs"))}},Rc=new Map([["5658","R1 (5658)"],["5695","R2 (5695)"],["5732","R3 (5732)"],["5769","R4 (5769)"],["5806","R5 (5806)"],["5843","R6 (5843)"],["5880","R7 (5880)"],["5917","R8 (5917)"]]),Vl=class extends oi{tablink;tabpane;index;id_prefix="rssi_config_tab_";buildHtmlElement(){return os(this.elements.map(e=>e.draw()))}getTabLink(){return this.tablink||(this.tablink=Tr({class:"nav-item"},[ki({class:"nav-link","data-bs-toggle":"tab",href:`#${this.id_prefix}${this.index}`},this.label)])),this.tablink}getTabPane(){return this.tabpane||(this.tabpane=os({class:"tab-pane fade}",id:`${this.id_prefix}${this.index}`},this.draw())),this.tabpane}selectTab(){document.body.contains(this.getTabLink())&&this.getTabLink().firstChild.click()}initFromOther(e){var i=["peak","filter","offset_leave","offset_enter","calib_max_lap_count","calib_min_rssi_peak","led_color"];for(let n of e.elements)for(let a of this.elements){let f=Ll(a.fieldname),d=Ll(n.fieldname);f==d&&i.indexOf(f)>=0&&a.setValue(n.getValue())}}getValue(e){e=`rssi[${this.index}].${e}`;for(let i of this.elements)if(i.fieldname==e)return i.getValue();return null}setValue(e,i){var n=this.findConfigElementById(`rssi[${this.index}].${e}`);n&&n.setValue(i)}constructor(e,i,n){super(e,i,"Player settings"),this.index=n,this.label=(n+1).toString(),this.addElement(new go(e,i,n,"name","Name")),this.addElement(new Ii(e,i,`rssi[${n}].freq`,"Frequency",Rc)),this.addElement(new Rl(e,i,`rssi[${n}].led_color`,"LED color")),[{label:"RSSI Peak value (default: 1100)",name:"peak",help:"The expected RSSI maximum, when the drone fly through the gate."},{name:"filter",label:"Filter",help:"Smooth the RSSI input signals. Range is 1-100, a value near to 1 smooth more, a value of 100 keeps the raw RSSI value."},{label:"Offset enter (in %)",name:"offset_enter",help:"The percentage of 'RSSI-Peak' to count a drone as entered the gate. The range is 50-100 (Default: 80)"},{label:"Offset leave (in %)",name:"offset_leave",help:"The percentage of 'RSSI-Peak' to count a drone as leaved the gate. The range is 50-100 (Default: 70)"},{label:"Calibration max lap count",name:"calib_max_lap_count",help:"The number of laps to be detected to finish the calibration."},{label:"Calibration min rssi peak",name:"calib_min_rssi_peak",help:"The minimum RSSI value to detect a 'drone enter gate' during calibration."}].forEach(a=>{this.addElement(new go(e,i,n,a.name,a.label,a.help))})}},_o=class extends oi{tabs;tabList;tabContent;plusTabListElement;minusTabListElement;min_tabs;max_tabs;visible_elements;drawTab(e){this.plusTabListElement.insertAdjacentElement("beforebegin",e.getTabLink()),this.tabContent.appendChild(e.getTabPane())}updatePlusMinus(){if(this.max_tabs-this.min_tabs==0){fo(this.tabList);return}ho(this.tabList),this.tabs.length>=this.max_tabs?fo(this.plusTabListElement):ho(this.plusTabListElement),this.tabs.length<=this.min_tabs?fo(this.minusTabListElement):ho(this.minusTabListElement)}addTab(){if(this.tabs.length<this.max_tabs){let e=this.tabs.length,i=new Vl(this.cfg,this.visible_elements,e);if(e>0&&i.getValue("freq")=="0"){i.initFromOther(this.tabs[e-1]);for(let n of Rc.keys())if(!this.tabs.find(a=>a.getValue("freq")==n)){i.setValue("freq",n);break}}this.tabs.push(i),this.drawTab(i),i.selectTab()}else this.tabs[this.tabs.length-1].selectTab();this.updatePlusMinus()}removeTab(){if(this.min_tabs<this.tabs.length){let e=this.tabs.pop();e.getTabPane().remove(),e.getTabLink().remove()}this.tabs[this.tabs.length-1].selectTab(),this.updatePlusMinus()}buildTabElements(){this.tabList=Dp({class:"nav nav-tabs"}),this.tabContent=os({class:"tab-content"}),this.plusTabListElement=Tr({class:"nav-item"},[ki({class:"nav-link","data-bs-toggle":"tab",onclick:()=>{this.addTab()}},"+")]),this.minusTabListElement=Tr({class:"nav-item"},[ki({class:"nav-link","data-bs-toggle":"tab",onclick:()=>{this.removeTab()}},"-")]),this.tabList.appendChild(this.plusTabListElement),this.tabList.appendChild(this.minusTabListElement)}buildHtmlElement(){return Tr({class:"list-group-item config-group rounded bg-gradient"},Ic({style:"text-align: right; margin:0"},this.label),os(this.tabList,this.tabContent))}draw(){return setTimeout(()=>{this.tabs.length>0&&this.tabs[0].selectTab()},500),this.visible?this.buildHtmlElement():os()}getKeyValues(e){var i=new Object;for(let n of this.tabs)for(let[a,f]of Object.entries(n.getKeyValues(e)))i[a]=f;for(let n=this.tabs.length;n<8;n++)e&&(e[`rssi[${n}].freq`]="0"),i[`rssi[${n}].freq`]="0";return i}findConfigElementById(e){var i;for(let n of this.tabs)if(i=n.findConfigElementById(e))return i;return null}constructor(e,i){if(super(e,i,i.getRssiLabel),this.visible_elements=i,this.tabs=new Array,this.min_tabs=i.getRssiMin,this.max_tabs=i.getRssiMax,this.visible){this.buildTabElements();for(let n of e.rssi){if(n.freq==0||this.tabs.length>=this.max_tabs)break;this.addTab()}for(;this.tabs.length<this.min_tabs;)this.addTab()}}},Sr=class extends oi{constructor(e,i){super(e,i,"expressLRS/OSD"),this.addElement(new Qe(e,i,"elrs_uid","Elrs UID")),this.addElement(new Qe(e,i,"osd_x","X position on OSD")),this.addElement(new Qe(e,i,"osd_y","Y position on OSD")),this.addElement(new Qe(e,i,"osd_format","OSD message format"))}},Hl=class extends oi{constructor(e,i){super(e,i,"WiFi Settings"),this.addElement(new Ii(e,i,"wifi_mode","WIFI Mode",Mi(xl))),this.addElement(new Qe(e,i,"ssid","SSID")),this.addElement(new Qe(e,i,"passphrase","Passphrase"))}},Fl=class{groups;root;findConfigElementById(e){for(let n of this.groups){var i=n.findConfigElementById(e);if(i)return i}return null}visibleByGameMode(e){switch(Number(e.game_mode)){case 0:return new Ml(e);case 1:return new kl(e);case 2:return new Il(e);default:console.error("Unhandled game_mode: "+e.game_mode)}return null}draw(){return this.root}submitButton(){return os({class:"mb-3",style:"margin: 5px 3px"},Op({class:"btn btn-primary",type:"button",id:"config_submit_btn_id",onclick:()=>{var e=_s("config_submit_btn_id");e.disabled=!0,e.classList.add("disabled");var i=new kn;i.setValues(this.getKeyValues()),i.save(n=>{n&&this.updateForm(n),e.classList.remove("disabled"),e.disabled=!1})}},"Submit"))}updateRoot(){this.root.replaceChildren(Sp(this.groups.map(e=>e.draw()),this.submitButton()))}getKeyValues(e){var i=new Object;for(let n of this.groups)for(let[a,f]of Object.entries(n.getKeyValues(e)))i[a]=f;return i}updateForm(e){this.groups=new Array;var i=this.visibleByGameMode(e);this.groups.push(new $l(e,i)),this.groups.push(new _o(e,i)),this.groups.push(new Sr(e,i)),this.groups.push(new Hl(e,i));var n=this.findConfigElementById("game_mode");n&&n.addEventListener("onchange",()=>{var f=new kn;f.setValues(this.getKeyValues()),this.updateForm(f)});var a=this.findConfigElementById("node_mode");a&&a.addEventListener("onchange",()=>{var f=new kn;f.setValues(this.getKeyValues()),this.updateForm(f)}),this.updateRoot()}constructor(e){this.root=os(),this.updateForm(e)}},In=class extends vs{root;getDom(){this.root||(this.root=os());var e=new kn;return e.update(i=>{this.root.replaceChildren(new Fl(i).draw())}),this.root}constructor(){super("Config")}};var{button:L_,div:Np,pre:O_,ul:D_,li:N_,a:x_,table:xp,thead:Pp,tbody:Mp,th:kp,tr:$c,td:vo}=ge.tags,Kl=class{player;lap;draw(e){return $c(e,vo(this.player.name),vo(this.lap.id),vo(yr(this.lap.duration)),vo(this.lap.rssi))}constructor(e,i){this.player=e,this.lap=i}},Eo=class{headline;laps;addRow(e){this.laps.push(e)}sortByDuration(){this.laps.sort((e,i)=>e.lap.duration-i.lap.duration)}sortByAbsTime(){this.laps.sort((e,i)=>i.lap.abs_time-e.lap.abs_time)}draw(){this.sortByDuration();var e=this.laps[0],i=this.laps[1],n=this.laps[2];let a=$c({class:"table-secondary"});this.headline.forEach(E=>{a.append(kp({scope:"col"},E))});let f=Pp(a),d=Mp();return this.laps.forEach(E=>{var _=E.draw();E==e?_.getElementsByTagName("td").item(2).innerHTML+="&#129351;":E==i?_.getElementsByTagName("td").item(2).innerHTML+="&#129352;":E==n&&(_.getElementsByTagName("td").item(2).innerHTML+="&#129353;"),d.append(_)}),xp({class:"table table-striped table-sm table-dark"},f,d)}constructor(){this.headline=["Pilot","Lap#","Duration","RSSI"],this.laps=new Array}},bo=class extends vs{root;lapsTable;getDom(){return this.root||(this.root=Np(this.lapsTable.draw())),this.root}onPlayersUpdate(e){this.lapsTable=new Eo,e.forEach(i=>{i.laps.forEach(n=>{this.lapsTable.addRow(new Kl(i,n))})}),this.lapsTable.sortByAbsTime(),this.getDom().replaceChildren(this.lapsTable.draw())}constructor(){super("Laps"),this.lapsTable=new Eo,document.addEventListener("SFT_PLAYERS_UPDATE",e=>{this.onPlayersUpdate(e.detail)})}};var{h3:V_,label:H_,select:Ip,option:Rp,button:$p,div:ls,h5:Vp,pre:F_,ul:W_,li:B_,span:Yl,a:Hp,table:j_,thead:U_,tbody:K_,th:Y_,tr:z_,td:G_}=ge.tags,Vc=(_=>(_[_.OneLap=0]="OneLap",_[_.TwoLaps=1]="TwoLaps",_[_.ThreeLaps=2]="ThreeLaps",_[_.MaxLaps=3]="MaxLaps",_[_.FastesLap=4]="FastesLap",_[_.FastesTwoLaps=5]="FastesTwoLaps",_[_.FastesThreeLaps=6]="FastesThreeLaps",_[_.FastesTwoContinousLaps=7]="FastesTwoContinousLaps",_[_.FastesThreeContinousLaps=8]="FastesThreeContinousLaps",_))(Vc||{});var Ri=class{player;ranking;counted_laps;constructor(e,i){this.player=e,this.ranking=i,this.counted_laps=new Array}compare(e){return e.ranking-this.ranking}drawLap(e,i,n){return ls({class:"card-text border rounded ",style:`margin: 3px; ${n}`},Yl({style:"font-weight: bold; border-right: 1px solid grey; margin: 0px 5px; min-width: 40px; display: inline-block;"},e),Yl(i))}drawLapInfo(){var e=this.counted_laps.length>0?this.counted_laps:this.player.laps,i=ls();if(e.length>1){var n=0;for(let a of e)n+=a.duration;i=this.drawLap("SUM",yr(n),"font-weight: bold;")}return ls(e.map(a=>this.drawLap(a.id.toString(),yr(a.duration))),i)}};function Fp(s,e){return s.ranking-e.ranking}var zl=class extends Ri{constructor(e,i){var n=new Array;e.sortLapsByDuration();var a=0;e.laps.length>=i?e.laps.forEach((f,d)=>{d<i&&(a+=f.duration,n.push(f))}):a=Number.MAX_VALUE,super(e,a),this.counted_laps=n}},Gl=class extends Ri{constructor(e,i){var n=new Array;e.sortLapsById();var a=0;e.laps.length>=i?e.laps.forEach((f,d)=>{d<i&&(a+=f.duration,n.push(f))}):a=Number.MAX_VALUE,super(e,a),this.counted_laps=n}},ql=class extends Ri{constructor(e,i){var n=new Array;e.laps.forEach((a,f)=>{var d=0,v=new Array;if(f+i<=e.laps.length)for(let E=0;E<i;E++)d+=e.laps[f+E].duration,v.push(e.laps[f+E]);else d=Number.MAX_VALUE;n.push({laps:v,duration_sum:d})}),n.sort((a,f)=>a.duration_sum-f.duration_sum),super(e,n.length>0?n[0].duration_sum:Number.MAX_VALUE),n.length>0&&(this.counted_laps=n[0].laps)}},yo=class extends vs{root;playersDom;actionsDom;players;racemode;getActionsDom(){return this.actionsDom||(this.actionsDom=ls(ls({class:"mb-3",style:"margin: 5px 3px"},ls({class:"input-group flex-nowrap"},Yl({class:"input-group-text",id:"inputGroup-sizing-default"},"Race mode"),Ip({class:"form-select",id:"select_race_mode",onchange:()=>{var e=_s("select_race_mode");this.racemode=Number(e.value),this.onPlayersUpdate(this.players.map(i=>i.player))}},Array.from(Mi(Vc)).map(([e,i])=>Rp({value:e},i.replace(/([A-Z])/g," $1"))))),ls({class:"form-text"},"Select race mode to set the evaluation of the laps.")),ls({class:"mb-3",style:"margin: 5px 3px"},$p({class:"btn btn-primary",type:"button",onclick:()=>{}},"Start Race!")))),this.actionsDom}getPlayersDom(){return this.playersDom||(this.playersDom=ls()),this.playersDom}getDom(){return this.root||(this.root=ls(this.getActionsDom(),this.getPlayersDom())),this.root}drawPlayerRanking(e){var i=e.ranking==1?"\u{1F3C6}":e.ranking==2?"\u{1F948}":e.ranking==3?"\u{1F949}":e.ranking==Number.MAX_VALUE?"":e.ranking+".",n=ls({class:"card",style:"margin: 5px;"},Vp({class:"card-header"},i+" "+e.player.name,Hp({class:"btn btn-secondary btn-sm",style:"float:right",role:"button",href:"http://"+e.player.ipaddr},"\u2699\uFE0F")),ls({class:"card-text",style:"font-weight: bold;"},"Laps:"),e.drawLapInfo());return n}sortPlayersByFastesLap(e,i){var n=new Array;return e.forEach(a=>{n.push(new zl(a,i))}),n}sortPlayersByLap(e,i){var n=new Array;return e.forEach(a=>{n.push(new Gl(a,i))}),n}sortPlayersByMaxLap(e){var i=new Array;return e.sort((n,a)=>{if(n.laps.length==a.laps.length){var f=0,d=0;for(let v of n.laps)f+=v.duration;for(let v of a.laps)d+=v.duration;return f-d}return a.laps.length-n.laps.length}),e.forEach((n,a)=>{i.push(new Ri(n,a))}),i}sortPlayersByContinousLaps(e,i){var n=new Array;return e.forEach(a=>{n.push(new ql(a,i))}),n}sortPlayersByMode(e,i){switch(i){case 4:return this.sortPlayersByFastesLap(e,1);case 5:return this.sortPlayersByFastesLap(e,2);case 6:return this.sortPlayersByFastesLap(e,3);case 0:return this.sortPlayersByLap(e,1);case 1:return this.sortPlayersByLap(e,2);case 2:return this.sortPlayersByLap(e,3);case 3:return this.sortPlayersByMaxLap(e);case 7:return this.sortPlayersByContinousLaps(e,2);case 8:return this.sortPlayersByContinousLaps(e,3);default:return this.sortPlayersByFastesLap(e,1)}}playersToRanking(e,i){var n=this.sortPlayersByMode(e,i);n.sort(Fp);var a=1;for(let f of n)f.ranking!=Number.MAX_VALUE&&(f.ranking=a),a+=1;return n.sort((f,d)=>f.player.name.localeCompare(d.player.name)),n}onPlayersUpdate(e){this.players=this.playersToRanking(e,this.racemode);var i=ls();this.players.forEach(n=>{i.appendChild(this.drawPlayerRanking(n))}),this.getPlayersDom().replaceChildren(i)}constructor(){super("Players"),this.racemode=4,this.players=new Array,document.addEventListener("SFT_PLAYERS_UPDATE",e=>{e.detail&&this.onPlayersUpdate(e.detail)})}};var Ee="u-",Wp="uplot",Bp=Ee+"hz",jp=Ee+"vt",Up=Ee+"title",Kp=Ee+"wrap",Yp=Ee+"under",zp=Ee+"over",Gp=Ee+"axis",ci=Ee+"off",qp=Ee+"select",Qp=Ee+"cursor-x",Jp=Ee+"cursor-y",Xp=Ee+"cursor-pt",Zp=Ee+"legend",tm=Ee+"live",em=Ee+"inline",sm=Ee+"series",nm=Ee+"marker",Hc=Ee+"label",im=Ee+"value",Or="width",Dr="height",Cr="top",Fc="bottom",$i="left",Ql="right",ha="#000",Wc=ha+"0",Bc="mousemove",jc="mousedown",Jl="mouseup",Uc="mouseenter",Kc="mouseleave",Yc="dblclick",rm="resize",om="scroll",zc="change",Co="dppxchange",da="--",Ui=typeof window<"u",sa=Ui?document:null,Hi=Ui?window:null,lm=Ui?navigator:null,St,wo;function na(){let s=devicePixelRatio;St!=s&&(St=s,wo&&ra(zc,wo,na),wo=matchMedia(`(min-resolution: ${St-.001}dppx) and (max-resolution: ${St+.001}dppx)`),ui(zc,wo,na),Hi.dispatchEvent(new CustomEvent(Co)))}function as(s,e){if(e!=null){let i=s.classList;!i.contains(e)&&i.add(e)}}function ia(s,e){let i=s.classList;i.contains(e)&&i.remove(e)}function Kt(s,e,i){s.style[e]=i+"px"}function xs(s,e,i,n){let a=sa.createElement(s);return e!=null&&as(a,e),i?.insertBefore(a,n),a}function Es(s,e){return xs("div",s,e)}var Gc=new WeakMap;function Qs(s,e,i,n,a){let f="translate("+e+"px,"+i+"px)",d=Gc.get(s);f!=d&&(s.style.transform=f,Gc.set(s,f),e<0||i<0||e>n||i>a?as(s,ci):ia(s,ci))}var qc=new WeakMap;function Qc(s,e,i){let n=e+i,a=qc.get(s);n!=a&&(qc.set(s,n),s.style.background=e,s.style.borderColor=i)}var Jc=new WeakMap;function Xc(s,e,i,n){let a=e+""+i,f=Jc.get(s);a!=f&&(Jc.set(s,a),s.style.height=i+"px",s.style.width=e+"px",s.style.marginLeft=n?-e/2+"px":0,s.style.marginTop=n?-i/2+"px":0)}var pa={passive:!0},am={...pa,capture:!0};function ui(s,e,i,n){e.addEventListener(s,i,n?am:pa)}function ra(s,e,i,n){e.removeEventListener(s,i,pa)}Ui&&na();function Ps(s,e,i,n){let a;i=i||0,n=n||e.length-1;let f=n<=2147483647;for(;n-i>1;)a=f?i+n>>1:cs((i+n)/2),e[a]<s?i=a:n=a;return s-e[i]<=e[n]-s?i:n}function Cu(s){return(i,n,a)=>{let f=-1,d=-1;for(let v=n;v<=a;v++)if(s(i[v])){f=v;break}for(let v=a;v>=n;v--)if(s(i[v])){d=v;break}return[f,d]}}var Lu=s=>s!=null,Ou=s=>s!=null&&s>0,Do=Cu(Lu),cm=Cu(Ou);function um(s,e,i,n=0,a=!1){let f=a?cm:Do,d=a?Ou:Lu;[e,i]=f(s,e,i);let v=s[e],E=s[e];if(e>-1)if(n==1)v=s[e],E=s[i];else if(n==-1)v=s[i],E=s[e];else for(let _=e;_<=i;_++){let D=s[_];d(D)&&(D<v?v=D:D>E&&(E=D))}return[v??Vt,E??-Vt]}function No(s,e,i,n){let a=eu(s),f=eu(e);s==e&&(a==-1?(s*=i,e/=i):(s/=i,e*=i));let d=i==10?mn:Du,v=a==1?cs:bs,E=f==1?bs:cs,_=v(d(ve(s))),D=E(d(ve(e))),w=Fi(i,_),A=Fi(i,D);return i==10&&(_<0&&(w=Ht(w,-_)),D<0&&(A=Ht(A,-D))),n||i==2?(s=w*a,e=A*f):(s=Pu(s,w),e=xo(e,A)),[s,e]}function ma(s,e,i,n){let a=No(s,e,i,n);return s==0&&(a[0]=0),e==0&&(a[1]=0),a}var ga=.1,Zc={mode:3,pad:ga},xr={pad:0,soft:null,mode:0},fm={min:xr,max:xr};function Lo(s,e,i,n){return Po(i)?tu(s,e,i):(xr.pad=i,xr.soft=n?0:null,xr.mode=n?3:0,tu(s,e,fm))}function Tt(s,e){return s??e}function hm(s,e,i){for(e=Tt(e,0),i=Tt(i,s.length-1);e<=i;){if(s[e]!=null)return!0;e++}return!1}function tu(s,e,i){let n=i.min,a=i.max,f=Tt(n.pad,0),d=Tt(a.pad,0),v=Tt(n.hard,-Vt),E=Tt(a.hard,Vt),_=Tt(n.soft,Vt),D=Tt(a.soft,-Vt),w=Tt(n.mode,0),A=Tt(a.mode,0),I=e-s,W=mn(I),Y=We(ve(s),ve(e)),q=mn(Y),et=ve(q-W);(I<1e-24||et>10)&&(I=0,(s==0||e==0)&&(I=1e-24,w==2&&_!=Vt&&(f=0),A==2&&D!=-Vt&&(d=0)));let M=I||Y||1e3,Q=mn(M),x=Fi(10,cs(Q)),Z=M*(I==0?s==0?.1:1:f),R=Ht(Pu(s-Z,x/10),24),ht=s>=_&&(w==1||w==3&&R<=_||w==2&&R>=_)?_:Vt,it=We(v,R<ht&&s>=ht?ht:Ms(ht,R)),ft=M*(I==0?e==0?.1:1:d),H=Ht(xo(e+ft,x/10),24),X=e<=D&&(A==1||A==3&&H>=D||A==2&&H<=D)?D:-Vt,st=Ms(E,H>X&&e<=X?X:We(X,H));return it==st&&it==0&&(st=100),[it,st]}var dm=new Intl.NumberFormat(Ui?lm.language:"en-US"),_a=s=>dm.format(s),us=Math,So=us.PI,ve=us.abs,cs=us.floor,_e=us.round,bs=us.ceil,Ms=us.min,We=us.max,Fi=us.pow,eu=us.sign,mn=us.log10,Du=us.log2,pm=(s,e=1)=>us.sinh(s)*e,Xl=(s,e=1)=>us.asinh(s/e),Vt=1/0;function su(s){return(mn((s^s>>31)-(s>>31))|0)+1}function oa(s,e,i){return Ms(We(s,e),i)}function bt(s){return typeof s=="function"?s:()=>s}var mm=()=>{},Nu=s=>s,xu=(s,e)=>e,nu=s=>!0,iu=(s,e)=>s==e,gm=/\.\d*?(?=9{6,}|0{6,})/gm,fi=s=>{if(ku(s)||$n.has(s))return s;let e=`${s}`,i=e.match(gm);if(i==null)return s;let n=i[0].length-1;if(e.indexOf("e-")!=-1){let[a,f]=e.split("e");return+`${fi(a)}e${f}`}return Ht(s,n)};function li(s,e){return fi(Ht(fi(s/e))*e)}function xo(s,e){return fi(bs(fi(s/e))*e)}function Pu(s,e){return fi(cs(fi(s/e))*e)}function Ht(s,e=0){if(ku(s))return s;let i=10**e,n=s*i*(1+Number.EPSILON);return _e(n)/i}var $n=new Map;function Mu(s){return((""+s).split(".")[1]||"").length}function Mr(s,e,i,n){let a=[],f=n.map(Mu);for(let d=e;d<i;d++){let v=ve(d),E=Ht(Fi(s,d),v);for(let _=0;_<n.length;_++){let D=s==10?+`${n[_]}e${d}`:n[_]*E,w=(d>=0?0:v)+(d>=f[_]?0:f[_]),A=s==10?D:Ht(D,w);a.push(A),$n.set(A,w)}}return a}var Pr={},va=[],Wi=[null,null],Rn=Array.isArray,ku=Number.isInteger,_m=s=>s===void 0;function ru(s){return typeof s=="string"}function Po(s){let e=!1;if(s!=null){let i=s.constructor;e=i==null||i==Object}return e}function vm(s){return s!=null&&typeof s=="object"}var Em=Object.getPrototypeOf(Uint8Array),Iu="__proto__";function Bi(s,e=Po){let i;if(Rn(s)){let n=s.find(a=>a!=null);if(Rn(n)||e(n)){i=Array(s.length);for(let a=0;a<s.length;a++)i[a]=Bi(s[a],e)}else i=s.slice()}else if(s instanceof Em)i=s.slice();else if(e(s)){i={};for(let n in s)n!=Iu&&(i[n]=Bi(s[n],e))}else i=s;return i}function ue(s){let e=arguments;for(let i=1;i<e.length;i++){let n=e[i];for(let a in n)a!=Iu&&(Po(s[a])?ue(s[a],Bi(n[a])):s[a]=Bi(n[a]))}return s}var bm=0,ym=1,wm=2;function Tm(s,e,i){for(let n=0,a,f=-1;n<e.length;n++){let d=e[n];if(d>f){for(a=d-1;a>=0&&s[a]==null;)s[a--]=null;for(a=d+1;a<i&&s[a]==null;)s[f=a++]=null}}}function Am(s,e){if(Lm(s)){let d=s[0].slice();for(let v=1;v<s.length;v++)d.push(...s[v].slice(1));return Om(d[0])||(d=Cm(d)),d}let i=new Set;for(let d=0;d<s.length;d++){let E=s[d][0],_=E.length;for(let D=0;D<_;D++)i.add(E[D])}let n=[Array.from(i).sort((d,v)=>d-v)],a=n[0].length,f=new Map;for(let d=0;d<a;d++)f.set(n[0][d],d);for(let d=0;d<s.length;d++){let v=s[d],E=v[0];for(let _=1;_<v.length;_++){let D=v[_],w=Array(a).fill(void 0),A=e?e[d][_]:ym,I=[];for(let W=0;W<D.length;W++){let Y=D[W],q=f.get(E[W]);Y===null?A!=bm&&(w[q]=Y,A==wm&&I.push(q)):w[q]=Y}Tm(w,I,a),n.push(w)}}return n}var Sm=typeof queueMicrotask>"u"?s=>Promise.resolve().then(s):queueMicrotask;function Cm(s){let e=s[0],i=e.length,n=Array(i);for(let f=0;f<n.length;f++)n[f]=f;n.sort((f,d)=>e[f]-e[d]);let a=[];for(let f=0;f<s.length;f++){let d=s[f],v=Array(i);for(let E=0;E<i;E++)v[E]=d[n[E]];a.push(v)}return a}function Lm(s){let e=s[0][0],i=e.length;for(let n=1;n<s.length;n++){let a=s[n][0];if(a.length!=i)return!1;if(a!=e){for(let f=0;f<i;f++)if(a[f]!=e[f])return!1}}return!0}function Om(s,e=100){let i=s.length;if(i<=1)return!0;let n=0,a=i-1;for(;n<=a&&s[n]==null;)n++;for(;a>=n&&s[a]==null;)a--;if(a<=n)return!0;let f=We(1,cs((a-n+1)/e));for(let d=s[n],v=n+f;v<=a;v+=f){let E=s[v];if(E!=null){if(E<=d)return!1;d=E}}return!0}var Ru=["January","February","March","April","May","June","July","August","September","October","November","December"],$u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Vu(s){return s.slice(0,3)}var Dm=$u.map(Vu),Nm=Ru.map(Vu),xm={MMMM:Ru,MMM:Nm,WWWW:$u,WWW:Dm};function Lr(s){return(s<10?"0":"")+s}function Pm(s){return(s<10?"00":s<100?"0":"")+s}var Mm={YYYY:s=>s.getFullYear(),YY:s=>(s.getFullYear()+"").slice(2),MMMM:(s,e)=>e.MMMM[s.getMonth()],MMM:(s,e)=>e.MMM[s.getMonth()],MM:s=>Lr(s.getMonth()+1),M:s=>s.getMonth()+1,DD:s=>Lr(s.getDate()),D:s=>s.getDate(),WWWW:(s,e)=>e.WWWW[s.getDay()],WWW:(s,e)=>e.WWW[s.getDay()],HH:s=>Lr(s.getHours()),H:s=>s.getHours(),h:s=>{let e=s.getHours();return e==0?12:e>12?e-12:e},AA:s=>s.getHours()>=12?"PM":"AM",aa:s=>s.getHours()>=12?"pm":"am",a:s=>s.getHours()>=12?"p":"a",mm:s=>Lr(s.getMinutes()),m:s=>s.getMinutes(),ss:s=>Lr(s.getSeconds()),s:s=>s.getSeconds(),fff:s=>Pm(s.getMilliseconds())};function Ea(s,e){e=e||xm;let i=[],n=/\{([a-z]+)\}|[^{]+/gi,a;for(;a=n.exec(s);)i.push(a[0][0]=="{"?Mm[a[1]]:a[0]);return f=>{let d="";for(let v=0;v<i.length;v++)d+=typeof i[v]=="string"?i[v]:i[v](f,e);return d}}var km=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Im(s,e){let i;return e=="UTC"||e=="Etc/UTC"?i=new Date(+s+s.getTimezoneOffset()*6e4):e==km?i=s:(i=new Date(s.toLocaleString("en-US",{timeZone:e})),i.setMilliseconds(s.getMilliseconds())),i}var Hu=s=>s%1==0,Oo=[1,2,2.5,5],Rm=Mr(10,-32,0,Oo),Fu=Mr(10,0,32,Oo),$m=Fu.filter(Hu),ai=Rm.concat(Fu),ba=`
`,Wu="{YYYY}",ou=ba+Wu,Bu="{M}/{D}",Nr=ba+Bu,To=Nr+"/{YY}",ju="{aa}",Vm="{h}:{mm}",Vi=Vm+ju,lu=ba+Vi,au=":{ss}",Lt=null;function Uu(s){let e=s*1e3,i=e*60,n=i*60,a=n*24,f=a*30,d=a*365,E=(s==1?Mr(10,0,3,Oo).filter(Hu):Mr(10,-3,0,Oo)).concat([e,e*5,e*10,e*15,e*30,i,i*5,i*10,i*15,i*30,n,n*2,n*3,n*4,n*6,n*8,n*12,a,a*2,a*3,a*4,a*5,a*6,a*7,a*8,a*9,a*10,a*15,f,f*2,f*3,f*4,f*6,d,d*2,d*5,d*10,d*25,d*50,d*100]),_=[[d,Wu,Lt,Lt,Lt,Lt,Lt,Lt,1],[a*28,"{MMM}",ou,Lt,Lt,Lt,Lt,Lt,1],[a,Bu,ou,Lt,Lt,Lt,Lt,Lt,1],[n,"{h}"+ju,To,Lt,Nr,Lt,Lt,Lt,1],[i,Vi,To,Lt,Nr,Lt,Lt,Lt,1],[e,au,To+" "+Vi,Lt,Nr+" "+Vi,Lt,lu,Lt,1],[s,au+".{fff}",To+" "+Vi,Lt,Nr+" "+Vi,Lt,lu,Lt,1]];function D(w){return(A,I,W,Y,q,et)=>{let M=[],Q=q>=d,x=q>=f&&q<d,Z=w(W),R=Ht(Z*s,3),ht=Zl(Z.getFullYear(),Q?0:Z.getMonth(),x||Q?1:Z.getDate()),it=Ht(ht*s,3);if(x||Q){let ft=x?q/f:0,H=Q?q/d:0,X=R==it?R:Ht(Zl(ht.getFullYear()+H,ht.getMonth()+ft,1)*s,3),st=new Date(_e(X/s)),G=st.getFullYear(),U=st.getMonth();for(let at=0;X<=Y;at++){let yt=Zl(G+H*at,U+ft*at,1),J=yt-w(Ht(yt*s,3));X=Ht((+yt+J)*s,3),X<=Y&&M.push(X)}}else{let ft=q>=a?a:q,H=cs(W)-cs(R),X=it+H+xo(R-it,ft);M.push(X);let st=w(X),G=st.getHours()+st.getMinutes()/i+st.getSeconds()/n,U=q/n,at=A.axes[I]._space,yt=et/at;for(;X=Ht(X+q,s==1?0:3),!(X>Y);)if(U>1){let J=cs(Ht(G+U,6))%24,ot=w(X).getHours()-J;ot>1&&(ot=-1),X-=ot*n,G=(G+U)%24;let mt=M[M.length-1];Ht((X-mt)/q,3)*yt>=.7&&M.push(X)}else M.push(X)}return M}}return[E,_,D]}var[Hm,Fm,Wm]=Uu(1),[Bm,jm,Um]=Uu(.001);Mr(2,-53,53,[1]);function cu(s,e){return s.map(i=>i.map((n,a)=>a==0||a==8||n==null?n:e(a==1||i[8]==0?n:i[1]+n)))}function uu(s,e){return(i,n,a,f,d)=>{let v=e.find(W=>d>=W[0])||e[e.length-1],E,_,D,w,A,I;return n.map(W=>{let Y=s(W),q=Y.getFullYear(),et=Y.getMonth(),M=Y.getDate(),Q=Y.getHours(),x=Y.getMinutes(),Z=Y.getSeconds(),R=q!=E&&v[2]||et!=_&&v[3]||M!=D&&v[4]||Q!=w&&v[5]||x!=A&&v[6]||Z!=I&&v[7]||v[1];return E=q,_=et,D=M,w=Q,A=x,I=Z,R(Y)})}}function Km(s,e){let i=Ea(e);return(n,a,f,d,v)=>a.map(E=>i(s(E)))}function Zl(s,e,i){return new Date(s,e,i)}function fu(s,e){return e(s)}var Ym="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function hu(s,e){return(i,n,a,f)=>f==null?da:e(s(n))}function zm(s,e){let i=s.series[e];return i.width?i.stroke(s,e):i.points.width?i.points.stroke(s,e):null}function Gm(s,e){return s.series[e].fill(s,e)}var qm={show:!0,live:!0,isolate:!1,mount:mm,markers:{show:!0,width:2,stroke:zm,fill:Gm,dash:"solid"},idx:null,idxs:null,values:[]};function Qm(s,e){let i=s.cursor.points,n=Es(),a=i.size(s,e);Kt(n,Or,a),Kt(n,Dr,a);let f=a/-2;Kt(n,"marginLeft",f),Kt(n,"marginTop",f);let d=i.width(s,e,a);return d&&Kt(n,"borderWidth",d),n}function Jm(s,e){let i=s.series[e].points;return i._fill||i._stroke}function Xm(s,e){let i=s.series[e].points;return i._stroke||i._fill}function Zm(s,e){return s.series[e].points.size}var ta=[0,0];function tg(s,e,i){return ta[0]=e,ta[1]=i,ta}function Ao(s,e,i,n=!0){return a=>{a.button==0&&(!n||a.target==e)&&i(a)}}function ea(s,e,i,n=!0){return a=>{(!n||a.target==e)&&i(a)}}var eg={show:!0,x:!0,y:!0,lock:!1,move:tg,points:{one:!1,show:Qm,size:Zm,width:0,stroke:Xm,fill:Jm},bind:{mousedown:Ao,mouseup:Ao,click:Ao,dblclick:Ao,mousemove:ea,mouseleave:ea,mouseenter:ea},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(s,e)=>{e.stopPropagation(),e.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(s,e,i,n,a)=>n-a,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Ku={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},ya=ue({},Ku,{filter:xu}),Yu=ue({},ya,{size:10}),zu=ue({},Ku,{show:!1}),wa='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Gu="bold "+wa,qu=1.5,du={show:!0,scale:"x",stroke:ha,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Gu,side:2,grid:ya,ticks:Yu,border:zu,font:wa,lineGap:qu,rotate:0},sg="Value",ng="Time",pu={show:!0,scale:"x",auto:!1,sorted:1,min:Vt,max:-Vt,idxs:[]};function ig(s,e,i,n,a){return e.map(f=>f==null?"":_a(f))}function rg(s,e,i,n,a,f,d){let v=[],E=$n.get(a)||0;i=d?i:Ht(xo(i,a),E);for(let _=i;_<=n;_=Ht(_+a,E))v.push(Object.is(_,-0)?0:_);return v}function la(s,e,i,n,a,f,d){let v=[],E=s.scales[s.axes[e].scale].log,_=E==10?mn:Du,D=cs(_(i));a=Fi(E,D),E==10&&(a=ai[Ps(a,ai)]);let w=i,A=a*E;E==10&&(A=ai[Ps(A,ai)]);do v.push(w),w=w+a,E==10&&!$n.has(w)&&(w=Ht(w,$n.get(a))),w>=A&&(a=w,A=a*E,E==10&&(A=ai[Ps(A,ai)]));while(w<=n);return v}function og(s,e,i,n,a,f,d){let E=s.scales[s.axes[e].scale].asinh,_=n>E?la(s,e,We(E,i),n,a):[E],D=n>=0&&i<=0?[0]:[];return(i<-E?la(s,e,We(E,-n),-i,a):[E]).reverse().map(A=>-A).concat(D,_)}var Qu=/./,lg=/[12357]/,ag=/[125]/,mu=/1/,aa=(s,e,i,n)=>s.map((a,f)=>e==4&&a==0||f%n==0&&i.test(a.toExponential()[a<0?1:0])?a:null);function cg(s,e,i,n,a){let f=s.axes[i],d=f.scale,v=s.scales[d],E=s.valToPos,_=f._space,D=E(10,d),w=E(9,d)-D>=_?Qu:E(7,d)-D>=_?lg:E(5,d)-D>=_?ag:mu;if(w==mu){let A=ve(E(1,d)-D);if(A<_)return aa(e.slice().reverse(),v.distr,w,bs(_/A)).reverse()}return aa(e,v.distr,w,1)}function ug(s,e,i,n,a){let f=s.axes[i],d=f.scale,v=f._space,E=s.valToPos,_=ve(E(1,d)-E(2,d));return _<v?aa(e.slice().reverse(),3,Qu,bs(v/_)).reverse():e}function fg(s,e,i,n){return n==null?da:e==null?"":_a(e)}var gu={show:!0,scale:"y",stroke:ha,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Gu,side:3,grid:ya,ticks:Yu,border:zu,font:wa,lineGap:qu,rotate:0};function hg(s,e){let i=3+(s||1)*2;return Ht(i*e,3)}function dg(s,e){let{scale:i,idxs:n}=s.series[0],a=s._data[0],f=s.valToPos(a[n[0]],i,!0),d=s.valToPos(a[n[1]],i,!0),v=ve(d-f),E=s.series[e],_=v/(E.points.space*St);return n[1]-n[0]<=_}var _u={scale:null,auto:!0,sorted:0,min:Vt,max:-Vt},Ju=(s,e,i,n,a)=>a,vu={show:!0,auto:!0,sorted:0,gaps:Ju,alpha:1,facets:[ue({},_u,{scale:"x"}),ue({},_u,{scale:"y"})]},Eu={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Ju,alpha:1,points:{show:dg,filter:null},values:null,min:Vt,max:-Vt,idxs:[],path:null,clip:null};function pg(s,e,i,n,a){return i/10}var Xu={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},mg=ue({},Xu,{time:!1,ori:1}),bu={};function Zu(s,e){let i=bu[s];return i||(i={key:s,plots:[],sub(n){i.plots.push(n)},unsub(n){i.plots=i.plots.filter(a=>a!=n)},pub(n,a,f,d,v,E,_){for(let D=0;D<i.plots.length;D++)i.plots[D]!=a&&i.plots[D].pub(n,a,f,d,v,E,_)}},s!=null&&(bu[s]=i)),i}var ji=1,ca=2;function hi(s,e,i){let n=s.mode,a=s.series[e],f=n==2?s._data[e]:s._data,d=s.scales,v=s.bbox,E=f[0],_=n==2?f[1]:f[e],D=n==2?d[a.facets[0].scale]:d[s.series[0].scale],w=n==2?d[a.facets[1].scale]:d[a.scale],A=v.left,I=v.top,W=v.width,Y=v.height,q=s.valToPosH,et=s.valToPosV;return D.ori==0?i(a,E,_,D,w,q,et,A,I,W,Y,ko,Ki,Ro,ef,nf):i(a,E,_,D,w,et,q,I,A,Y,W,Io,Yi,Sa,sf,rf)}function Ta(s,e){let i=0,n=0,a=Tt(s.bands,va);for(let f=0;f<a.length;f++){let d=a[f];d.series[0]==e?i=d.dir:d.series[1]==e&&(d.dir==1?n|=1:n|=2)}return[i,n==1?-1:n==2?1:n==3?2:0]}function gg(s,e,i,n,a){let f=s.mode,d=s.series[e],v=f==2?d.facets[1].scale:d.scale,E=s.scales[v];return a==-1?E.min:a==1?E.max:E.distr==3?E.dir==1?E.min:E.max:0}function gn(s,e,i,n,a,f){return hi(s,e,(d,v,E,_,D,w,A,I,W,Y,q)=>{let et=d.pxRound,M=_.dir*(_.ori==0?1:-1),Q=_.ori==0?Ki:Yi,x,Z;M==1?(x=i,Z=n):(x=n,Z=i);let R=et(w(v[x],_,Y,I)),ht=et(A(E[x],D,q,W)),it=et(w(v[Z],_,Y,I)),ft=et(A(f==1?D.max:D.min,D,q,W)),H=new Path2D(a);return Q(H,it,ft),Q(H,R,ft),Q(H,R,ht),H})}function Mo(s,e,i,n,a,f){let d=null;if(s.length>0){d=new Path2D;let v=e==0?Ro:Sa,E=i;for(let w=0;w<s.length;w++){let A=s[w];if(A[1]>A[0]){let I=A[0]-E;I>0&&v(d,E,n,I,n+f),E=A[1]}}let _=i+a-E,D=10;_>0&&v(d,E,n-D/2,_,n+f+D)}return d}function _g(s,e,i){let n=s[s.length-1];n&&n[0]==e?n[1]=i:s.push([e,i])}function Aa(s,e,i,n,a,f,d){let v=[],E=s.length;for(let _=a==1?i:n;_>=i&&_<=n;_+=a)if(e[_]===null){let w=_,A=_;if(a==1)for(;++_<=n&&e[_]===null;)A=_;else for(;--_>=i&&e[_]===null;)A=_;let I=f(s[w]),W=A==w?I:f(s[A]),Y=w-a;I=d<=0&&Y>=0&&Y<E?f(s[Y]):I;let et=A+a;W=d>=0&&et>=0&&et<E?f(s[et]):W,W>=I&&v.push([I,W])}return v}function yu(s){return s==0?Nu:s==1?_e:e=>li(e,s)}function tf(s){let e=s==0?ko:Io,i=s==0?(a,f,d,v,E,_)=>{a.arcTo(f,d,v,E,_)}:(a,f,d,v,E,_)=>{a.arcTo(d,f,E,v,_)},n=s==0?(a,f,d,v,E)=>{a.rect(f,d,v,E)}:(a,f,d,v,E)=>{a.rect(d,f,E,v)};return(a,f,d,v,E,_=0,D=0)=>{_==0&&D==0?n(a,f,d,v,E):(_=Ms(_,v/2,E/2),D=Ms(D,v/2,E/2),e(a,f+_,d),i(a,f+v,d,f+v,d+E,_),i(a,f+v,d+E,f,d+E,D),i(a,f,d+E,f,d,D),i(a,f,d,f+v,d,_),a.closePath())}}var ko=(s,e,i)=>{s.moveTo(e,i)},Io=(s,e,i)=>{s.moveTo(i,e)},Ki=(s,e,i)=>{s.lineTo(e,i)},Yi=(s,e,i)=>{s.lineTo(i,e)},Ro=tf(0),Sa=tf(1),ef=(s,e,i,n,a,f)=>{s.arc(e,i,n,a,f)},sf=(s,e,i,n,a,f)=>{s.arc(i,e,n,a,f)},nf=(s,e,i,n,a,f,d)=>{s.bezierCurveTo(e,i,n,a,f,d)},rf=(s,e,i,n,a,f,d)=>{s.bezierCurveTo(i,e,a,n,d,f)};function of(s){return(e,i,n,a,f)=>hi(e,i,(d,v,E,_,D,w,A,I,W,Y,q)=>{let{pxRound:et,points:M}=d,Q,x;_.ori==0?(Q=ko,x=ef):(Q=Io,x=sf);let Z=Ht(M.width*St,3),R=(M.size-M.width)/2*St,ht=Ht(R*2,3),it=new Path2D,ft=new Path2D,{left:H,top:X,width:st,height:G}=e.bbox;Ro(ft,H-ht,X-ht,st+ht*2,G+ht*2);let U=at=>{if(E[at]!=null){let yt=et(w(v[at],_,Y,I)),J=et(A(E[at],D,q,W));Q(it,yt+R,J),x(it,yt,J,R,0,So*2)}};if(f)f.forEach(U);else for(let at=n;at<=a;at++)U(at);return{stroke:Z>0?it:null,fill:it,clip:ft,flags:ji|ca}})}function lf(s){return(e,i,n,a,f,d)=>{n!=a&&(f!=n&&d!=n&&s(e,i,n),f!=a&&d!=a&&s(e,i,a),s(e,i,d))}}var vg=lf(Ki),Eg=lf(Yi);function af(s){let e=Tt(s?.alignGaps,0);return(i,n,a,f)=>hi(i,n,(d,v,E,_,D,w,A,I,W,Y,q)=>{[a,f]=Do(E,a,f);let et=d.pxRound,M=G=>et(w(G,_,Y,I)),Q=G=>et(A(G,D,q,W)),x,Z;_.ori==0?(x=Ki,Z=vg):(x=Yi,Z=Eg);let R=_.dir*(_.ori==0?1:-1),ht={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:ji},it=ht.stroke,ft=!1;if(f-a>=Y*4){let G=Ot=>i.posToVal(Ot,_.key,!0),U=null,at=null,yt,J,xe,Ft=M(v[R==1?a:f]),ot=M(v[a]),mt=M(v[f]),B=G(R==1?ot+1:mt-1);for(let Ot=R==1?a:f;Ot>=a&&Ot<=f;Ot+=R){let qt=v[Ot],C=(R==1?qt<B:qt>B)?Ft:M(qt),Nt=E[Ot];C==Ft?Nt!=null?(J=Nt,U==null?(x(it,C,Q(J)),yt=U=at=J):J<U?U=J:J>at&&(at=J)):Nt===null&&(ft=!0):(U!=null&&Z(it,Ft,Q(U),Q(at),Q(yt),Q(J)),Nt!=null?(J=Nt,x(it,C,Q(J)),U=at=yt=J):(U=at=null,Nt===null&&(ft=!0)),Ft=C,B=G(Ft+R))}U!=null&&U!=at&&xe!=Ft&&Z(it,Ft,Q(U),Q(at),Q(yt),Q(J))}else for(let G=R==1?a:f;G>=a&&G<=f;G+=R){let U=E[G];U===null?ft=!0:U!=null&&x(it,M(v[G]),Q(U))}let[X,st]=Ta(i,n);if(d.fill!=null||X!=0){let G=ht.fill=new Path2D(it),U=d.fillTo(i,n,d.min,d.max,X),at=Q(U),yt=M(v[a]),J=M(v[f]);R==-1&&([J,yt]=[yt,J]),x(G,J,at),x(G,yt,at)}if(!d.spanGaps){let G=[];ft&&G.push(...Aa(v,E,a,f,R,M,e)),ht.gaps=G=d.gaps(i,n,a,f,G),ht.clip=Mo(G,_.ori,I,W,Y,q)}return st!=0&&(ht.band=st==2?[gn(i,n,a,f,it,-1),gn(i,n,a,f,it,1)]:gn(i,n,a,f,it,st)),ht})}function bg(s){let e=Tt(s.align,1),i=Tt(s.ascDesc,!1),n=Tt(s.alignGaps,0),a=Tt(s.extend,!1);return(f,d,v,E)=>hi(f,d,(_,D,w,A,I,W,Y,q,et,M,Q)=>{[v,E]=Do(w,v,E);let x=_.pxRound,{left:Z,width:R}=f.bbox,ht=ot=>x(W(ot,A,M,q)),it=ot=>x(Y(ot,I,Q,et)),ft=A.ori==0?Ki:Yi,H={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:ji},X=H.stroke,st=A.dir*(A.ori==0?1:-1),G=it(w[st==1?v:E]),U=ht(D[st==1?v:E]),at=U,yt=U;a&&e==-1&&(yt=Z,ft(X,yt,G)),ft(X,U,G);for(let ot=st==1?v:E;ot>=v&&ot<=E;ot+=st){let mt=w[ot];if(mt==null)continue;let B=ht(D[ot]),Ot=it(mt);e==1?ft(X,B,G):ft(X,at,Ot),ft(X,B,Ot),G=Ot,at=B}let J=at;a&&e==1&&(J=Z+R,ft(X,J,G));let[xe,Ft]=Ta(f,d);if(_.fill!=null||xe!=0){let ot=H.fill=new Path2D(X),mt=_.fillTo(f,d,_.min,_.max,xe),B=it(mt);ft(ot,J,B),ft(ot,yt,B)}if(!_.spanGaps){let ot=[];ot.push(...Aa(D,w,v,E,st,ht,n));let mt=_.width*St/2,B=i||e==1?mt:-mt,Ot=i||e==-1?-mt:mt;ot.forEach(qt=>{qt[0]+=B,qt[1]+=Ot}),H.gaps=ot=_.gaps(f,d,v,E,ot),H.clip=Mo(ot,A.ori,q,et,M,Q)}return Ft!=0&&(H.band=Ft==2?[gn(f,d,v,E,X,-1),gn(f,d,v,E,X,1)]:gn(f,d,v,E,X,Ft)),H})}function wu(s,e,i,n,a,f,d=Vt){if(s.length>1){let v=null;for(let E=0,_=1/0;E<s.length;E++)if(e[E]!==void 0){if(v!=null){let D=ve(s[E]-s[v]);D<_&&(_=D,d=ve(i(s[E],n,a,f)-i(s[v],n,a,f)))}v=E}}return d}function yg(s){s=s||Pr;let e=Tt(s.size,[.6,Vt,1]),i=s.align||0,n=s.gap||0,a=s.radius;a=a==null?[0,0]:typeof a=="number"?[a,0]:a;let f=bt(a),d=1-e[0],v=Tt(e[1],Vt),E=Tt(e[2],1),_=Tt(s.disp,Pr),D=Tt(s.each,I=>{}),{fill:w,stroke:A}=_;return(I,W,Y,q)=>hi(I,W,(et,M,Q,x,Z,R,ht,it,ft,H,X)=>{let st=et.pxRound,G=i,U=n*St,at=v*St,yt=E*St,J,xe;x.ori==0?[J,xe]=f(I,W):[xe,J]=f(I,W);let Ft=x.dir*(x.ori==0?1:-1),ot=x.ori==0?Ro:Sa,mt=x.ori==0?D:(lt,It,Vs,vn,Hs,Je,Xe)=>{D(lt,It,Vs,Hs,vn,Xe,Je)},B=Tt(I.bands,va).find(lt=>lt.series[0]==W),Ot=B!=null?B.dir:0,qt=et.fillTo(I,W,et.min,et.max,Ot),Yt=st(ht(qt,Z,X,ft)),C,Nt,Pe,fe=H,Ct=st(et.width*St),Se=!1,Be=null,le=null,ks=null,z=null;w!=null&&(Ct==0||A!=null)&&(Se=!0,Be=w.values(I,W,Y,q),le=new Map,new Set(Be).forEach(lt=>{lt!=null&&le.set(lt,new Path2D)}),Ct>0&&(ks=A.values(I,W,Y,q),z=new Map,new Set(ks).forEach(lt=>{lt!=null&&z.set(lt,new Path2D)})));let{x0:Is,size:Hn}=_;if(Is!=null&&Hn!=null){G=1,M=Is.values(I,W,Y,q),Is.unit==2&&(M=M.map(Vs=>I.posToVal(it+Vs*H,x.key,!0)));let lt=Hn.values(I,W,Y,q);Hn.unit==2?Nt=lt[0]*H:Nt=R(lt[0],x,H,it)-R(0,x,H,it),fe=wu(M,Q,R,x,H,it,fe),Pe=fe-Nt+U}else fe=wu(M,Q,R,x,H,it,fe),Pe=fe*d+U,Nt=fe-Pe;Pe<1&&(Pe=0),Ct>=Nt/2&&(Ct=0),Pe<5&&(st=Nu);let Js=Pe>0,je=fe-Pe-(Js?Ct:0);Nt=st(oa(je,yt,at)),C=(G==0?Nt/2:G==Ft?0:Nt)-G*Ft*((G==0?U/2:0)+(Js?Ct/2:0));let Rs={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},$s=Se?null:new Path2D,ys=null;if(B!=null)ys=I.data[B.series[1]];else{let{y0:lt,y1:It}=_;lt!=null&&It!=null&&(Q=It.values(I,W,Y,q),ys=lt.values(I,W,Y,q))}let ut=J*Nt,nt=xe*Nt;for(let lt=Ft==1?Y:q;lt>=Y&&lt<=q;lt+=Ft){let It=Q[lt];if(It==null)continue;if(ys!=null){let ee=ys[lt]??0;if(It-ee==0)continue;Yt=ht(ee,Z,X,ft)}let Vs=x.distr!=2||_!=null?M[lt]:lt,vn=R(Vs,x,H,it),Hs=ht(Tt(It,qt),Z,X,ft),Je=st(vn-C),Xe=st(We(Hs,Yt)),he=st(Ms(Hs,Yt)),Ue=Xe-he;if(It!=null){let ee=It<0?nt:ut,Xs=It<0?ut:nt;Se?(Ct>0&&ks[lt]!=null&&ot(z.get(ks[lt]),Je,he+cs(Ct/2),Nt,We(0,Ue-Ct),ee,Xs),Be[lt]!=null&&ot(le.get(Be[lt]),Je,he+cs(Ct/2),Nt,We(0,Ue-Ct),ee,Xs)):ot($s,Je,he+cs(Ct/2),Nt,We(0,Ue-Ct),ee,Xs),mt(I,W,lt,Je-Ct/2,he,Nt+Ct,Ue)}}return Ct>0?Rs.stroke=Se?z:$s:Se||(Rs._fill=et.width==0?et._fill:et._stroke??et._fill,Rs.width=0),Rs.fill=Se?le:$s,Rs})}function wg(s,e){let i=Tt(e?.alignGaps,0);return(n,a,f,d)=>hi(n,a,(v,E,_,D,w,A,I,W,Y,q,et)=>{[f,d]=Do(_,f,d);let M=v.pxRound,Q=J=>M(A(J,D,q,W)),x=J=>M(I(J,w,et,Y)),Z,R,ht;D.ori==0?(Z=ko,ht=Ki,R=nf):(Z=Io,ht=Yi,R=rf);let it=D.dir*(D.ori==0?1:-1),ft=Q(E[it==1?f:d]),H=ft,X=[],st=[];for(let J=it==1?f:d;J>=f&&J<=d;J+=it)if(_[J]!=null){let Ft=E[J],ot=Q(Ft);X.push(H=ot),st.push(x(_[J]))}let G={stroke:s(X,st,Z,ht,R,M),fill:null,clip:null,band:null,gaps:null,flags:ji},U=G.stroke,[at,yt]=Ta(n,a);if(v.fill!=null||at!=0){let J=G.fill=new Path2D(U),xe=v.fillTo(n,a,v.min,v.max,at),Ft=x(xe);ht(J,H,Ft),ht(J,ft,Ft)}if(!v.spanGaps){let J=[];J.push(...Aa(E,_,f,d,it,Q,i)),G.gaps=J=v.gaps(n,a,f,d,J),G.clip=Mo(J,D.ori,W,Y,q,et)}return yt!=0&&(G.band=yt==2?[gn(n,a,f,d,U,-1),gn(n,a,f,d,U,1)]:gn(n,a,f,d,U,yt)),G})}function Tg(s){return wg(Ag,s)}function Ag(s,e,i,n,a,f){let d=s.length;if(d<2)return null;let v=new Path2D;if(i(v,s[0],e[0]),d==2)n(v,s[1],e[1]);else{let E=Array(d),_=Array(d-1),D=Array(d-1),w=Array(d-1);for(let A=0;A<d-1;A++)D[A]=e[A+1]-e[A],w[A]=s[A+1]-s[A],_[A]=D[A]/w[A];E[0]=_[0];for(let A=1;A<d-1;A++)_[A]===0||_[A-1]===0||_[A-1]>0!=_[A]>0?E[A]=0:(E[A]=3*(w[A-1]+w[A])/((2*w[A]+w[A-1])/_[A-1]+(w[A]+2*w[A-1])/_[A]),isFinite(E[A])||(E[A]=0));E[d-1]=_[d-2];for(let A=0;A<d-1;A++)a(v,s[A]+w[A]/3,e[A]+E[A]*w[A]/3,s[A+1]-w[A]/3,e[A+1]-E[A+1]*w[A]/3,s[A+1],e[A+1])}return v}var ua=new Set;function Tu(){for(let s of ua)s.syncRect(!0)}Ui&&(ui(rm,Hi,Tu),ui(om,Hi,Tu,!0),ui(Co,Hi,()=>{Ae.pxRatio=St}));var Sg=af(),Cg=of();function Au(s,e,i,n){return(n?[s[0],s[1]].concat(s.slice(2)):[s[0]].concat(s.slice(1))).map((f,d)=>fa(f,d,e,i))}function Lg(s,e){return s.map((i,n)=>n==0?{}:ue({},e,i))}function fa(s,e,i,n){return ue({},e==0?i:n,s)}function cf(s,e,i){return e==null?Wi:[e,i]}var Og=cf;function Dg(s,e,i){return e==null?Wi:Lo(e,i,ga,!0)}function uf(s,e,i,n){return e==null?Wi:No(e,i,s.scales[n].log,!1)}var Ng=uf;function ff(s,e,i,n){return e==null?Wi:ma(e,i,s.scales[n].log,!1)}var xg=ff;function Pg(s,e,i,n,a){let f=We(su(s),su(e)),d=e-s,v=Ps(a/n*d,i);do{let E=i[v],_=n*E/d;if(_>=a&&f+(E<5?$n.get(E):0)<=17)return[E,_]}while(++v<i.length);return[0,0]}function Su(s){let e,i;return s=s.replace(/(\d+)px/,(n,a)=>(e=_e((i=+a)*St))+"px"),[s,e,i]}function Mg(s){s.show&&[s.font,s.labelFont].forEach(e=>{let i=Ht(e[2]*St,1);e[0]=e[0].replace(/[0-9.]+px/,i+"px"),e[1]=i})}function Ae(s,e,i){let n={mode:Tt(s.mode,1)},a=n.mode;function f(l,c,h,p){let g=c.valToPct(l);return p+h*(c.dir==-1?1-g:g)}function d(l,c,h,p){let g=c.valToPct(l);return p+h*(c.dir==-1?g:1-g)}function v(l,c,h,p){return c.ori==0?f(l,c,h,p):d(l,c,h,p)}n.valToPosH=f,n.valToPosV=d;let E=!1;n.status=0;let _=n.root=Es(Wp);if(s.id!=null&&(_.id=s.id),as(_,s.class),s.title){let l=Es(Up,_);l.textContent=s.title}let D=xs("canvas"),w=n.ctx=D.getContext("2d"),A=Es(Kp,_);ui("click",A,l=>{l.target===W&&(xt!=an||Rt!=Us)&&ce.click(n,l)},!0);let I=n.under=Es(Yp,A);A.appendChild(D);let W=n.over=Es(zp,A);s=Bi(s);let Y=+Tt(s.pxAlign,1),q=yu(Y);(s.plugins||[]).forEach(l=>{l.opts&&(s=l.opts(n,s)||s)});let et=s.ms||.001,M=n.series=a==1?Au(s.series||[],pu,Eu,!1):Lg(s.series||[null],vu),Q=n.axes=Au(s.axes||[],du,gu,!0),x=n.scales={},Z=n.bands=s.bands||[];Z.forEach(l=>{l.fill=bt(l.fill||null),l.dir=Tt(l.dir,-1)});let R=a==2?M[1].facets[0].scale:M[0].scale,ht={axes:el,series:Qo},it=(s.drawOrder||["axes","series"]).map(l=>ht[l]);function ft(l){let c=x[l];if(c==null){let h=(s.scales||Pr)[l]||Pr;if(h.from!=null)ft(h.from),x[l]=ue({},x[h.from],h,{key:l});else{c=x[l]=ue({},l==R?Xu:mg,h),c.key=l;let p=c.time,g=c.range,y=Rn(g);if((l!=R||a==2&&!p)&&(y&&(g[0]==null||g[1]==null)&&(g={min:g[0]==null?Zc:{mode:1,hard:g[0],soft:g[0]},max:g[1]==null?Zc:{mode:1,hard:g[1],soft:g[1]}},y=!1),!y&&Po(g))){let O=g;g=(P,$,V)=>$==null?Wi:Lo($,V,O)}c.range=bt(g||(p?Og:l==R?c.distr==3?Ng:c.distr==4?xg:cf:c.distr==3?uf:c.distr==4?ff:Dg)),c.auto=bt(y?!1:c.auto),c.clamp=bt(c.clamp||pg),c._min=c._max=null;let L=c.distr==3?O=>mn(O>0?O:c.clamp(n,O,c.min,c.max,c.key)):c.distr==4?O=>Xl(O,c.asinh):c.distr==100?O=>c.fwd(O):O=>O;c.valToPct=O=>{let P=L(O),{_min:$,_max:V}=c,F=V-$;return(P-$)/F}}}}ft("x"),ft("y"),a==1&&M.forEach(l=>{ft(l.scale)}),Q.forEach(l=>{ft(l.scale)});for(let l in s.scales)ft(l);let H=x[R],X=H.distr,st,G;H.ori==0?(as(_,Bp),st=f,G=d):(as(_,jp),st=d,G=f);let U={};for(let l in x){let c=x[l];(c.min!=null||c.max!=null)&&(U[l]={min:c.min,max:c.max},c.min=c.max=null)}let at=s.tzDate||(l=>new Date(_e(l/et))),yt=s.fmtDate||Ea,J=et==1?Wm(at):Um(at),xe=uu(at,cu(et==1?Fm:jm,yt)),Ft=hu(at,fu(Ym,yt)),ot=[],mt=n.legend=ue({},qm,s.legend),B=n.cursor=ue({},eg,{drag:{y:a==2}},s.cursor),Ot=mt.show,qt=B.show,Yt=mt.markers;mt.idxs=ot,Yt.width=bt(Yt.width),Yt.dash=bt(Yt.dash),Yt.stroke=bt(Yt.stroke),Yt.fill=bt(Yt.fill);let C,Nt,Pe,fe=[],Ct=[],Se,Be=!1,le={};if(mt.live){let l=M[1]?M[1].values:null;Be=l!=null,Se=Be?l(n,1,0):{_:0};for(let c in Se)le[c]=da}if(Ot)if(C=xs("table",Zp,_),Pe=xs("tbody",null,C),mt.mount(n,C),Be){Nt=xs("thead",null,C,Pe);let l=xs("tr",null,Nt);xs("th",null,l);for(var ks in Se)xs("th",Hc,l).textContent=ks}else as(C,em),mt.live&&as(C,tm);let z={show:!0},Is={show:!1};function Hn(l,c){if(c==0&&(Be||!mt.live||a==2))return Wi;let h=[],p=xs("tr",sm,Pe,Pe.childNodes[c]);as(p,l.class),l.show||as(p,ci);let g=xs("th",null,p);if(Yt.show){let O=Es(nm,g);if(c>0){let P=Yt.width(n,c);P&&(O.style.border=P+"px "+Yt.dash(n,c)+" "+Yt.stroke(n,c)),O.style.background=Yt.fill(n,c)}}let y=Es(Hc,g);y.textContent=l.label,c>0&&(Yt.show||(y.style.color=l.width>0?Yt.stroke(n,c):Yt.fill(n,c)),je("click",g,O=>{if(B._lock)return;bn(O);let P=M.indexOf(l);if((O.ctrlKey||O.metaKey)!=mt.isolate){let $=M.some((V,F)=>F>0&&F!=P&&V.show);M.forEach((V,F)=>{F>0&&ye(F,$?F==P?z:Is:z,!0,Xt.setSeries)})}else ye(P,{show:!l.show},!0,Xt.setSeries)},!1),yn&&je(Uc,g,O=>{B._lock||(bn(O),ye(M.indexOf(l),Cs,!0,Xt.setSeries))},!1));for(var L in Se){let O=xs("td",im,p);O.textContent="--",h.push(O)}return[p,h]}let Js=new Map;function je(l,c,h,p=!0){let g=Js.get(c)||{},y=B.bind[l](n,c,h,p);y&&(ui(l,c,g[l]=y),Js.set(c,g))}function Rs(l,c,h){let p=Js.get(c)||{};for(let g in p)(l==null||g==l)&&(ra(g,c,p[g]),delete p[g]);l==null&&Js.delete(c)}let $s=0,ys=0,ut=0,nt=0,lt=0,It=0,Vs=lt,vn=It,Hs=ut,Je=nt,Xe=0,he=0,Ue=0,ee=0;n.bbox={};let Xs=!1,di=!1,En=!1,Zs=!1,pi=!1,Ke=!1;function zi(l,c,h){(h||l!=n.width||c!=n.height)&&Ir(l,c),Bs(!1),En=!0,di=!0,ae()}function Ir(l,c){n.width=$s=ut=l,n.height=ys=nt=c,lt=It=0,mi(),Ko();let h=n.bbox;Xe=h.left=li(lt*St,.5),he=h.top=li(It*St,.5),Ue=h.width=li(ut*St,.5),ee=h.height=li(nt*St,.5)}let Bo=3;function jo(){let l=!1,c=0;for(;!l;){c++;let h=Zo(c),p=tl(c);l=c==Bo||h&&p,l||(Ir(n.width,n.height),di=!0)}}function Uo({width:l,height:c}){zi(l,c)}n.setSize=Uo;function mi(){let l=!1,c=!1,h=!1,p=!1;Q.forEach((g,y)=>{if(g.show&&g._show){let{side:L,_size:O}=g,P=L%2,$=g.label!=null?g.labelSize:0,V=O+$;V>0&&(P?(ut-=V,L==3?(lt+=V,p=!0):h=!0):(nt-=V,L==0?(It+=V,l=!0):c=!0))}}),en[0]=l,en[1]=h,en[2]=c,en[3]=p,ut-=Fs[1]+Fs[3],lt+=Fs[3],nt-=Fs[2]+Fs[0],It+=Fs[0]}function Ko(){let l=lt+ut,c=It+nt,h=lt,p=It;function g(y,L){switch(y){case 1:return l+=L,l-L;case 2:return c+=L,c-L;case 3:return h-=L,h+L;case 0:return p-=L,p+L}}Q.forEach((y,L)=>{if(y.show&&y._show){let O=y.side;y._pos=g(O,y._size),y.label!=null&&(y._lpos=g(O,y.labelSize))}})}if(B.dataIdx==null){let l=B.hover,c=l.skip=new Set(l.skip??[]);c.add(void 0);let h=l.prox=bt(l.prox),p=l.bias??=0;B.dataIdx=(g,y,L,O)=>{if(y==0)return L;let P=L,$=h(g,y,L,O)??Vt,V=$>=0&&$<Vt,F=H.ori==0?ut:nt,tt=B.left,Dt=e[0],vt=e[y];if(c.has(vt[L])){P=null;let pt=null,rt=null,j;if(p==0||p==-1)for(j=L;pt==null&&j-- >0;)c.has(vt[j])||(pt=j);if(p==0||p==1)for(j=L;rt==null&&j++<vt.length;)c.has(vt[j])||(rt=j);if(pt!=null||rt!=null)if(V){let At=pt==null?-1/0:st(Dt[pt],H,F,0),Gt=rt==null?1/0:st(Dt[rt],H,F,0),jt=tt-At,$t=Gt-tt;jt<=$t?jt<=$&&(P=pt):$t<=$&&(P=rt)}else P=rt==null?pt:pt==null?rt:L-pt<=rt-L?pt:rt}else V&&ve(tt-st(Dt[L],H,F,0))>$&&(P=null);return P}}let bn=l=>{B.event=l};B.idxs=ot,B._lock=!1;let Bt=B.points;Bt.show=bt(Bt.show),Bt.size=bt(Bt.size),Bt.stroke=bt(Bt.stroke),Bt.width=bt(Bt.width),Bt.fill=bt(Bt.fill);let ws=n.focus=ue({},s.focus||{alpha:.3},B.focus),yn=ws.prox>=0,wn=yn&&Bt.one,Ye=[],fs=[],Ze=[];function tn(l,c){let h=Bt.show(n,c);if(h)return as(h,Xp),as(h,l.class),Qs(h,-10,-10,ut,nt),W.insertBefore(h,Ye[c]),h}function Fn(l,c){if(a==1||c>0){let h=a==1&&x[l.scale].time,p=l.value;l.value=h?ru(p)?hu(at,fu(p,yt)):p||Ft:p||fg,l.label=l.label||(h?ng:sg)}if(wn||c>0){l.width=l.width==null?1:l.width,l.paths=l.paths||Sg,l.fillTo=bt(l.fillTo||gg),l.pxAlign=+Tt(l.pxAlign,Y),l.pxRound=yu(l.pxAlign),l.stroke=bt(l.stroke||null),l.fill=bt(l.fill||null),l._stroke=l._fill=l._paths=l._focus=null;let h=hg(We(1,l.width),1),p=l.points=ue({},{size:h,width:We(1,h*.2),stroke:l.stroke,space:h*2,paths:Cg,_stroke:null,_fill:null},l.points);p.show=bt(p.show),p.filter=bt(p.filter),p.fill=bt(p.fill),p.stroke=bt(p.stroke),p.paths=bt(p.paths),p.pxAlign=l.pxAlign}if(Ot){let h=Hn(l,c);fe.splice(c,0,h[0]),Ct.splice(c,0,h[1]),mt.values.push(null)}if(qt){ot.splice(c,0,null);let h=null;wn?c==0&&(h=tn(l,c)):c>0&&(h=tn(l,c)),Ye.splice(c,0,h),fs.splice(c,0,0),Ze.splice(c,0,0)}Jt("addSeries",c)}function Yo(l,c){c=c??M.length,l=a==1?fa(l,c,pu,Eu):fa(l,c,{},vu),M.splice(c,0,l),Fn(M[c],c)}n.addSeries=Yo;function Gi(l){if(M.splice(l,1),Ot){mt.values.splice(l,1),Ct.splice(l,1);let c=fe.splice(l,1)[0];Rs(null,c.firstChild),c.remove()}qt&&(ot.splice(l,1),Ye.splice(l,1)[0].remove(),fs.splice(l,1),Ze.splice(l,1)),Jt("delSeries",l)}n.delSeries=Gi;let en=[!1,!1,!1,!1];function zo(l,c){if(l._show=l.show,l.show){let h=l.side%2,p=x[l.scale];p==null&&(l.scale=h?M[1].scale:R,p=x[l.scale]);let g=p.time;l.size=bt(l.size),l.space=bt(l.space),l.rotate=bt(l.rotate),Rn(l.incrs)&&l.incrs.forEach(L=>{!$n.has(L)&&$n.set(L,Mu(L))}),l.incrs=bt(l.incrs||(p.distr==2?$m:g?et==1?Hm:Bm:ai)),l.splits=bt(l.splits||(g&&p.distr==1?J:p.distr==3?la:p.distr==4?og:rg)),l.stroke=bt(l.stroke),l.grid.stroke=bt(l.grid.stroke),l.ticks.stroke=bt(l.ticks.stroke),l.border.stroke=bt(l.border.stroke);let y=l.values;l.values=Rn(y)&&!Rn(y[0])?bt(y):g?Rn(y)?uu(at,cu(y,yt)):ru(y)?Km(at,y):y||xe:y||ig,l.filter=bt(l.filter||(p.distr>=3&&p.log==10?cg:p.distr==3&&p.log==2?ug:xu)),l.font=Su(l.font),l.labelFont=Su(l.labelFont),l._size=l.size(n,null,c,0),l._space=l._rotate=l._incrs=l._found=l._splits=l._values=null,l._size>0&&(en[c]=!0,l._el=Es(Gp,A))}}function Wn(l,c,h,p){let[g,y,L,O]=h,P=c%2,$=0;return P==0&&(O||y)&&($=c==0&&!g||c==2&&!L?_e(du.size/3):0),P==1&&(g||L)&&($=c==1&&!y||c==3&&!O?_e(gu.size/2):0),$}let Rr=n.padding=(s.padding||[Wn,Wn,Wn,Wn]).map(l=>bt(Tt(l,Wn))),Fs=n._padding=Rr.map((l,c)=>l(n,c,en,0)),de,se=null,zt=null,gi=a==1?M[0].idxs:null,ts=null,Bn=!1;function $r(l,c){if(e=l??[],n.data=n._data=e,a==2){de=0;for(let h=1;h<M.length;h++)de+=e[h][0].length}else{e.length==0&&(n.data=n._data=e=[[]]),ts=e[0],de=ts.length;let h=e;if(X==2){h=e.slice();let p=h[0]=Array(de);for(let g=0;g<de;g++)p[g]=g}n._data=e=h}if(Bs(!0),Jt("setData"),X==2&&(En=!0),c!==!1){let h=H;h.auto(n,Bn)?qi():Qt(R,h.min,h.max),Zs=Zs||B.left>=0,Ke=!0,ae()}}n.setData=$r;function qi(){Bn=!0;let l,c;a==1&&(de>0?(se=gi[0]=0,zt=gi[1]=de-1,l=e[0][se],c=e[0][zt],X==2?(l=se,c=zt):l==c&&(X==3?[l,c]=No(l,l,H.log,!1):X==4?[l,c]=ma(l,l,H.log,!1):H.time?c=l+_e(86400/et):[l,c]=Lo(l,c,ga,!0))):(se=gi[0]=l=null,zt=gi[1]=c=null)),Qt(R,l,c)}let jn,sn,Qi,Ji,Xi,Zi,tr,er,sr,Ts;function nn(l,c,h,p,g,y){l??=Wc,h??=va,p??="butt",g??=Wc,y??="round",l!=jn&&(w.strokeStyle=jn=l),g!=sn&&(w.fillStyle=sn=g),c!=Qi&&(w.lineWidth=Qi=c),y!=Xi&&(w.lineJoin=Xi=y),p!=Zi&&(w.lineCap=Zi=p),h!=Ji&&w.setLineDash(Ji=h)}function Vr(l,c,h,p){c!=sn&&(w.fillStyle=sn=c),l!=tr&&(w.font=tr=l),h!=er&&(w.textAlign=er=h),p!=sr&&(w.textBaseline=sr=p)}function Hr(l,c,h,p,g=0){if(p.length>0&&l.auto(n,Bn)&&(c==null||c.min==null)){let y=Tt(se,0),L=Tt(zt,p.length-1),O=h.min==null?um(p,y,L,g,l.distr==3):[h.min,h.max];l.min=Ms(l.min,h.min=O[0]),l.max=We(l.max,h.max=O[1])}}let Tn={min:null,max:null};function Go(){for(let p in x){let g=x[p];U[p]==null&&(g.min==null||U[R]!=null&&g.auto(n,Bn))&&(U[p]=Tn)}for(let p in x){let g=x[p];U[p]==null&&g.from!=null&&U[g.from]!=null&&(U[p]=Tn)}U[R]!=null&&Bs(!0);let l={};for(let p in U){let g=U[p];if(g!=null){let y=l[p]=Bi(x[p],vm);if(g.min!=null)ue(y,g);else if(p!=R||a==2)if(de==0&&y.from==null){let L=y.range(n,null,null,p);y.min=L[0],y.max=L[1]}else y.min=Vt,y.max=-Vt}}if(de>0){M.forEach((p,g)=>{if(a==1){let y=p.scale,L=U[y];if(L==null)return;let O=l[y];if(g==0){let P=O.range(n,O.min,O.max,y);O.min=P[0],O.max=P[1],se=Ps(O.min,e[0]),zt=Ps(O.max,e[0]),zt-se>1&&(e[0][se]<O.min&&se++,e[0][zt]>O.max&&zt--),p.min=ts[se],p.max=ts[zt]}else p.show&&p.auto&&Hr(O,L,p,e[g],p.sorted);p.idxs[0]=se,p.idxs[1]=zt}else if(g>0&&p.show&&p.auto){let[y,L]=p.facets,O=y.scale,P=L.scale,[$,V]=e[g],F=l[O],tt=l[P];F!=null&&Hr(F,U[O],y,$,y.sorted),tt!=null&&Hr(tt,U[P],L,V,L.sorted),p.min=L.min,p.max=L.max}});for(let p in l){let g=l[p],y=U[p];if(g.from==null&&(y==null||y.min==null)){let L=g.range(n,g.min==Vt?null:g.min,g.max==-Vt?null:g.max,p);g.min=L[0],g.max=L[1]}}}for(let p in l){let g=l[p];if(g.from!=null){let y=l[g.from];if(y.min==null)g.min=g.max=null;else{let L=g.range(n,y.min,y.max,p);g.min=L[0],g.max=L[1]}}}let c={},h=!1;for(let p in l){let g=l[p],y=x[p];if(y.min!=g.min||y.max!=g.max){y.min=g.min,y.max=g.max;let L=y.distr;y._min=L==3?mn(y.min):L==4?Xl(y.min,y.asinh):L==100?y.fwd(y.min):y.min,y._max=L==3?mn(y.max):L==4?Xl(y.max,y.asinh):L==100?y.fwd(y.max):y.max,c[p]=h=!0}}if(h){M.forEach((p,g)=>{a==2?g>0&&c.y&&(p._paths=null):c[p.scale]&&(p._paths=null)});for(let p in c)En=!0,Jt("setScale",p);qt&&B.left>=0&&(Zs=Ke=!0)}for(let p in U)U[p]=null}function qo(l){let c=oa(se-1,0,de-1),h=oa(zt+1,0,de-1);for(;l[c]==null&&c>0;)c--;for(;l[h]==null&&h<de-1;)h++;return[c,h]}function Qo(){de>0&&(M.forEach((l,c)=>{if(c>0&&l.show&&(Fr(c,!1),Fr(c,!0),l._paths==null)){Ts!=l.alpha&&(w.globalAlpha=Ts=l.alpha);let h=a==2?[0,e[c][0].length-1]:qo(e[c]);l._paths=l.paths(n,c,h[0],h[1]),Ts!=1&&(w.globalAlpha=Ts=1)}}),M.forEach((l,c)=>{if(c>0&&l.show){Ts!=l.alpha&&(w.globalAlpha=Ts=l.alpha),l._paths!=null&&Wr(c,!1);{let h=l._paths!=null?l._paths.gaps:null,p=l.points.show(n,c,se,zt,h),g=l.points.filter(n,c,p,h);(p||g)&&(l.points._paths=l.points.paths(n,c,se,zt,g),Wr(c,!0))}Ts!=1&&(w.globalAlpha=Ts=1),Jt("drawSeries",c)}}))}function Fr(l,c){let h=c?M[l].points:M[l];h._stroke=h.stroke(n,l),h._fill=h.fill(n,l)}function Wr(l,c){let h=c?M[l].points:M[l],{stroke:p,fill:g,clip:y,flags:L,_stroke:O=h._stroke,_fill:P=h._fill,_width:$=h.width}=h._paths;$=Ht($*St,3);let V=null,F=$%2/2;c&&P==null&&(P=$>0?"#fff":O);let tt=h.pxAlign==1&&F>0;if(tt&&w.translate(F,F),!c){let Dt=Xe-$/2,vt=he-$/2,pt=Ue+$,rt=ee+$;V=new Path2D,V.rect(Dt,vt,pt,rt)}c?Ws(O,$,h.dash,h.cap,P,p,g,L,y):Jo(l,O,$,h.dash,h.cap,P,p,g,L,V,y),tt&&w.translate(-F,-F)}function Jo(l,c,h,p,g,y,L,O,P,$,V){let F=!1;P!=0&&Z.forEach((tt,Dt)=>{if(tt.series[0]==l){let vt=M[tt.series[1]],pt=e[tt.series[1]],rt=(vt._paths||Pr).band;Rn(rt)&&(rt=tt.dir==1?rt[0]:rt[1]);let j,At=null;vt.show&&rt&&hm(pt,se,zt)?(At=tt.fill(n,Dt)||y,j=vt._paths.clip):rt=null,Ws(c,h,p,g,At,L,O,P,$,V,j,rt),F=!0}}),F||Ws(c,h,p,g,y,L,O,P,$,V)}let _i=ji|ca;function Ws(l,c,h,p,g,y,L,O,P,$,V,F){nn(l,c,h,p,g),(P||$||F)&&(w.save(),P&&w.clip(P),$&&w.clip($)),F?(O&_i)==_i?(w.clip(F),V&&w.clip(V),vi(g,L),rn(l,y,c)):O&ca?(vi(g,L),w.clip(F),rn(l,y,c)):O&ji&&(w.save(),w.clip(F),V&&w.clip(V),vi(g,L),w.restore(),rn(l,y,c)):(vi(g,L),rn(l,y,c)),(P||$||F)&&w.restore()}function rn(l,c,h){h>0&&(c instanceof Map?c.forEach((p,g)=>{w.strokeStyle=jn=g,w.stroke(p)}):c!=null&&l&&w.stroke(c))}function vi(l,c){c instanceof Map?c.forEach((h,p)=>{w.fillStyle=sn=p,w.fill(h)}):c!=null&&l&&w.fill(c)}function Xo(l,c,h,p){let g=Q[l],y;if(p<=0)y=[0,0];else{let L=g._space=g.space(n,l,c,h,p),O=g._incrs=g.incrs(n,l,c,h,p,L);y=Pg(c,h,O,p,L)}return g._found=y}function nr(l,c,h,p,g,y,L,O,P,$){let V=L%2/2;Y==1&&w.translate(V,V),nn(O,L,P,$,O),w.beginPath();let F,tt,Dt,vt,pt=g+(p==0||p==3?-y:y);h==0?(tt=g,vt=pt):(F=g,Dt=pt);for(let rt=0;rt<l.length;rt++)c[rt]!=null&&(h==0?F=Dt=l[rt]:tt=vt=l[rt],w.moveTo(F,tt),w.lineTo(Dt,vt));w.stroke(),Y==1&&w.translate(-V,-V)}function Zo(l){let c=!0;return Q.forEach((h,p)=>{if(!h.show)return;let g=x[h.scale];if(g.min==null){h._show&&(c=!1,h._show=!1,Bs(!1));return}else h._show||(c=!1,h._show=!0,Bs(!1));let y=h.side,L=y%2,{min:O,max:P}=g,[$,V]=Xo(p,O,P,L==0?ut:nt);if(V==0)return;let F=g.distr==2,tt=h._splits=h.splits(n,p,O,P,$,V,F),Dt=g.distr==2?tt.map(j=>ts[j]):tt,vt=g.distr==2?ts[tt[1]]-ts[tt[0]]:$,pt=h._values=h.values(n,h.filter(n,Dt,p,V,vt),p,V,vt);h._rotate=y==2?h.rotate(n,pt,p,V):0;let rt=h._size;h._size=bs(h.size(n,pt,p,l)),rt!=null&&h._size!=rt&&(c=!1)}),c}function tl(l){let c=!0;return Rr.forEach((h,p)=>{let g=h(n,p,en,l);g!=Fs[p]&&(c=!1),Fs[p]=g}),c}function el(){for(let l=0;l<Q.length;l++){let c=Q[l];if(!c.show||!c._show)continue;let h=c.side,p=h%2,g,y,L=c.stroke(n,l),O=h==0||h==3?-1:1;if(c.label){let De=c.labelGap*O,He=_e((c._lpos+De)*St);Vr(c.labelFont[0],L,"center",h==2?Cr:Fc),w.save(),p==1?(g=y=0,w.translate(He,_e(he+ee/2)),w.rotate((h==3?-So:So)/2)):(g=_e(Xe+Ue/2),y=He),w.fillText(c.label,g,y),w.restore()}let[P,$]=c._found;if($==0)continue;let V=x[c.scale],F=p==0?Ue:ee,tt=p==0?Xe:he,Dt=_e(c.gap*St),vt=c._splits,pt=V.distr==2?vt.map(De=>ts[De]):vt,rt=V.distr==2?ts[vt[1]]-ts[vt[0]]:P,j=c.ticks,At=c.border,Gt=j.show?_e(j.size*St):0,jt=c._rotate*-So/180,$t=q(c._pos*St),Zt=(Gt+Dt)*O,Le=$t+Zt;y=p==0?Le:0,g=p==1?Le:0;let Me=c.font[0],ke=c.align==1?$i:c.align==2?Ql:jt>0?$i:jt<0?Ql:p==0?"center":h==3?Ql:$i,ns=jt||p==1?"middle":h==2?Cr:Fc;Vr(Me,L,ke,ns);let is=c.font[1]*c.lineGap,we=vt.map(De=>q(v(De,V,F,tt))),ms=c._values;for(let De=0;De<ms.length;De++){let He=ms[De];if(He!=null){p==0?g=we[De]:y=we[De],He=""+He;let On=He.indexOf(`
`)==-1?[He]:He.split(/\n/gm);for(let Gs=0;Gs<On.length;Gs++){let qe=On[Gs];jt?(w.save(),w.translate(g,y+Gs*is),w.rotate(jt),w.fillText(qe,0,0),w.restore()):w.fillText(qe,g,y+Gs*is)}}}j.show&&nr(we,j.filter(n,pt,l,$,rt),p,h,$t,Gt,Ht(j.width*St,3),j.stroke(n,l),j.dash,j.cap);let Oe=c.grid;Oe.show&&nr(we,Oe.filter(n,pt,l,$,rt),p,p==0?2:1,p==0?he:Xe,p==0?ee:Ue,Ht(Oe.width*St,3),Oe.stroke(n,l),Oe.dash,Oe.cap),At.show&&nr([$t],[1],p==0?1:0,p==0?1:2,p==1?he:Xe,p==1?ee:Ue,Ht(At.width*St,3),At.stroke(n,l),At.dash,At.cap)}Jt("drawAxes")}function Bs(l){M.forEach((c,h)=>{h>0&&(c._paths=null,l&&(a==1?(c.min=null,c.max=null):c.facets.forEach(p=>{p.min=null,p.max=null})))})}let Ei=!1,ir=!1,hs=[];function Ce(){ir=!1;for(let l=0;l<hs.length;l++)Jt(...hs[l]);hs.length=0}function ae(){Ei||(Sm(be),Ei=!0)}function Re(l,c=!1){Ei=!0,ir=c,l(n),be(),c&&hs.length>0&&queueMicrotask(Ce)}n.batch=Re;function be(){if(Xs&&(Go(),Xs=!1),En&&(jo(),En=!1),di){if(Kt(I,$i,lt),Kt(I,Cr,It),Kt(I,Or,ut),Kt(I,Dr,nt),Kt(W,$i,lt),Kt(W,Cr,It),Kt(W,Or,ut),Kt(W,Dr,nt),Kt(A,Or,$s),Kt(A,Dr,ys),D.width=_e($s*St),D.height=_e(ys*St),Q.forEach(({_el:l,_show:c,_size:h,_pos:p,side:g})=>{if(l!=null)if(c){let y=g===3||g===0?h:0,L=g%2==1;Kt(l,L?"left":"top",p-y),Kt(l,L?"width":"height",h),Kt(l,L?"top":"left",L?It:lt),Kt(l,L?"height":"width",L?nt:ut),ia(l,ci)}else as(l,ci)}),jn=sn=Qi=Xi=Zi=tr=er=sr=Ji=null,Ts=1,Ls(!0),lt!=Vs||It!=vn||ut!=Hs||nt!=Je){Bs(!1);let l=ut/Hs,c=nt/Je;if(qt&&!Zs&&B.left>=0){B.left*=l,B.top*=c,es&&Qs(es,_e(B.left),0,ut,nt),on&&Qs(on,0,_e(B.top),ut,nt);for(let h=0;h<Ye.length;h++){let p=Ye[h];p!=null&&(fs[h]*=l,Ze[h]*=c,Qs(p,bs(fs[h]),bs(Ze[h]),ut,nt))}}if(Pt.show&&!pi&&Pt.left>=0&&Pt.width>0){Pt.left*=l,Pt.width*=l,Pt.top*=c,Pt.height*=c;for(let h in lr)Kt(cn,h,Pt[h])}Vs=lt,vn=It,Hs=ut,Je=nt}Jt("setSize"),di=!1}$s>0&&ys>0&&(w.clearRect(0,0,D.width,D.height),Jt("drawClear"),it.forEach(l=>l()),Jt("draw")),Pt.show&&pi&&(Un(Pt),pi=!1),qt&&Zs&&(Ks(null,!0,!1),Zs=!1),mt.show&&mt.live&&Ke&&(ps(),Ke=!1),E||(E=!0,n.status=1,Jt("ready")),Bn=!1,Ei=!1}n.redraw=(l,c)=>{En=c||!1,l!==!1?Qt(R,H.min,H.max):ae()};function An(l,c){let h=x[l];if(h.from==null){if(de==0){let p=h.range(n,c.min,c.max,l);c.min=p[0],c.max=p[1]}if(c.min>c.max){let p=c.min;c.min=c.max,c.max=p}if(de>1&&c.min!=null&&c.max!=null&&c.max-c.min<1e-16)return;l==R&&h.distr==2&&de>0&&(c.min=Ps(c.min,e[0]),c.max=Ps(c.max,e[0]),c.min==c.max&&c.max++),U[l]=c,Xs=!0,ae()}}n.setScale=An;let js,As,es,on,bi,ln,an,Us,yi,rr,xt,Rt,Ss=!1,ce=B.drag,ne=ce.x,ie=ce.y;qt&&(B.x&&(js=Es(Qp,W)),B.y&&(As=Es(Jp,W)),H.ori==0?(es=js,on=As):(es=As,on=js),xt=B.left,Rt=B.top);let Pt=n.select=ue({show:!0,over:!0,left:0,width:0,top:0,height:0},s.select),cn=Pt.show?Es(qp,Pt.over?W:I):null;function Un(l,c){if(Pt.show){for(let h in l)Pt[h]=l[h],h in lr&&Kt(cn,h,l[h]);c!==!1&&Jt("setSelect")}}n.setSelect=Un;function ds(l){if(M[l].show)Ot&&ia(fe[l],ci);else if(Ot&&as(fe[l],ci),qt){let h=wn?Ye[0]:Ye[l];Qs(h,-10,-10,ut,nt)}}function Qt(l,c,h){An(l,{min:c,max:h})}function ye(l,c,h,p){c.focus!=null&&Sn(l),c.show!=null&&M.forEach((g,y)=>{y>0&&(l==y||l==null)&&(g.show=c.show,ds(y),a==2?(Qt(g.facets[0].scale,null,null),Qt(g.facets[1].scale,null,null)):Qt(g.scale,null,null),ae())}),h!==!1&&Jt("setSeries",l,c),p&&zs("setSeries",n,l,c)}n.setSeries=ye;function ze(l,c){ue(Z[l],c)}function or(l,c){l.fill=bt(l.fill||null),l.dir=Tt(l.dir,-1),c=c??Z.length,Z.splice(c,0,l)}function sl(l){l==null?Z.length=0:Z.splice(l,1)}n.addBand=or,n.setBand=ze,n.delBand=sl;function nl(l,c){M[l].alpha=c,qt&&Ye[l]&&(Ye[l].style.opacity=c),Ot&&fe[l]&&(fe[l].style.opacity=c)}let ss,pe,$e,Cs={focus:!0};function Sn(l){if(l!=$e){let c=l==null,h=ws.alpha!=1;M.forEach((p,g)=>{if(a==1||g>0){let y=c||g==0||g==l;p._focus=c?null:y,h&&nl(g,y?1:ws.alpha)}}),$e=l,h&&ae()}}Ot&&yn&&je(Kc,C,l=>{B._lock||(bn(l),$e!=null&&ye(null,Cs,!0,Xt.setSeries))});function Ge(l,c,h){let p=x[c];h&&(l=l/St-(p.ori==1?It:lt));let g=ut;p.ori==1&&(g=nt,l=g-l),p.dir==-1&&(l=g-l);let y=p._min,L=p._max,O=l/g,P=y+(L-y)*O,$=p.distr;return $==3?Fi(10,P):$==4?pm(P,p.asinh):$==100?p.bwd(P):P}function Br(l,c){let h=Ge(l,R,c);return Ps(h,e[0],se,zt)}n.valToIdx=l=>Ps(l,e[0]),n.posToIdx=Br,n.posToVal=Ge,n.valToPos=(l,c,h)=>x[c].ori==0?f(l,x[c],h?Ue:ut,h?Xe:0):d(l,x[c],h?ee:nt,h?he:0),n.setCursor=(l,c,h)=>{xt=l.left,Rt=l.top,Ks(null,c,h)};function un(l,c){Kt(cn,$i,Pt.left=l),Kt(cn,Or,Pt.width=c)}function wi(l,c){Kt(cn,Cr,Pt.top=l),Kt(cn,Dr,Pt.height=c)}let Cn=H.ori==0?un:wi,Ve=H.ori==1?un:wi;function il(){if(Ot&&mt.live)for(let l=a==2?1:0;l<M.length;l++){if(l==0&&Be)continue;let c=mt.values[l],h=0;for(let p in c)Ct[l][h++].firstChild.nodeValue=c[p]}}function ps(l,c){if(l!=null&&(l.idxs?l.idxs.forEach((h,p)=>{ot[p]=h}):_m(l.idx)||ot.fill(l.idx),mt.idx=ot[0]),Ot&&mt.live){for(let h=0;h<M.length;h++)(h>0||a==1&&!Be)&&Ti(h,ot[h]);il()}Ke=!1,c!==!1&&Jt("setLegend")}n.setLegend=ps;function Ti(l,c){let h=M[l],p=l==0&&X==2?ts:e[l],g;Be?g=h.values(n,l,c)??le:(g=h.value(n,c==null?null:p[c],l,c),g=g==null?le:{_:g}),mt.values[l]=g}function Ks(l,c,h){yi=xt,rr=Rt,[xt,Rt]=B.move(n,xt,Rt),B.left=xt,B.top=Rt,qt&&(es&&Qs(es,_e(xt),0,ut,nt),on&&Qs(on,0,_e(Rt),ut,nt));let p,g=se>zt;ss=Vt,pe=null;let y=H.ori==0?ut:nt,L=H.ori==1?ut:nt;if(xt<0||de==0||g){p=B.idx=null;for(let O=0;O<M.length;O++){let P=Ye[O];P!=null&&Qs(P,-10,-10,ut,nt)}yn&&ye(null,Cs,!0,l==null&&Xt.setSeries),mt.live&&(ot.fill(p),Ke=!0)}else{let O,P,$;a==1&&(O=H.ori==0?xt:Rt,P=Ge(O,R),p=B.idx=Ps(P,e[0],se,zt),$=st(e[0][p],H,y,0));let V=-10,F=-10,tt=0,Dt=0,vt=!0,pt="",rt="";for(let j=a==2?1:0;j<M.length;j++){let At=M[j],Gt=ot[j],jt=Gt==null?null:a==1?e[j][Gt]:e[j][1][Gt],$t=B.dataIdx(n,j,p,P),Zt=$t==null?null:a==1?e[j][$t]:e[j][1][$t];Ke=Ke||Zt!=jt||$t!=Gt,ot[j]=$t;let Le=$t==p?$:st(a==1?e[0][$t]:e[j][0][$t],H,y,0);if(j>0&&At.show){let Me=Zt==null?-10:G(Zt,a==1?x[At.scale]:x[At.facets[1].scale],L,0);if(yn&&Zt!=null){let ke=H.ori==1?xt:Rt,ns=ve(ws.dist(n,j,$t,Me,ke));if(ns<ss){let is=ws.bias;if(is!=0){let we=Ge(ke,At.scale),ms=Zt>=0?1:-1,Oe=we>=0?1:-1;Oe==ms&&(Oe==1?is==1?Zt>=we:Zt<=we:is==1?Zt<=we:Zt>=we)&&(ss=ns,pe=j)}else ss=ns,pe=j}}if(Ke||wn){let ke,ns;H.ori==0?(ke=Le,ns=Me):(ke=Me,ns=Le);let is,we,ms,Oe,De,He,On=!0,Gs=Bt.bbox;if(Gs!=null){On=!1;let qe=Gs(n,j);ms=qe.left,Oe=qe.top,is=qe.width,we=qe.height}else ms=ke,Oe=ns,is=we=Bt.size(n,j);if(He=Bt.fill(n,j),De=Bt.stroke(n,j),wn)j==pe&&ss<=ws.prox&&(V=ms,F=Oe,tt=is,Dt=we,vt=On,pt=He,rt=De);else{let qe=Ye[j];qe!=null&&(fs[j]=ms,Ze[j]=Oe,Xc(qe,is,we,On),Qc(qe,He,De),Qs(qe,bs(ms),bs(Oe),ut,nt))}}}}if(wn){let j=ws.prox,At=$e==null?ss<=j:ss>j||pe!=$e;if(Ke||At){let Gt=Ye[0];fs[0]=V,Ze[0]=F,Xc(Gt,tt,Dt,vt),Qc(Gt,pt,rt),Qs(Gt,bs(V),bs(F),ut,nt)}}}if(Pt.show&&Ss)if(l!=null){let[O,P]=Xt.scales,[$,V]=Xt.match,[F,tt]=l.cursor.sync.scales,Dt=l.cursor.drag;if(ne=Dt._x,ie=Dt._y,ne||ie){let{left:vt,top:pt,width:rt,height:j}=l.select,At=l.scales[F].ori,Gt=l.posToVal,jt,$t,Zt,Le,Me,ke=O!=null&&$(O,F),ns=P!=null&&V(P,tt);ke&&ne?(At==0?(jt=vt,$t=rt):(jt=pt,$t=j),Zt=x[O],Le=st(Gt(jt,F),Zt,y,0),Me=st(Gt(jt+$t,F),Zt,y,0),Cn(Ms(Le,Me),ve(Me-Le))):Cn(0,y),ns&&ie?(At==1?(jt=vt,$t=rt):(jt=pt,$t=j),Zt=x[P],Le=G(Gt(jt,tt),Zt,L,0),Me=G(Gt(jt+$t,tt),Zt,L,0),Ve(Ms(Le,Me),ve(Me-Le))):Ve(0,L)}else Si()}else{let O=ve(yi-bi),P=ve(rr-ln);if(H.ori==1){let tt=O;O=P,P=tt}ne=ce.x&&O>=ce.dist,ie=ce.y&&P>=ce.dist;let $=ce.uni;$!=null?ne&&ie&&(ne=O>=$,ie=P>=$,!ne&&!ie&&(P>O?ie=!0:ne=!0)):ce.x&&ce.y&&(ne||ie)&&(ne=ie=!0);let V,F;ne&&(H.ori==0?(V=an,F=xt):(V=Us,F=Rt),Cn(Ms(V,F),ve(F-V)),ie||Ve(0,L)),ie&&(H.ori==1?(V=an,F=xt):(V=Us,F=Rt),Ve(Ms(V,F),ve(F-V)),ne||Cn(0,y)),!ne&&!ie&&(Cn(0,0),Ve(0,0))}if(ce._x=ne,ce._y=ie,l==null){if(h){if(Li!=null){let[O,P]=Xt.scales;Xt.values[0]=O!=null?Ge(H.ori==0?xt:Rt,O):null,Xt.values[1]=P!=null?Ge(H.ori==1?xt:Rt,P):null}zs(Bc,n,xt,Rt,ut,nt,p)}if(yn){let O=h&&Xt.setSeries,P=ws.prox;$e==null?ss<=P&&ye(pe,Cs,!0,O):ss>P?ye(null,Cs,!0,O):pe!=$e&&ye(pe,Cs,!0,O)}}Ke&&(mt.idx=p,ps()),c!==!1&&Jt("setCursor")}let Ys=null;Object.defineProperty(n,"rect",{get(){return Ys==null&&Ls(!1),Ys}});function Ls(l=!1){l?Ys=null:(Ys=W.getBoundingClientRect(),Jt("syncRect",Ys))}function Ai(l,c,h,p,g,y,L){B._lock||Ss&&l!=null&&l.movementX==0&&l.movementY==0||(fn(l,c,h,p,g,y,L,!1,l!=null),l!=null?Ks(null,!0,!0):Ks(c,!0,!1))}function fn(l,c,h,p,g,y,L,O,P){if(Ys==null&&Ls(!1),bn(l),l!=null)h=l.clientX-Ys.left,p=l.clientY-Ys.top;else{if(h<0||p<0){xt=-10,Rt=-10;return}let[$,V]=Xt.scales,F=c.cursor.sync,[tt,Dt]=F.values,[vt,pt]=F.scales,[rt,j]=Xt.match,At=c.axes[0].side%2==1,Gt=H.ori==0?ut:nt,jt=H.ori==1?ut:nt,$t=At?y:g,Zt=At?g:y,Le=At?p:h,Me=At?h:p;if(vt!=null?h=rt($,vt)?v(tt,x[$],Gt,0):-10:h=Gt*(Le/$t),pt!=null?p=j(V,pt)?v(Dt,x[V],jt,0):-10:p=jt*(Me/Zt),H.ori==1){let ke=h;h=p,p=ke}}P&&((h<=1||h>=ut-1)&&(h=li(h,ut)),(p<=1||p>=nt-1)&&(p=li(p,nt))),O?(bi=h,ln=p,[an,Us]=B.move(n,h,p)):(xt=h,Rt=p)}let lr={width:0,height:0,left:0,top:0};function Si(){Un(lr,!1)}let ar,cr,jr,Ur;function Kr(l,c,h,p,g,y,L){Ss=!0,ne=ie=ce._x=ce._y=!1,fn(l,c,h,p,g,y,L,!0,!1),l!=null&&(je(Jl,sa,ur,!1),zs(jc,n,an,Us,ut,nt,null));let{left:O,top:P,width:$,height:V}=Pt;ar=O,cr=P,jr=$,Ur=V}function ur(l,c,h,p,g,y,L){Ss=ce._x=ce._y=!1,fn(l,c,h,p,g,y,L,!1,!0);let{left:O,top:P,width:$,height:V}=Pt,F=$>0||V>0,tt=ar!=O||cr!=P||jr!=$||Ur!=V;if(F&&tt&&Un(Pt),ce.setScale&&F&&tt){let Dt=O,vt=$,pt=P,rt=V;if(H.ori==1&&(Dt=P,vt=V,pt=O,rt=$),ne&&Qt(R,Ge(Dt,R),Ge(Dt+vt,R)),ie)for(let j in x){let At=x[j];j!=R&&At.from==null&&At.min!=Vt&&Qt(j,Ge(pt+rt,j),Ge(pt,j))}Si()}else B.lock&&(B._lock=!B._lock,Ks(null,!0,!1));l!=null&&(Rs(Jl,sa),zs(Jl,n,xt,Rt,ut,nt,null))}function Ln(l,c,h,p,g,y,L){if(B._lock)return;bn(l);let O=Ss;if(Ss){let P=!0,$=!0,V=10,F,tt;H.ori==0?(F=ne,tt=ie):(F=ie,tt=ne),F&&tt&&(P=xt<=V||xt>=ut-V,$=Rt<=V||Rt>=nt-V),F&&P&&(xt=xt<an?0:ut),tt&&$&&(Rt=Rt<Us?0:nt),Ks(null,!0,!0),Ss=!1}xt=-10,Rt=-10,Ks(null,!0,!0),O&&(Ss=O)}function Yr(l,c,h,p,g,y,L){B._lock||(bn(l),qi(),Si(),l!=null&&zs(Yc,n,xt,Rt,ut,nt,null))}function zr(){Q.forEach(Mg),zi(n.width,n.height,!0)}ui(Co,Hi,zr);let hn={};hn.mousedown=Kr,hn.mousemove=Ai,hn.mouseup=ur,hn.dblclick=Yr,hn.setSeries=(l,c,h,p)=>{let g=Xt.match[2];h=g(n,c,h),h!=-1&&ye(h,p,!0,!1)},qt&&(je(jc,W,Kr),je(Bc,W,Ai),je(Uc,W,l=>{bn(l),Ls(!1)}),je(Kc,W,Ln),je(Yc,W,Yr),ua.add(n),n.syncRect=Ls);let Ci=n.hooks=s.hooks||{};function Jt(l,c,h){ir?hs.push([l,c,h]):l in Ci&&Ci[l].forEach(p=>{p.call(null,n,c,h)})}(s.plugins||[]).forEach(l=>{for(let c in l.hooks)Ci[c]=(Ci[c]||[]).concat(l.hooks[c])});let Kn=(l,c,h)=>h,Xt=ue({key:null,setSeries:!1,filters:{pub:nu,sub:nu},scales:[R,M[1]?M[1].scale:null],match:[iu,iu,Kn],values:[null,null]},B.sync);Xt.match.length==2&&Xt.match.push(Kn),B.sync=Xt;let Li=Xt.key,fr=Zu(Li);function zs(l,c,h,p,g,y,L){Xt.filters.pub(l,c,h,p,g,y,L)&&fr.pub(l,c,h,p,g,y,L)}fr.sub(n);function rl(l,c,h,p,g,y,L){Xt.filters.sub(l,c,h,p,g,y,L)&&hn[l](null,c,h,p,g,y,L)}n.pub=rl;function Gr(){fr.unsub(n),ua.delete(n),Js.clear(),ra(Co,Hi,zr),_.remove(),C?.remove(),Jt("destroy")}n.destroy=Gr;function Yn(){Jt("init",s,e),$r(e||s.data,!1),U[R]?An(R,U[R]):qi(),pi=Pt.show&&(Pt.width>0||Pt.height>0),Zs=Ke=!0,zi(s.width,s.height)}return M.forEach(Fn),Q.forEach(zo),i?i instanceof HTMLElement?(i.appendChild(_),Yn()):i(n,Yn):Yn(),n}Ae.assign=ue;Ae.fmtNum=_a;Ae.rangeNum=Lo;Ae.rangeLog=No;Ae.rangeAsinh=ma;Ae.orient=hi;Ae.pxRatio=St;Ae.join=Am;Ae.fmtDate=Ea,Ae.tzDate=Im;Ae.sync=Zu;{Ae.addGap=_g,Ae.clipGaps=Mo;let s=Ae.paths={points:of};s.linear=af,s.stepped=bg,s.bars=yg,s.spline=Tg}var{button:kg,div:hf,pre:fv,select:df,option:_n}=ge.tags,$o=class s{freq;data;uplot_index;constructor(e,i){this.freq=e,this.data=new Array,i&&this.data.push(i)}addData(e){this.data.push(e)}static fromJSON(e){if(e.freq){var i=new s(e.freq);if(e.data)for(let n=0;n<e.data.length;n++)i.addData(e.data[n]);return i}return null}expire(e){for(;this.data.length>0&&this.data[0].t<e;)this.data.shift()}expireOlderThen(e){let i=Date.now()-e*1e3;this.expire(i)}};function mf(s){let e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width","16"),e.setAttribute("height","16"),e.setAttribute("viewBox","0 0 16 16"),e.classList.add("bi"),e.classList.add("bi-pause");let i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",s),e.appendChild(i),e}function Ig(){return mf("M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5m4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5")}function pf(){return mf("M10.804 8 5 4.633v6.734zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696z")}var Vn=class extends vs{root;uplot;dataq;max_seconds;show_raw_rssi;max_storage_seconds;date_offset;cfg;update_uplot;players;getSeriesColor(e){switch(e%8){case 0:return"#03fce3";case 1:return"#fcba03";case 2:return"#fc037b";case 3:return"#fc3103";case 4:return"#00ff00";case 5:return"#0000ff";case 6:return"#ff00ff";case 7:return"#124511";default:return"red"}}updateGraph(e){if(this.uplot)return this.uplot.setData(e),this.uplot.setSize({width:this.getDom().offsetWidth,height:600}),this.uplot}getGraph(){if(this.uplot)return this.uplot;let e={title:"",width:1048,height:600,scales:{x:{time:!0},y:{auto:!1,range:[0,1300]}},series:[{label:"time:"},{stroke:"#70dba4",label:"peak"},{stroke:"#dbc270",label:"enter"},{stroke:"#3af51d",label:"leave"}],axes:[{label:"X Axis Label",labelSize:20},{space:50,side:1,label:"RSSI",labelGap:8,labelSize:28,stroke:"grey"}]};return this.uplot=new Ae(e,[[0,1,3],[1,1,1],[1,1,1],[1,1,1]],this.getDom()),this.uplot}async sendRssiUpdate(e){this.update_uplot=e,await fetch("/api/v1/rssi/update",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:`{"enable": ${e?"1":"0"}}`})}getDom(){return this.root||(this.sendRssiUpdate(!1),this.root=hf(hf({class:"input-group flex-nowrap"},kg({class:"btn btn-secondary",id:"btn_signal_pause",type:"button",onclick:()=>{this.update_uplot=!this.update_uplot,this.update_uplot?(this.sendRssiUpdate(!0),this.onNextValues(),_s("btn_signal_pause").replaceChildren(Ig())):(this.sendRssiUpdate(!1),_s("btn_signal_pause").replaceChildren(pf()))}},pf()),df({class:"form-select",id:"select_signal_duration",onchange:()=>{var e=_s("select_signal_duration");this.max_seconds=Number(e.value),this.onNextValues()}},_n({value:30},"30s"),_n({value:60,selected:!0},"60s"),_n({value:60*2},"2min"),_n({value:60*3},"3min"),_n({value:60*5},"5min"),_n({value:60*10},"10min"),_n({value:60*30},"30min")),df({class:"form-select",id:"select_signal_raw",onchange:()=>{var e=_s("select_signal_raw");this.show_raw_rssi=!!Number(e.value),this.onNextValues()}},_n({value:0,selected:!0},"filtered RSSI"),_n({value:1},"raw RSSI"))))),this.root}needSeriesUpdate(){return this.uplot?this.uplot.series.length!=this.dataq.length+1+3:!1}updateSeries(){if(this.uplot){for(let e=4;e<this.uplot.series.length;e++)this.uplot.delSeries(e);this.dataq.forEach((e,i)=>{e.uplot_index=i+4,this.uplot.addSeries({label:`freq:${e.freq}`,stroke:this.getSeriesColor(i)},e.uplot_index)})}}data2uplot(e,i){var n=0,a=0,f=0;this.cfg&&(n=this.cfg.rssi[0].peak,a=this.cfg.rssi[0].offset_enter/100*n,f=this.cfg.rssi[0].offset_leave/100*n);var d=Array.from([[[e,i],[n,n]],[[e,i],[a,a]],[[e,i],[f,f]]]),v=0,E=Number.MAX_VALUE;this.dataq.forEach(_=>{let D=new Array,w=new Array;_.data.forEach(A=>{let I=A.t/1e3;I>=e&&I<=i&&(v=v<I?I:v,E=E>I?I:E,D.push(I),w.push(this.show_raw_rssi?A.r:A.s))}),d.push(Array.from([D,w]))});for(let _=0;_<3;_++)d[_][0][0]=E,d[_][0][1]=v;return d}onNextValues(){if(!this.uplot)return;this.needSeriesUpdate()&&this.updateSeries();let e=Date.now()/1e3,i=this.data2uplot(e-this.max_seconds,e);this.updateGraph(Ae.join(i))}onRssiUpdate(e){for(let n of e.data){this.date_offset||(this.date_offset=Date.now()-n.t);var i=this.dataq.find(a=>a.freq==e.freq);i?i.addData(n):(i=new $o(e.freq,n),this.dataq.push(i)),i.expire(this.max_storage_seconds)}this.saveStorage(),this.update_uplot&&this.onNextValues()}saveStorage(){try{localStorage.setItem("SignalStorage",JSON.stringify(this.dataq))}catch{if(this.max_storage_seconds>30){console.info(`Storage to small, change history to max ${this.max_storage_seconds}s`),this.max_storage_seconds-=5;for(let i of this.dataq)i.expireOlderThen(this.max_storage_seconds)}}}loadStorage(){this.dataq=new Array;try{var e=localStorage.getItem("SignalStorage");if(e){let i=JSON.parse(e);for(let n=0;n<i.length;n++){let a=$o.fromJSON(i[n]);a&&this.dataq.push(a)}}}catch{this.dataq=new Array}}onPlayersUpdate(e){this.players=e}constructor(){super("RSSI"),this.max_storage_seconds=60*60,this.max_seconds=100,this.update_uplot=!0,this.show_raw_rssi=!1,this.getDom(),this.getGraph(),this.loadStorage(),document.addEventListener("SFT_RSSI",e=>{e.detail&&this.onRssiUpdate(e.detail)}),document.addEventListener("SFT_CONFIG_UPDATE",e=>{e.detail&&(this.cfg=e.detail)}),document.addEventListener("SFT_PLAYERS_UPDATE",e=>{e.detail&&this.onPlayersUpdate(e.detail)})}};var Vo=class extends Mn{constructor(e){super(e),this.pages.push(new yo),this.pages.push(new bo),this.pages.push(new In),this.pages.push(new Vn)}};var Ho=class extends Mn{constructor(e){super(e),this.pages.push(new In),this.pages.push(new Vn)}};var Fo=class extends Mn{constructor(e){super(e),this.pages.push(new In),this.pages.push(new Vn)}};var{button:$v,div:gf,pre:Vv}=ge.tags;var kr=class extends vs{root;getDom(){return this.root||(this.root=gf()),this.root}onRssiUpdate(e){this.root.append(gf(JSON.stringify(e)))}constructor(){super("DEBUG"),this.getDom(),document.addEventListener("SFT_RSSI",e=>{this.onRssiUpdate(e.detail)})}},_f=new Vo("Race");_f.addPage(new kr);var vf=new Ho("CTF");vf.addPage(new kr);var Ef=new Fo("CTF");Ef.addPage(new kr);var Wo=new po;Wo.addMode(0,_f);Wo.addMode(1,vf);Wo.addMode(2,Ef);ge.add(document.body,Wo.getDom());var Hv=new qs;Pn.instance().sync_time(null);setTimeout(()=>{console.debug("TimeSync offset: "+Pn.getOffset())},2e3);})();
/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
//# sourceMappingURL=app.js.map
