(()=>{var lp=Object.create;var Ec=Object.defineProperty;var ap=Object.getOwnPropertyDescriptor;var cp=Object.getOwnPropertyNames;var up=Object.getPrototypeOf,fp=Object.prototype.hasOwnProperty;var hp=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var dp=(n,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of cp(e))!fp.call(n,a)&&a!==r&&Ec(n,a,{get:()=>e[a],enumerable:!(i=ap(e,a))||i.enumerable});return n};var bc=(n,e,r)=>(r=n!=null?lp(up(n)):{},dp(e||!n||!n.__esModule?Ec(r,"default",{value:n,enumerable:!0}):r,n));var Ol=hp((Cl,Ll)=>{(function(n,e){typeof Cl=="object"&&typeof Ll<"u"?Ll.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.bootstrap=e())})(Cl,function(){"use strict";let n=new Map,e={set(o,t,s){n.has(o)||n.set(o,new Map);let u=n.get(o);if(!u.has(t)&&u.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(u.keys())[0]}.`);return}u.set(t,s)},get(o,t){return n.has(o)&&n.get(o).get(t)||null},remove(o,t){if(!n.has(o))return;let s=n.get(o);s.delete(t),s.size===0&&n.delete(o)}},r=1e6,i=1e3,a="transitionend",f=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(t,s)=>`#${CSS.escape(s)}`)),o),h=o=>o==null?`${o}`:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase(),v=o=>{do o+=Math.floor(Math.random()*r);while(document.getElementById(o));return o},E=o=>{if(!o)return 0;let{transitionDuration:t,transitionDelay:s}=window.getComputedStyle(o),u=Number.parseFloat(t),m=Number.parseFloat(s);return!u&&!m?0:(t=t.split(",")[0],s=s.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(s))*i)},_=o=>{o.dispatchEvent(new Event(a))},D=o=>!o||typeof o!="object"?!1:(typeof o.jquery<"u"&&(o=o[0]),typeof o.nodeType<"u"),w=o=>D(o)?o.jquery?o[0]:o:typeof o=="string"&&o.length>0?document.querySelector(f(o)):null,A=o=>{if(!D(o)||o.getClientRects().length===0)return!1;let t=getComputedStyle(o).getPropertyValue("visibility")==="visible",s=o.closest("details:not([open])");if(!s)return t;if(s!==o){let u=o.closest("summary");if(u&&u.parentNode!==s||u===null)return!1}return t},I=o=>!o||o.nodeType!==Node.ELEMENT_NODE||o.classList.contains("disabled")?!0:typeof o.disabled<"u"?o.disabled:o.hasAttribute("disabled")&&o.getAttribute("disabled")!=="false",W=o=>{if(!document.documentElement.attachShadow)return null;if(typeof o.getRootNode=="function"){let t=o.getRootNode();return t instanceof ShadowRoot?t:null}return o instanceof ShadowRoot?o:o.parentNode?W(o.parentNode):null},Y=()=>{},q=o=>{o.offsetHeight},et=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,M=[],Q=o=>{document.readyState==="loading"?(M.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of M)t()}),M.push(o)):o()},x=()=>document.documentElement.dir==="rtl",Z=o=>{Q(()=>{let t=et();if(t){let s=o.NAME,u=t.fn[s];t.fn[s]=o.jQueryInterface,t.fn[s].Constructor=o,t.fn[s].noConflict=()=>(t.fn[s]=u,o.jQueryInterface)}})},$=(o,t=[],s=o)=>typeof o=="function"?o(...t):s,ht=(o,t,s=!0)=>{if(!s){$(o);return}let m=E(t)+5,b=!1,T=({target:S})=>{S===t&&(b=!0,t.removeEventListener(a,T),$(o))};t.addEventListener(a,T),setTimeout(()=>{b||_(t)},m)},it=(o,t,s,u)=>{let m=o.length,b=o.indexOf(t);return b===-1?!s&&u?o[m-1]:o[0]:(b+=s?1:-1,u&&(b=(b+m)%m),o[Math.max(0,Math.min(b,m-1))])},ft=/[^.]*(?=\..*)\.|.*/,H=/\..*/,X=/::\d+$/,nt={},z=1,j={mouseenter:"mouseover",mouseleave:"mouseout"},at=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function yt(o,t){return t&&`${t}::${z++}`||o.uidEvent||z++}function J(o){let t=yt(o);return o.uidEvent=t,nt[t]=nt[t]||{},nt[t]}function xe(o,t){return function s(u){return Nt(u,{delegateTarget:o}),s.oneOff&&C.off(o,u.type,t),t.apply(o,[u])}}function Ft(o,t,s){return function u(m){let b=o.querySelectorAll(t);for(let{target:T}=m;T&&T!==this;T=T.parentNode)for(let S of b)if(S===T)return Nt(m,{delegateTarget:T}),u.oneOff&&C.off(o,m.type,t,s),s.apply(T,[m])}}function ot(o,t,s=null){return Object.values(o).find(u=>u.callable===t&&u.delegationSelector===s)}function mt(o,t,s){let u=typeof t=="string",m=u?s:t||s,b=Yt(o);return at.has(b)||(b=o),[u,m,b]}function B(o,t,s,u,m){if(typeof t!="string"||!o)return;let[b,T,S]=mt(t,s,u);t in j&&(T=(Wt=>function(_t){if(!_t.relatedTarget||_t.relatedTarget!==_t.delegateTarget&&!_t.delegateTarget.contains(_t.relatedTarget))return Wt.call(this,_t)})(T));let N=J(o),K=N[S]||(N[S]={}),k=ot(K,T,b?s:null);if(k){k.oneOff=k.oneOff&&m;return}let dt=yt(T,t.replace(ft,"")),gt=b?Ft(o,s,T):xe(o,T);gt.delegationSelector=b?s:null,gt.callable=T,gt.oneOff=m,gt.uidEvent=dt,K[dt]=gt,o.addEventListener(S,gt,b)}function Ot(o,t,s,u,m){let b=ot(t[s],u,m);b&&(o.removeEventListener(s,b,!!m),delete t[s][b.uidEvent])}function Qt(o,t,s,u){let m=t[s]||{};for(let[b,T]of Object.entries(m))b.includes(u)&&Ot(o,t,s,T.callable,T.delegationSelector)}function Yt(o){return o=o.replace(H,""),j[o]||o}let C={on(o,t,s,u){B(o,t,s,u,!1)},one(o,t,s,u){B(o,t,s,u,!0)},off(o,t,s,u){if(typeof t!="string"||!o)return;let[m,b,T]=mt(t,s,u),S=T!==t,N=J(o),K=N[T]||{},k=t.startsWith(".");if(typeof b<"u"){if(!Object.keys(K).length)return;Ot(o,N,T,b,m?s:null);return}if(k)for(let dt of Object.keys(N))Qt(o,N,dt,t.slice(1));for(let[dt,gt]of Object.entries(K)){let ct=dt.replace(X,"");(!S||t.includes(ct))&&Ot(o,N,T,gt.callable,gt.delegationSelector)}},trigger(o,t,s){if(typeof t!="string"||!o)return null;let u=et(),m=Yt(t),b=t!==m,T=null,S=!0,N=!0,K=!1;b&&u&&(T=u.Event(t,s),u(o).trigger(T),S=!T.isPropagationStopped(),N=!T.isImmediatePropagationStopped(),K=T.isDefaultPrevented());let k=Nt(new Event(t,{bubbles:S,cancelable:!0}),s);return K&&k.preventDefault(),N&&o.dispatchEvent(k),k.defaultPrevented&&T&&T.preventDefault(),k}};function Nt(o,t={}){for(let[s,u]of Object.entries(t))try{o[s]=u}catch{Object.defineProperty(o,s,{configurable:!0,get(){return u}})}return o}function Pe(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function he(o){return o.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}let Ct={setDataAttribute(o,t,s){o.setAttribute(`data-bs-${he(t)}`,s)},removeDataAttribute(o,t){o.removeAttribute(`data-bs-${he(t)}`)},getDataAttributes(o){if(!o)return{};let t={},s=Object.keys(o.dataset).filter(u=>u.startsWith("bs")&&!u.startsWith("bsConfig"));for(let u of s){let m=u.replace(/^bs/,"");m=m.charAt(0).toLowerCase()+m.slice(1,m.length),t[m]=Pe(o.dataset[u])}return t},getDataAttribute(o,t){return Pe(o.getAttribute(`data-bs-${he(t)}`))}};class Se{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,s){let u=D(s)?Ct.getDataAttribute(s,"config"):{};return{...this.constructor.Default,...typeof u=="object"?u:{},...D(s)?Ct.getDataAttributes(s):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,s=this.constructor.DefaultType){for(let[u,m]of Object.entries(s)){let b=t[u],T=D(b)?"element":h(b);if(!new RegExp(m).test(T))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${u}" provided type "${T}" but expected type "${m}".`)}}}let je="5.3.3";class ae extends Se{constructor(t,s){super(),t=w(t),t&&(this._element=t,this._config=this._getConfig(s),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),C.off(this._element,this.constructor.EVENT_KEY);for(let t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,s,u=!0){ht(t,s,u)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return e.get(w(t),this.DATA_KEY)}static getOrCreateInstance(t,s={}){return this.getInstance(t)||new this(t,typeof s=="object"?s:null)}static get VERSION(){return je}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}let In=o=>{let t=o.getAttribute("data-bs-target");if(!t||t==="#"){let s=o.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),t=s&&s!=="#"?s.trim():null}return t?t.split(",").map(s=>f(s)).join(","):null},G={find(o,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,o))},findOne(o,t=document.documentElement){return Element.prototype.querySelector.call(t,o)},children(o,t){return[].concat(...o.children).filter(s=>s.matches(t))},parents(o,t){let s=[],u=o.parentNode.closest(t);for(;u;)s.push(u),u=u.parentNode.closest(t);return s},prev(o,t){let s=o.previousElementSibling;for(;s;){if(s.matches(t))return[s];s=s.previousElementSibling}return[]},next(o,t){let s=o.nextElementSibling;for(;s;){if(s.matches(t))return[s];s=s.nextElementSibling}return[]},focusableChildren(o){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(s=>`${s}:not([tabindex^="-"])`).join(",");return this.find(t,o).filter(s=>!I(s)&&A(s))},getSelectorFromElement(o){let t=In(o);return t&&G.findOne(t)?t:null},getElementFromSelector(o){let t=In(o);return t?G.findOne(t):null},getMultipleElementsFromSelector(o){let t=In(o);return t?G.find(t):[]}},$n=(o,t="hide")=>{let s=`click.dismiss${o.EVENT_KEY}`,u=o.NAME;C.on(document,s,`[data-bs-dismiss="${u}"]`,function(m){if(["A","AREA"].includes(this.tagName)&&m.preventDefault(),I(this))return;let b=G.getElementFromSelector(this)||this.closest(`.${u}`);o.getOrCreateInstance(b)[t]()})},Hs="alert",Ke=".bs.alert",Rn=`close${Ke}`,Vn=`closed${Ke}`,wn="fade",ut="show";class st extends ae{static get NAME(){return Hs}close(){if(C.trigger(this._element,Rn).defaultPrevented)return;this._element.classList.remove(ut);let s=this._element.classList.contains(wn);this._queueCallback(()=>this._destroyElement(),this._element,s)}_destroyElement(){this._element.remove(),C.trigger(this._element,Vn),this.dispose()}static jQueryInterface(t){return this.each(function(){let s=st.getOrCreateInstance(this);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t](this)}})}}$n(st,"close"),Z(st);let lt="button",Hn=".bs.button",Es=".data-api",Fn="active",Xe='[data-bs-toggle="button"]',Ze=`click${Hn}${Es}`;class de extends ae{static get NAME(){return lt}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Fn))}static jQueryInterface(t){return this.each(function(){let s=de.getOrCreateInstance(this);t==="toggle"&&s[t]()})}}C.on(document,Ze,Xe,o=>{o.preventDefault();let t=o.target.closest(Xe);de.getOrCreateInstance(t).toggle()}),Z(de);let Ye="swipe",ne=".bs.swipe",ts=`touchstart${ne}`,gi=`touchmove${ne}`,bs=`touchend${ne}`,es=`pointerdown${ne}`,_i=`pointerup${ne}`,Ge="touch",zi="pen",Rr="pointer-event",jo=40,Ko={endCallback:null,leftCallback:null,rightCallback:null},Yo={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class vi extends Se{constructor(t,s){super(),this._element=t,!(!t||!vi.isSupported())&&(this._config=this._getConfig(s),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ko}static get DefaultType(){return Yo}static get NAME(){return Ye}dispose(){C.off(this._element,ne)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),$(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){let t=Math.abs(this._deltaX);if(t<=jo)return;let s=t/this._deltaX;this._deltaX=0,s&&$(s>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(C.on(this._element,es,t=>this._start(t)),C.on(this._element,_i,t=>this._end(t)),this._element.classList.add(Rr)):(C.on(this._element,ts,t=>this._start(t)),C.on(this._element,gi,t=>this._move(t)),C.on(this._element,bs,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===zi||t.pointerType===Ge)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}let Go="carousel",Bt=".bs.carousel",Tn=".data-api",ws="ArrowLeft",Ts="ArrowRight",ze=500,hn="next",tn="prev",ns="left",Fs="right",zo=`slide${Bt}`,qi=`slid${Bt}`,ss=`keydown${Bt}`,qo=`mouseenter${Bt}`,Ws=`mouseleave${Bt}`,Vr=`dragstart${Bt}`,Wn=`load${Bt}${Tn}`,pe=`click${Bt}${Tn}`,se="carousel",Gt="active",Ei="slide",en="carousel-item-end",Bs="carousel-item-start",Hr="carousel-item-next",Qi="carousel-item-prev",Us=".active",is=".carousel-item",Ji=Us+is,Xi=".carousel-item img",Zi=".carousel-indicators",tr="[data-bs-slide], [data-bs-slide-to]",er='[data-bs-ride="carousel"]',nr={[ws]:Fs,[Ts]:ns},sr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},An={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class rs extends ae{constructor(t,s){super(t,s),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=G.findOne(Zi,this._element),this._addEventListeners(),this._config.ride===se&&this.cycle()}static get Default(){return sr}static get DefaultType(){return An}static get NAME(){return Go}next(){this._slide(hn)}nextWhenVisible(){!document.hidden&&A(this._element)&&this.next()}prev(){this._slide(tn)}pause(){this._isSliding&&_(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){C.one(this._element,qi,()=>this.cycle());return}this.cycle()}}to(t){let s=this._getItems();if(t>s.length-1||t<0)return;if(this._isSliding){C.one(this._element,qi,()=>this.to(t));return}let u=this._getItemIndex(this._getActive());if(u===t)return;let m=t>u?hn:tn;this._slide(m,s[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&C.on(this._element,ss,t=>this._keydown(t)),this._config.pause==="hover"&&(C.on(this._element,qo,()=>this.pause()),C.on(this._element,Ws,()=>this._maybeEnableCycle())),this._config.touch&&vi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let u of G.find(Xi,this._element))C.on(u,Vr,m=>m.preventDefault());let s={leftCallback:()=>this._slide(this._directionToOrder(ns)),rightCallback:()=>this._slide(this._directionToOrder(Fs)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),ze+this._config.interval))}};this._swipeHelper=new vi(this._element,s)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;let s=nr[t.key];s&&(t.preventDefault(),this._slide(this._directionToOrder(s)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;let s=G.findOne(Us,this._indicatorsElement);s.classList.remove(Gt),s.removeAttribute("aria-current");let u=G.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);u&&(u.classList.add(Gt),u.setAttribute("aria-current","true"))}_updateInterval(){let t=this._activeElement||this._getActive();if(!t)return;let s=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=s||this._config.defaultInterval}_slide(t,s=null){if(this._isSliding)return;let u=this._getActive(),m=t===hn,b=s||it(this._getItems(),u,m,this._config.wrap);if(b===u)return;let T=this._getItemIndex(b),S=ct=>C.trigger(this._element,ct,{relatedTarget:b,direction:this._orderToDirection(t),from:this._getItemIndex(u),to:T});if(S(zo).defaultPrevented||!u||!b)return;let K=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(T),this._activeElement=b;let k=m?Bs:en,dt=m?Hr:Qi;b.classList.add(dt),q(b),u.classList.add(k),b.classList.add(k);let gt=()=>{b.classList.remove(k,dt),b.classList.add(Gt),u.classList.remove(Gt,dt,k),this._isSliding=!1,S(qi)};this._queueCallback(gt,u,this._isAnimated()),K&&this.cycle()}_isAnimated(){return this._element.classList.contains(Ei)}_getActive(){return G.findOne(Ji,this._element)}_getItems(){return G.find(is,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return x()?t===ns?tn:hn:t===ns?hn:tn}_orderToDirection(t){return x()?t===tn?ns:Fs:t===tn?Fs:ns}static jQueryInterface(t){return this.each(function(){let s=rs.getOrCreateInstance(this,t);if(typeof t=="number"){s.to(t);return}if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t]()}})}}C.on(document,pe,tr,function(o){let t=G.getElementFromSelector(this);if(!t||!t.classList.contains(se))return;o.preventDefault();let s=rs.getOrCreateInstance(t),u=this.getAttribute("data-bs-slide-to");if(u){s.to(u),s._maybeEnableCycle();return}if(Ct.getDataAttribute(this,"slide")==="next"){s.next(),s._maybeEnableCycle();return}s.prev(),s._maybeEnableCycle()}),C.on(window,Wn,()=>{let o=G.find(er);for(let t of o)rs.getOrCreateInstance(t)}),Z(rs);let Fr="collapse",As=".bs.collapse",Qo=".data-api",Jo=`show${As}`,Xo=`shown${As}`,Br=`hide${As}`,Ur=`hidden${As}`,Zo=`click${As}${Qo}`,bi="show",Bn="collapse",os="collapsing",yi="collapsed",tl=`:scope .${Bn} .${Bn}`,ir="collapse-horizontal",el="width",nl="height",sl=".collapse.show, .collapse.collapsing",Un='[data-bs-toggle="collapse"]',wi={parent:null,toggle:!0},rr={parent:"(null|element)",toggle:"boolean"};class dn extends ae{constructor(t,s){super(t,s),this._isTransitioning=!1,this._triggerArray=[];let u=G.find(Un);for(let m of u){let b=G.getSelectorFromElement(m),T=G.find(b).filter(S=>S===this._element);b!==null&&T.length&&this._triggerArray.push(m)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return wi}static get DefaultType(){return rr}static get NAME(){return Fr}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(sl).filter(S=>S!==this._element).map(S=>dn.getOrCreateInstance(S,{toggle:!1}))),t.length&&t[0]._isTransitioning||C.trigger(this._element,Jo).defaultPrevented)return;for(let S of t)S.hide();let u=this._getDimension();this._element.classList.remove(Bn),this._element.classList.add(os),this._element.style[u]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let m=()=>{this._isTransitioning=!1,this._element.classList.remove(os),this._element.classList.add(Bn,bi),this._element.style[u]="",C.trigger(this._element,Xo)},T=`scroll${u[0].toUpperCase()+u.slice(1)}`;this._queueCallback(m,this._element,!0),this._element.style[u]=`${this._element[T]}px`}hide(){if(this._isTransitioning||!this._isShown()||C.trigger(this._element,Br).defaultPrevented)return;let s=this._getDimension();this._element.style[s]=`${this._element.getBoundingClientRect()[s]}px`,q(this._element),this._element.classList.add(os),this._element.classList.remove(Bn,bi);for(let m of this._triggerArray){let b=G.getElementFromSelector(m);b&&!this._isShown(b)&&this._addAriaAndCollapsedClass([m],!1)}this._isTransitioning=!0;let u=()=>{this._isTransitioning=!1,this._element.classList.remove(os),this._element.classList.add(Bn),C.trigger(this._element,Ur)};this._element.style[s]="",this._queueCallback(u,this._element,!0)}_isShown(t=this._element){return t.classList.contains(bi)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=w(t.parent),t}_getDimension(){return this._element.classList.contains(ir)?el:nl}_initializeChildren(){if(!this._config.parent)return;let t=this._getFirstLevelChildren(Un);for(let s of t){let u=G.getElementFromSelector(s);u&&this._addAriaAndCollapsedClass([s],this._isShown(u))}}_getFirstLevelChildren(t){let s=G.find(tl,this._config.parent);return G.find(t,this._config.parent).filter(u=>!s.includes(u))}_addAriaAndCollapsedClass(t,s){if(t.length)for(let u of t)u.classList.toggle(yi,!s),u.setAttribute("aria-expanded",s)}static jQueryInterface(t){let s={};return typeof t=="string"&&/show|hide/.test(t)&&(s.toggle=!1),this.each(function(){let u=dn.getOrCreateInstance(this,s);if(typeof t=="string"){if(typeof u[t]>"u")throw new TypeError(`No method named "${t}"`);u[t]()}})}}C.on(document,Zo,Un,function(o){(o.target.tagName==="A"||o.delegateTarget&&o.delegateTarget.tagName==="A")&&o.preventDefault();for(let t of G.getMultipleElementsFromSelector(this))dn.getOrCreateInstance(t,{toggle:!1}).toggle()}),Z(dn);var Ce="top",ce="bottom",$e="right",be="left",Ss="auto",jn=[Ce,ce,$e,be],Sn="start",nn="end",ls="clippingParents",Ti="viewport",as="popper",cs="reference",Kn=jn.reduce(function(o,t){return o.concat([t+"-"+Sn,t+"-"+nn])},[]),Ai=[].concat(jn,[Ss]).reduce(function(o,t){return o.concat([t,t+"-"+Sn,t+"-"+nn])},[]),or="beforeRead",xt="read",$t="afterRead",Cn="beforeMain",ue="main",ie="afterMain",re="beforeWrite",Pt="write",us="afterWrite",js=[or,xt,$t,Cn,ue,ie,re,Pt,us];function pn(o){return o?(o.nodeName||"").toLowerCase():null}function Jt(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var t=o.ownerDocument;return t&&t.defaultView||window}return o}function ye(o){var t=Jt(o).Element;return o instanceof t||o instanceof Element}function qe(o){var t=Jt(o).HTMLElement;return o instanceof t||o instanceof HTMLElement}function lr(o){if(typeof ShadowRoot>"u")return!1;var t=Jt(o).ShadowRoot;return o instanceof t||o instanceof ShadowRoot}function il(o){var t=o.state;Object.keys(t.elements).forEach(function(s){var u=t.styles[s]||{},m=t.attributes[s]||{},b=t.elements[s];!qe(b)||!pn(b)||(Object.assign(b.style,u),Object.keys(m).forEach(function(T){var S=m[T];S===!1?b.removeAttribute(T):b.setAttribute(T,S===!0?"":S)}))})}function rl(o){var t=o.state,s={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,s.popper),t.styles=s,t.elements.arrow&&Object.assign(t.elements.arrow.style,s.arrow),function(){Object.keys(t.elements).forEach(function(u){var m=t.elements[u],b=t.attributes[u]||{},T=Object.keys(t.styles.hasOwnProperty(u)?t.styles[u]:s[u]),S=T.reduce(function(N,K){return N[K]="",N},{});!qe(m)||!pn(m)||(Object.assign(m.style,S),Object.keys(b).forEach(function(N){m.removeAttribute(N)}))})}}let sn={name:"applyStyles",enabled:!0,phase:"write",fn:il,effect:rl,requires:["computeStyles"]};function me(o){return o.split("-")[0]}var Re=Math.max,Ln=Math.min,Cs=Math.round;function Qe(){var o=navigator.userAgentData;return o!=null&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function jr(){return!/^((?!chrome|android).)*safari/i.test(Qe())}function fs(o,t,s){t===void 0&&(t=!1),s===void 0&&(s=!1);var u=o.getBoundingClientRect(),m=1,b=1;t&&qe(o)&&(m=o.offsetWidth>0&&Cs(u.width)/o.offsetWidth||1,b=o.offsetHeight>0&&Cs(u.height)/o.offsetHeight||1);var T=ye(o)?Jt(o):window,S=T.visualViewport,N=!jr()&&s,K=(u.left+(N&&S?S.offsetLeft:0))/m,k=(u.top+(N&&S?S.offsetTop:0))/b,dt=u.width/m,gt=u.height/b;return{width:dt,height:gt,top:k,right:K+dt,bottom:k+gt,left:K,x:K,y:k}}function Si(o){var t=fs(o),s=o.offsetWidth,u=o.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-u)<=1&&(u=t.height),{x:o.offsetLeft,y:o.offsetTop,width:s,height:u}}function Ls(o,t){var s=t.getRootNode&&t.getRootNode();if(o.contains(t))return!0;if(s&&lr(s)){var u=t;do{if(u&&o.isSameNode(u))return!0;u=u.parentNode||u.host}while(u)}return!1}function Ve(o){return Jt(o).getComputedStyle(o)}function ol(o){return["table","td","th"].indexOf(pn(o))>=0}function mn(o){return((ye(o)?o.ownerDocument:o.document)||window.document).documentElement}function Ci(o){return pn(o)==="html"?o:o.assignedSlot||o.parentNode||(lr(o)?o.host:null)||mn(o)}function Yn(o){return!qe(o)||Ve(o).position==="fixed"?null:o.offsetParent}function Gn(o){var t=/firefox/i.test(Qe()),s=/Trident/i.test(Qe());if(s&&qe(o)){var u=Ve(o);if(u.position==="fixed")return null}var m=Ci(o);for(lr(m)&&(m=m.host);qe(m)&&["html","body"].indexOf(pn(m))<0;){var b=Ve(m);if(b.transform!=="none"||b.perspective!=="none"||b.contain==="paint"||["transform","perspective"].indexOf(b.willChange)!==-1||t&&b.willChange==="filter"||t&&b.filter&&b.filter!=="none")return m;m=m.parentNode}return null}function On(o){for(var t=Jt(o),s=Yn(o);s&&ol(s)&&Ve(s).position==="static";)s=Yn(s);return s&&(pn(s)==="html"||pn(s)==="body"&&Ve(s).position==="static")?t:s||Gn(o)||t}function Li(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function hs(o,t,s){return Re(o,Ln(t,s))}function ar(o,t,s){var u=hs(o,t,s);return u>s?s:u}function Oi(){return{top:0,right:0,bottom:0,left:0}}function cr(o){return Object.assign({},Oi(),o)}function ur(o,t){return t.reduce(function(s,u){return s[u]=o,s},{})}var Kr=function(t,s){return t=typeof t=="function"?t(Object.assign({},s.rects,{placement:s.placement})):t,cr(typeof t!="number"?t:ur(t,jn))};function Yr(o){var t,s=o.state,u=o.name,m=o.options,b=s.elements.arrow,T=s.modifiersData.popperOffsets,S=me(s.placement),N=Li(S),K=[be,$e].indexOf(S)>=0,k=K?"height":"width";if(!(!b||!T)){var dt=Kr(m.padding,s),gt=Si(b),ct=N==="y"?Ce:be,Wt=N==="y"?ce:$e,_t=s.rects.reference[k]+s.rects.reference[N]-T[N]-s.rects.popper[k],wt=T[N]-s.rects.reference[N],jt=On(b),oe=jt?N==="y"?jt.clientHeight||0:jt.clientWidth||0:0,le=_t/2-wt/2,Et=dt[ct],Mt=oe-gt[k]-dt[Wt],kt=oe/2-gt[k]/2+le,ee=hs(Et,kt,Mt),Ne=N;s.modifiersData[u]=(t={},t[Ne]=ee,t.centerOffset=ee-kt,t)}}function Gr(o){var t=o.state,s=o.options,u=s.element,m=u===void 0?"[data-popper-arrow]":u;m!=null&&(typeof m=="string"&&(m=t.elements.popper.querySelector(m),!m)||Ls(t.elements.popper,m)&&(t.elements.arrow=m))}let fr={name:"arrow",enabled:!0,phase:"main",fn:Yr,effect:Gr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Os(o){return o.split("-")[1]}var zr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qr(o,t){var s=o.x,u=o.y,m=t.devicePixelRatio||1;return{x:Cs(s*m)/m||0,y:Cs(u*m)/m||0}}function ds(o){var t,s=o.popper,u=o.popperRect,m=o.placement,b=o.variation,T=o.offsets,S=o.position,N=o.gpuAcceleration,K=o.adaptive,k=o.roundOffsets,dt=o.isFixed,gt=T.x,ct=gt===void 0?0:gt,Wt=T.y,_t=Wt===void 0?0:Wt,wt=typeof k=="function"?k({x:ct,y:_t}):{x:ct,y:_t};ct=wt.x,_t=wt.y;var jt=T.hasOwnProperty("x"),oe=T.hasOwnProperty("y"),le=be,Et=Ce,Mt=window;if(K){var kt=On(s),ee="clientHeight",Ne="clientWidth";if(kt===Jt(s)&&(kt=mn(s),Ve(kt).position!=="static"&&S==="absolute"&&(ee="scrollHeight",Ne="scrollWidth")),kt=kt,m===Ce||(m===be||m===$e)&&b===nn){Et=ce;var Te=dt&&kt===Mt&&Mt.visualViewport?Mt.visualViewport.height:kt[ee];_t-=Te-u.height,_t*=N?1:-1}if(m===be||(m===Ce||m===ce)&&b===nn){le=$e;var ge=dt&&kt===Mt&&Mt.visualViewport?Mt.visualViewport.width:kt[Ne];ct-=ge-u.width,ct*=N?1:-1}}var Ie=Object.assign({position:S},K&&zr),Nn=k===!0?qr({x:ct,y:_t},Jt(s)):{x:ct,y:_t};if(ct=Nn.x,_t=Nn.y,N){var Fe;return Object.assign({},Ie,(Fe={},Fe[Et]=oe?"0":"",Fe[le]=jt?"0":"",Fe.transform=(Mt.devicePixelRatio||1)<=1?"translate("+ct+"px, "+_t+"px)":"translate3d("+ct+"px, "+_t+"px, 0)",Fe))}return Object.assign({},Ie,(t={},t[Et]=oe?_t+"px":"",t[le]=jt?ct+"px":"",t.transform="",t))}function Di(o){var t=o.state,s=o.options,u=s.gpuAcceleration,m=u===void 0?!0:u,b=s.adaptive,T=b===void 0?!0:b,S=s.roundOffsets,N=S===void 0?!0:S,K={placement:me(t.placement),variation:Os(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:m,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ds(Object.assign({},K,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:T,roundOffsets:N})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ds(Object.assign({},K,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:N})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}let Xt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Di,data:{}};var Ks={passive:!0};function Zt(o){var t=o.state,s=o.instance,u=o.options,m=u.scroll,b=m===void 0?!0:m,T=u.resize,S=T===void 0?!0:T,N=Jt(t.elements.popper),K=[].concat(t.scrollParents.reference,t.scrollParents.popper);return b&&K.forEach(function(k){k.addEventListener("scroll",s.update,Ks)}),S&&N.addEventListener("resize",s.update,Ks),function(){b&&K.forEach(function(k){k.removeEventListener("scroll",s.update,Ks)}),S&&N.removeEventListener("resize",s.update,Ks)}}let Ni={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Zt,data:{}};var hr={left:"right",right:"left",bottom:"top",top:"bottom"};function zn(o){return o.replace(/left|right|bottom|top/g,function(t){return hr[t]})}var ll={start:"end",end:"start"};function Qr(o){return o.replace(/start|end/g,function(t){return ll[t]})}function Ys(o){var t=Jt(o),s=t.pageXOffset,u=t.pageYOffset;return{scrollLeft:s,scrollTop:u}}function l(o){return fs(mn(o)).left+Ys(o).scrollLeft}function c(o,t){var s=Jt(o),u=mn(o),m=s.visualViewport,b=u.clientWidth,T=u.clientHeight,S=0,N=0;if(m){b=m.width,T=m.height;var K=jr();(K||!K&&t==="fixed")&&(S=m.offsetLeft,N=m.offsetTop)}return{width:b,height:T,x:S+l(o),y:N}}function d(o){var t,s=mn(o),u=Ys(o),m=(t=o.ownerDocument)==null?void 0:t.body,b=Re(s.scrollWidth,s.clientWidth,m?m.scrollWidth:0,m?m.clientWidth:0),T=Re(s.scrollHeight,s.clientHeight,m?m.scrollHeight:0,m?m.clientHeight:0),S=-u.scrollLeft+l(o),N=-u.scrollTop;return Ve(m||s).direction==="rtl"&&(S+=Re(s.clientWidth,m?m.clientWidth:0)-b),{width:b,height:T,x:S,y:N}}function p(o){var t=Ve(o),s=t.overflow,u=t.overflowX,m=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+m+u)}function g(o){return["html","body","#document"].indexOf(pn(o))>=0?o.ownerDocument.body:qe(o)&&p(o)?o:g(Ci(o))}function y(o,t){var s;t===void 0&&(t=[]);var u=g(o),m=u===((s=o.ownerDocument)==null?void 0:s.body),b=Jt(u),T=m?[b].concat(b.visualViewport||[],p(u)?u:[]):u,S=t.concat(T);return m?S:S.concat(y(Ci(T)))}function L(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function O(o,t){var s=fs(o,!1,t==="fixed");return s.top=s.top+o.clientTop,s.left=s.left+o.clientLeft,s.bottom=s.top+o.clientHeight,s.right=s.left+o.clientWidth,s.width=o.clientWidth,s.height=o.clientHeight,s.x=s.left,s.y=s.top,s}function P(o,t,s){return t===Ti?L(c(o,s)):ye(t)?O(t,s):L(d(mn(o)))}function R(o){var t=y(Ci(o)),s=["absolute","fixed"].indexOf(Ve(o).position)>=0,u=s&&qe(o)?On(o):o;return ye(u)?t.filter(function(m){return ye(m)&&Ls(m,u)&&pn(m)!=="body"}):[]}function V(o,t,s,u){var m=t==="clippingParents"?R(o):[].concat(t),b=[].concat(m,[s]),T=b[0],S=b.reduce(function(N,K){var k=P(o,K,u);return N.top=Re(k.top,N.top),N.right=Ln(k.right,N.right),N.bottom=Ln(k.bottom,N.bottom),N.left=Re(k.left,N.left),N},P(o,T,u));return S.width=S.right-S.left,S.height=S.bottom-S.top,S.x=S.left,S.y=S.top,S}function F(o){var t=o.reference,s=o.element,u=o.placement,m=u?me(u):null,b=u?Os(u):null,T=t.x+t.width/2-s.width/2,S=t.y+t.height/2-s.height/2,N;switch(m){case Ce:N={x:T,y:t.y-s.height};break;case ce:N={x:T,y:t.y+t.height};break;case $e:N={x:t.x+t.width,y:S};break;case be:N={x:t.x-s.width,y:S};break;default:N={x:t.x,y:t.y}}var K=m?Li(m):null;if(K!=null){var k=K==="y"?"height":"width";switch(b){case Sn:N[K]=N[K]-(t[k]/2-s[k]/2);break;case nn:N[K]=N[K]+(t[k]/2-s[k]/2);break}}return N}function tt(o,t){t===void 0&&(t={});var s=t,u=s.placement,m=u===void 0?o.placement:u,b=s.strategy,T=b===void 0?o.strategy:b,S=s.boundary,N=S===void 0?ls:S,K=s.rootBoundary,k=K===void 0?Ti:K,dt=s.elementContext,gt=dt===void 0?as:dt,ct=s.altBoundary,Wt=ct===void 0?!1:ct,_t=s.padding,wt=_t===void 0?0:_t,jt=cr(typeof wt!="number"?wt:ur(wt,jn)),oe=gt===as?cs:as,le=o.rects.popper,Et=o.elements[Wt?oe:gt],Mt=V(ye(Et)?Et:Et.contextElement||mn(o.elements.popper),N,k,T),kt=fs(o.elements.reference),ee=F({reference:kt,element:le,strategy:"absolute",placement:m}),Ne=L(Object.assign({},le,ee)),Te=gt===as?Ne:kt,ge={top:Mt.top-Te.top+jt.top,bottom:Te.bottom-Mt.bottom+jt.bottom,left:Mt.left-Te.left+jt.left,right:Te.right-Mt.right+jt.right},Ie=o.modifiersData.offset;if(gt===as&&Ie){var Nn=Ie[m];Object.keys(ge).forEach(function(Fe){var ti=[$e,ce].indexOf(Fe)>=0?1:-1,ei=[Ce,ce].indexOf(Fe)>=0?"y":"x";ge[Fe]+=Nn[ei]*ti})}return ge}function Dt(o,t){t===void 0&&(t={});var s=t,u=s.placement,m=s.boundary,b=s.rootBoundary,T=s.padding,S=s.flipVariations,N=s.allowedAutoPlacements,K=N===void 0?Ai:N,k=Os(u),dt=k?S?Kn:Kn.filter(function(Wt){return Os(Wt)===k}):jn,gt=dt.filter(function(Wt){return K.indexOf(Wt)>=0});gt.length===0&&(gt=dt);var ct=gt.reduce(function(Wt,_t){return Wt[_t]=tt(o,{placement:_t,boundary:m,rootBoundary:b,padding:T})[me(_t)],Wt},{});return Object.keys(ct).sort(function(Wt,_t){return ct[Wt]-ct[_t]})}function vt(o){if(me(o)===Ss)return[];var t=zn(o);return[Qr(o),t,Qr(t)]}function pt(o){var t=o.state,s=o.options,u=o.name;if(!t.modifiersData[u]._skip){for(var m=s.mainAxis,b=m===void 0?!0:m,T=s.altAxis,S=T===void 0?!0:T,N=s.fallbackPlacements,K=s.padding,k=s.boundary,dt=s.rootBoundary,gt=s.altBoundary,ct=s.flipVariations,Wt=ct===void 0?!0:ct,_t=s.allowedAutoPlacements,wt=t.options.placement,jt=me(wt),oe=jt===wt,le=N||(oe||!Wt?[zn(wt)]:vt(wt)),Et=[wt].concat(le).reduce(function(Mi,xs){return Mi.concat(me(xs)===Ss?Dt(t,{placement:xs,boundary:k,rootBoundary:dt,padding:K,flipVariations:Wt,allowedAutoPlacements:_t}):xs)},[]),Mt=t.rects.reference,kt=t.rects.popper,ee=new Map,Ne=!0,Te=Et[0],ge=0;ge<Et.length;ge++){var Ie=Et[ge],Nn=me(Ie),Fe=Os(Ie)===Sn,ti=[Ce,ce].indexOf(Nn)>=0,ei=ti?"width":"height",ln=tt(t,{placement:Ie,boundary:k,rootBoundary:dt,altBoundary:gt,padding:K}),xn=ti?Fe?$e:be:Fe?ce:Ce;Mt[ei]>kt[ei]&&(xn=zn(xn));var ro=zn(xn),ni=[];if(b&&ni.push(ln[Nn]<=0),S&&ni.push(ln[xn]<=0,ln[ro]<=0),ni.every(function(Mi){return Mi})){Te=Ie,Ne=!1;break}ee.set(Ie,ni)}if(Ne)for(var oo=Wt?3:1,bl=function(xs){var _r=Et.find(function(ao){var si=ee.get(ao);if(si)return si.slice(0,xs).every(function(yl){return yl})});if(_r)return Te=_r,"break"},gr=oo;gr>0;gr--){var lo=bl(gr);if(lo==="break")break}t.placement!==Te&&(t.modifiersData[u]._skip=!0,t.placement=Te,t.reset=!0)}}let rt={name:"flip",enabled:!0,phase:"main",fn:pt,requiresIfExists:["offset"],data:{_skip:!1}};function U(o,t,s){return s===void 0&&(s={x:0,y:0}),{top:o.top-t.height-s.y,right:o.right-t.width+s.x,bottom:o.bottom-t.height+s.y,left:o.left-t.width-s.x}}function At(o){return[Ce,$e,ce,be].some(function(t){return o[t]>=0})}function zt(o){var t=o.state,s=o.name,u=t.rects.reference,m=t.rects.popper,b=t.modifiersData.preventOverflow,T=tt(t,{elementContext:"reference"}),S=tt(t,{altBoundary:!0}),N=U(T,u),K=U(S,m,b),k=At(N),dt=At(K);t.modifiersData[s]={referenceClippingOffsets:N,popperEscapeOffsets:K,isReferenceHidden:k,hasPopperEscaped:dt},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":k,"data-popper-escaped":dt})}let Ut={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:zt};function Rt(o,t,s){var u=me(o),m=[be,Ce].indexOf(u)>=0?-1:1,b=typeof s=="function"?s(Object.assign({},t,{placement:o})):s,T=b[0],S=b[1];return T=T||0,S=(S||0)*m,[be,$e].indexOf(u)>=0?{x:S,y:T}:{x:T,y:S}}function te(o){var t=o.state,s=o.options,u=o.name,m=s.offset,b=m===void 0?[0,0]:m,T=Ai.reduce(function(k,dt){return k[dt]=Rt(dt,t.rects,b),k},{}),S=T[t.placement],N=S.x,K=S.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=N,t.modifiersData.popperOffsets.y+=K),t.modifiersData[u]=T}let Le={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:te};function Me(o){var t=o.state,s=o.name;t.modifiersData[s]=F({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}let ke={name:"popperOffsets",enabled:!0,phase:"read",fn:Me,data:{}};function rn(o){return o==="x"?"y":"x"}function on(o){var t=o.state,s=o.options,u=o.name,m=s.mainAxis,b=m===void 0?!0:m,T=s.altAxis,S=T===void 0?!1:T,N=s.boundary,K=s.rootBoundary,k=s.altBoundary,dt=s.padding,gt=s.tether,ct=gt===void 0?!0:gt,Wt=s.tetherOffset,_t=Wt===void 0?0:Wt,wt=tt(t,{boundary:N,rootBoundary:K,padding:dt,altBoundary:k}),jt=me(t.placement),oe=Os(t.placement),le=!oe,Et=Li(jt),Mt=rn(Et),kt=t.modifiersData.popperOffsets,ee=t.rects.reference,Ne=t.rects.popper,Te=typeof _t=="function"?_t(Object.assign({},t.rects,{placement:t.placement})):_t,ge=typeof Te=="number"?{mainAxis:Te,altAxis:Te}:Object.assign({mainAxis:0,altAxis:0},Te),Ie=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Nn={x:0,y:0};if(kt){if(b){var Fe,ti=Et==="y"?Ce:be,ei=Et==="y"?ce:$e,ln=Et==="y"?"height":"width",xn=kt[Et],ro=xn+wt[ti],ni=xn-wt[ei],oo=ct?-Ne[ln]/2:0,bl=oe===Sn?ee[ln]:Ne[ln],gr=oe===Sn?-Ne[ln]:-ee[ln],lo=t.elements.arrow,Mi=ct&&lo?Si(lo):{width:0,height:0},xs=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Oi(),_r=xs[ti],ao=xs[ei],si=hs(0,ee[ln],Mi[ln]),yl=le?ee[ln]/2-oo-si-_r-ge.mainAxis:bl-si-_r-ge.mainAxis,ep=le?-ee[ln]/2+oo+si+ao+ge.mainAxis:gr+si+ao+ge.mainAxis,wl=t.elements.arrow&&On(t.elements.arrow),np=wl?Et==="y"?wl.clientTop||0:wl.clientLeft||0:0,uc=(Fe=Ie?.[Et])!=null?Fe:0,sp=xn+yl-uc-np,ip=xn+ep-uc,fc=hs(ct?Ln(ro,sp):ro,xn,ct?Re(ni,ip):ni);kt[Et]=fc,Nn[Et]=fc-xn}if(S){var hc,rp=Et==="x"?Ce:be,op=Et==="x"?ce:$e,ii=kt[Mt],co=Mt==="y"?"height":"width",dc=ii+wt[rp],pc=ii-wt[op],Tl=[Ce,be].indexOf(jt)!==-1,mc=(hc=Ie?.[Mt])!=null?hc:0,gc=Tl?dc:ii-ee[co]-Ne[co]-mc+ge.altAxis,_c=Tl?ii+ee[co]+Ne[co]-mc-ge.altAxis:pc,vc=ct&&Tl?ar(gc,ii,_c):hs(ct?gc:dc,ii,ct?_c:pc);kt[Mt]=vc,Nn[Mt]=vc-ii}t.modifiersData[u]=Nn}}let we={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function gn(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function Oe(o){return o===Jt(o)||!qe(o)?Ys(o):gn(o)}function De(o){var t=o.getBoundingClientRect(),s=Cs(t.width)/o.offsetWidth||1,u=Cs(t.height)/o.offsetHeight||1;return s!==1||u!==1}function He(o,t,s){s===void 0&&(s=!1);var u=qe(t),m=qe(t)&&De(t),b=mn(t),T=fs(o,m,s),S={scrollLeft:0,scrollTop:0},N={x:0,y:0};return(u||!u&&!s)&&((pn(t)!=="body"||p(b))&&(S=Oe(t)),qe(t)?(N=fs(t,!0),N.x+=t.clientLeft,N.y+=t.clientTop):b&&(N.x=l(b))),{x:T.left+S.scrollLeft-N.x,y:T.top+S.scrollTop-N.y,width:T.width,height:T.height}}function Ds(o){var t=new Map,s=new Set,u=[];o.forEach(function(b){t.set(b.name,b)});function m(b){s.add(b.name);var T=[].concat(b.requires||[],b.requiresIfExists||[]);T.forEach(function(S){if(!s.has(S)){var N=t.get(S);N&&m(N)}}),u.push(b)}return o.forEach(function(b){s.has(b.name)||m(b)}),u}function qn(o){var t=Ds(o);return js.reduce(function(s,u){return s.concat(t.filter(function(m){return m.phase===u}))},[])}function Je(o){var t;return function(){return t||(t=new Promise(function(s){Promise.resolve().then(function(){t=void 0,s(o())})})),t}}function _f(o){var t=o.reduce(function(s,u){var m=s[u.name];return s[u.name]=m?Object.assign({},m,u,{options:Object.assign({},m.options,u.options),data:Object.assign({},m.data,u.data)}):u,s},{});return Object.keys(t).map(function(s){return t[s]})}var Aa={placement:"bottom",modifiers:[],strategy:"absolute"};function Sa(){for(var o=arguments.length,t=new Array(o),s=0;s<o;s++)t[s]=arguments[s];return!t.some(function(u){return!(u&&typeof u.getBoundingClientRect=="function")})}function Jr(o){o===void 0&&(o={});var t=o,s=t.defaultModifiers,u=s===void 0?[]:s,m=t.defaultOptions,b=m===void 0?Aa:m;return function(S,N,K){K===void 0&&(K=b);var k={placement:"bottom",orderedModifiers:[],options:Object.assign({},Aa,b),modifiersData:{},elements:{reference:S,popper:N},attributes:{},styles:{}},dt=[],gt=!1,ct={state:k,setOptions:function(jt){var oe=typeof jt=="function"?jt(k.options):jt;_t(),k.options=Object.assign({},b,k.options,oe),k.scrollParents={reference:ye(S)?y(S):S.contextElement?y(S.contextElement):[],popper:y(N)};var le=qn(_f([].concat(u,k.options.modifiers)));return k.orderedModifiers=le.filter(function(Et){return Et.enabled}),Wt(),ct.update()},forceUpdate:function(){if(!gt){var jt=k.elements,oe=jt.reference,le=jt.popper;if(Sa(oe,le)){k.rects={reference:He(oe,On(le),k.options.strategy==="fixed"),popper:Si(le)},k.reset=!1,k.placement=k.options.placement,k.orderedModifiers.forEach(function(ge){return k.modifiersData[ge.name]=Object.assign({},ge.data)});for(var Et=0;Et<k.orderedModifiers.length;Et++){if(k.reset===!0){k.reset=!1,Et=-1;continue}var Mt=k.orderedModifiers[Et],kt=Mt.fn,ee=Mt.options,Ne=ee===void 0?{}:ee,Te=Mt.name;typeof kt=="function"&&(k=kt({state:k,options:Ne,name:Te,instance:ct})||k)}}}},update:Je(function(){return new Promise(function(wt){ct.forceUpdate(),wt(k)})}),destroy:function(){_t(),gt=!0}};if(!Sa(S,N))return ct;ct.setOptions(K).then(function(wt){!gt&&K.onFirstUpdate&&K.onFirstUpdate(wt)});function Wt(){k.orderedModifiers.forEach(function(wt){var jt=wt.name,oe=wt.options,le=oe===void 0?{}:oe,Et=wt.effect;if(typeof Et=="function"){var Mt=Et({state:k,name:jt,instance:ct,options:le}),kt=function(){};dt.push(Mt||kt)}})}function _t(){dt.forEach(function(wt){return wt()}),dt=[]}return ct}}var vf=Jr(),Ef=[Ni,ke,Xt,sn],bf=Jr({defaultModifiers:Ef}),yf=[Ni,ke,Xt,sn,Le,rt,we,fr,Ut],al=Jr({defaultModifiers:yf});let Ca=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ie,afterRead:$t,afterWrite:us,applyStyles:sn,arrow:fr,auto:Ss,basePlacements:jn,beforeMain:Cn,beforeRead:or,beforeWrite:re,bottom:ce,clippingParents:ls,computeStyles:Xt,createPopper:al,createPopperBase:vf,createPopperLite:bf,detectOverflow:tt,end:nn,eventListeners:Ni,flip:rt,hide:Ut,left:be,main:ue,modifierPhases:js,offset:Le,placements:Ai,popper:as,popperGenerator:Jr,popperOffsets:ke,preventOverflow:we,read:xt,reference:cs,right:$e,start:Sn,top:Ce,variationPlacements:Kn,viewport:Ti,write:Pt},Symbol.toStringTag,{value:"Module"})),La="dropdown",Gs=".bs.dropdown",cl=".data-api",wf="Escape",Oa="Tab",Tf="ArrowUp",Da="ArrowDown",Af=2,Sf=`hide${Gs}`,Cf=`hidden${Gs}`,Lf=`show${Gs}`,Of=`shown${Gs}`,Na=`click${Gs}${cl}`,xa=`keydown${Gs}${cl}`,Df=`keyup${Gs}${cl}`,xi="show",Nf="dropup",xf="dropend",Pf="dropstart",Mf="dropup-center",kf="dropdown-center",zs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',If=`${zs}.${xi}`,Xr=".dropdown-menu",$f=".navbar",Rf=".navbar-nav",Vf=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Hf=x()?"top-end":"top-start",Ff=x()?"top-start":"top-end",Wf=x()?"bottom-end":"bottom-start",Bf=x()?"bottom-start":"bottom-end",Uf=x()?"left-start":"right-start",jf=x()?"right-start":"left-start",Kf="top",Yf="bottom",Gf={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},zf={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Dn extends ae{constructor(t,s){super(t,s),this._popper=null,this._parent=this._element.parentNode,this._menu=G.next(this._element,Xr)[0]||G.prev(this._element,Xr)[0]||G.findOne(Xr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Gf}static get DefaultType(){return zf}static get NAME(){return La}toggle(){return this._isShown()?this.hide():this.show()}show(){if(I(this._element)||this._isShown())return;let t={relatedTarget:this._element};if(!C.trigger(this._element,Lf,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Rf))for(let u of[].concat(...document.body.children))C.on(u,"mouseover",Y);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(xi),this._element.classList.add(xi),C.trigger(this._element,Of,t)}}hide(){if(I(this._element)||!this._isShown())return;let t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!C.trigger(this._element,Sf,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(let u of[].concat(...document.body.children))C.off(u,"mouseover",Y);this._popper&&this._popper.destroy(),this._menu.classList.remove(xi),this._element.classList.remove(xi),this._element.setAttribute("aria-expanded","false"),Ct.removeDataAttribute(this._menu,"popper"),C.trigger(this._element,Cf,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!D(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${La.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof Ca>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:D(this._config.reference)?t=w(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);let s=this._getPopperConfig();this._popper=al(t,this._menu,s)}_isShown(){return this._menu.classList.contains(xi)}_getPlacement(){let t=this._parent;if(t.classList.contains(xf))return Uf;if(t.classList.contains(Pf))return jf;if(t.classList.contains(Mf))return Kf;if(t.classList.contains(kf))return Yf;let s=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Nf)?s?Ff:Hf:s?Bf:Wf}_detectNavbar(){return this._element.closest($f)!==null}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(s=>Number.parseInt(s,10)):typeof t=="function"?s=>t(s,this._element):t}_getPopperConfig(){let t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ct.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...$(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:s}){let u=G.find(Vf,this._menu).filter(m=>A(m));u.length&&it(u,s,t===Da,!u.includes(s)).focus()}static jQueryInterface(t){return this.each(function(){let s=Dn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}static clearMenus(t){if(t.button===Af||t.type==="keyup"&&t.key!==Oa)return;let s=G.find(If);for(let u of s){let m=Dn.getInstance(u);if(!m||m._config.autoClose===!1)continue;let b=t.composedPath(),T=b.includes(m._menu);if(b.includes(m._element)||m._config.autoClose==="inside"&&!T||m._config.autoClose==="outside"&&T||m._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Oa||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;let S={relatedTarget:m._element};t.type==="click"&&(S.clickEvent=t),m._completeHide(S)}}static dataApiKeydownHandler(t){let s=/input|textarea/i.test(t.target.tagName),u=t.key===wf,m=[Tf,Da].includes(t.key);if(!m&&!u||s&&!u)return;t.preventDefault();let b=this.matches(zs)?this:G.prev(this,zs)[0]||G.next(this,zs)[0]||G.findOne(zs,t.delegateTarget.parentNode),T=Dn.getOrCreateInstance(b);if(m){t.stopPropagation(),T.show(),T._selectMenuItem(t);return}T._isShown()&&(t.stopPropagation(),T.hide(),b.focus())}}C.on(document,xa,zs,Dn.dataApiKeydownHandler),C.on(document,xa,Xr,Dn.dataApiKeydownHandler),C.on(document,Na,Dn.clearMenus),C.on(document,Df,Dn.clearMenus),C.on(document,Na,zs,function(o){o.preventDefault(),Dn.getOrCreateInstance(this).toggle()}),Z(Dn);let Pa="backdrop",qf="fade",Ma="show",ka=`mousedown.bs.${Pa}`,Qf={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Jf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ia extends Se{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Qf}static get DefaultType(){return Jf}static get NAME(){return Pa}show(t){if(!this._config.isVisible){$(t);return}this._append();let s=this._getElement();this._config.isAnimated&&q(s),s.classList.add(Ma),this._emulateAnimation(()=>{$(t)})}hide(t){if(!this._config.isVisible){$(t);return}this._getElement().classList.remove(Ma),this._emulateAnimation(()=>{this.dispose(),$(t)})}dispose(){this._isAppended&&(C.off(this._element,ka),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(qf),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=w(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),C.on(t,ka,()=>{$(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){ht(t,this._getElement(),this._config.isAnimated)}}let Xf="focustrap",Zr=".bs.focustrap",Zf=`focusin${Zr}`,th=`keydown.tab${Zr}`,eh="Tab",nh="forward",$a="backward",sh={autofocus:!0,trapElement:null},ih={autofocus:"boolean",trapElement:"element"};class Ra extends Se{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return sh}static get DefaultType(){return ih}static get NAME(){return Xf}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),C.off(document,Zr),C.on(document,Zf,t=>this._handleFocusin(t)),C.on(document,th,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,C.off(document,Zr))}_handleFocusin(t){let{trapElement:s}=this._config;if(t.target===document||t.target===s||s.contains(t.target))return;let u=G.focusableChildren(s);u.length===0?s.focus():this._lastTabNavDirection===$a?u[u.length-1].focus():u[0].focus()}_handleKeydown(t){t.key===eh&&(this._lastTabNavDirection=t.shiftKey?$a:nh)}}let Va=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ha=".sticky-top",to="padding-right",Fa="margin-right";class ul{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,to,s=>s+t),this._setElementAttributes(Va,to,s=>s+t),this._setElementAttributes(Ha,Fa,s=>s-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,to),this._resetElementAttributes(Va,to),this._resetElementAttributes(Ha,Fa)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,s,u){let m=this.getWidth(),b=T=>{if(T!==this._element&&window.innerWidth>T.clientWidth+m)return;this._saveInitialAttribute(T,s);let S=window.getComputedStyle(T).getPropertyValue(s);T.style.setProperty(s,`${u(Number.parseFloat(S))}px`)};this._applyManipulationCallback(t,b)}_saveInitialAttribute(t,s){let u=t.style.getPropertyValue(s);u&&Ct.setDataAttribute(t,s,u)}_resetElementAttributes(t,s){let u=m=>{let b=Ct.getDataAttribute(m,s);if(b===null){m.style.removeProperty(s);return}Ct.removeDataAttribute(m,s),m.style.setProperty(s,b)};this._applyManipulationCallback(t,u)}_applyManipulationCallback(t,s){if(D(t)){s(t);return}for(let u of G.find(t,this._element))s(u)}}let rh="modal",_n=".bs.modal",oh=".data-api",lh="Escape",ah=`hide${_n}`,ch=`hidePrevented${_n}`,Wa=`hidden${_n}`,Ba=`show${_n}`,uh=`shown${_n}`,fh=`resize${_n}`,hh=`click.dismiss${_n}`,dh=`mousedown.dismiss${_n}`,ph=`keydown.dismiss${_n}`,mh=`click${_n}${oh}`,Ua="modal-open",gh="fade",ja="show",fl="modal-static",_h=".modal.show",vh=".modal-dialog",Eh=".modal-body",bh='[data-bs-toggle="modal"]',yh={backdrop:!0,focus:!0,keyboard:!0},wh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class qs extends ae{constructor(t,s){super(t,s),this._dialog=G.findOne(vh,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ul,this._addEventListeners()}static get Default(){return yh}static get DefaultType(){return wh}static get NAME(){return rh}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||C.trigger(this._element,Ba,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ua),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||C.trigger(this._element,ah).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ja),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){C.off(window,_n),C.off(this._dialog,_n),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ia({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ra({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let s=G.findOne(Eh,this._dialog);s&&(s.scrollTop=0),q(this._element),this._element.classList.add(ja);let u=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,C.trigger(this._element,uh,{relatedTarget:t})};this._queueCallback(u,this._dialog,this._isAnimated())}_addEventListeners(){C.on(this._element,ph,t=>{if(t.key===lh){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),C.on(window,fh,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),C.on(this._element,dh,t=>{C.one(this._element,hh,s=>{if(!(this._element!==t.target||this._element!==s.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ua),this._resetAdjustments(),this._scrollBar.reset(),C.trigger(this._element,Wa)})}_isAnimated(){return this._element.classList.contains(gh)}_triggerBackdropTransition(){if(C.trigger(this._element,ch).defaultPrevented)return;let s=this._element.scrollHeight>document.documentElement.clientHeight,u=this._element.style.overflowY;u==="hidden"||this._element.classList.contains(fl)||(s||(this._element.style.overflowY="hidden"),this._element.classList.add(fl),this._queueCallback(()=>{this._element.classList.remove(fl),this._queueCallback(()=>{this._element.style.overflowY=u},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,s=this._scrollBar.getWidth(),u=s>0;if(u&&!t){let m=x()?"paddingLeft":"paddingRight";this._element.style[m]=`${s}px`}if(!u&&t){let m=x()?"paddingRight":"paddingLeft";this._element.style[m]=`${s}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,s){return this.each(function(){let u=qs.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof u[t]>"u")throw new TypeError(`No method named "${t}"`);u[t](s)}})}}C.on(document,mh,bh,function(o){let t=G.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),C.one(t,Ba,m=>{m.defaultPrevented||C.one(t,Wa,()=>{A(this)&&this.focus()})});let s=G.findOne(_h);s&&qs.getInstance(s).hide(),qs.getOrCreateInstance(t).toggle(this)}),$n(qs),Z(qs);let Th="offcanvas",ps=".bs.offcanvas",Ka=".data-api",Ah=`load${ps}${Ka}`,Sh="Escape",Ya="show",Ga="showing",za="hiding",Ch="offcanvas-backdrop",qa=".offcanvas.show",Lh=`show${ps}`,Oh=`shown${ps}`,Dh=`hide${ps}`,Qa=`hidePrevented${ps}`,Ja=`hidden${ps}`,Nh=`resize${ps}`,xh=`click${ps}${Ka}`,Ph=`keydown.dismiss${ps}`,Mh='[data-bs-toggle="offcanvas"]',kh={backdrop:!0,keyboard:!0,scroll:!1},Ih={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ms extends ae{constructor(t,s){super(t,s),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return kh}static get DefaultType(){return Ih}static get NAME(){return Th}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||C.trigger(this._element,Lh,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ul().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ga);let u=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Ya),this._element.classList.remove(Ga),C.trigger(this._element,Oh,{relatedTarget:t})};this._queueCallback(u,this._element,!0)}hide(){if(!this._isShown||C.trigger(this._element,Dh).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(za),this._backdrop.hide();let s=()=>{this._element.classList.remove(Ya,za),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ul().reset(),C.trigger(this._element,Ja)};this._queueCallback(s,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let t=()=>{if(this._config.backdrop==="static"){C.trigger(this._element,Qa);return}this.hide()},s=!!this._config.backdrop;return new Ia({className:Ch,isVisible:s,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:s?t:null})}_initializeFocusTrap(){return new Ra({trapElement:this._element})}_addEventListeners(){C.on(this._element,Ph,t=>{if(t.key===Sh){if(this._config.keyboard){this.hide();return}C.trigger(this._element,Qa)}})}static jQueryInterface(t){return this.each(function(){let s=ms.getOrCreateInstance(this,t);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t](this)}})}}C.on(document,xh,Mh,function(o){let t=G.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),I(this))return;C.one(t,Ja,()=>{A(this)&&this.focus()});let s=G.findOne(qa);s&&s!==t&&ms.getInstance(s).hide(),ms.getOrCreateInstance(t).toggle(this)}),C.on(window,Ah,()=>{for(let o of G.find(qa))ms.getOrCreateInstance(o).show()}),C.on(window,Nh,()=>{for(let o of G.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(o).position!=="fixed"&&ms.getOrCreateInstance(o).hide()}),$n(ms),Z(ms);let Xa={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},$h=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Rh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Vh=(o,t)=>{let s=o.nodeName.toLowerCase();return t.includes(s)?$h.has(s)?!!Rh.test(o.nodeValue):!0:t.filter(u=>u instanceof RegExp).some(u=>u.test(s))};function Hh(o,t,s){if(!o.length)return o;if(s&&typeof s=="function")return s(o);let m=new window.DOMParser().parseFromString(o,"text/html"),b=[].concat(...m.body.querySelectorAll("*"));for(let T of b){let S=T.nodeName.toLowerCase();if(!Object.keys(t).includes(S)){T.remove();continue}let N=[].concat(...T.attributes),K=[].concat(t["*"]||[],t[S]||[]);for(let k of N)Vh(k,K)||T.removeAttribute(k.nodeName)}return m.body.innerHTML}let Fh="TemplateFactory",Wh={allowList:Xa,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Bh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Uh={entry:"(string|element|function|null)",selector:"(string|element)"};class jh extends Se{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Wh}static get DefaultType(){return Bh}static get NAME(){return Fh}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){let t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(let[m,b]of Object.entries(this._config.content))this._setContent(t,b,m);let s=t.children[0],u=this._resolvePossibleFunction(this._config.extraClass);return u&&s.classList.add(...u.split(" ")),s}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(let[s,u]of Object.entries(t))super._typeCheckConfig({selector:s,entry:u},Uh)}_setContent(t,s,u){let m=G.findOne(u,t);if(m){if(s=this._resolvePossibleFunction(s),!s){m.remove();return}if(D(s)){this._putElementInTemplate(w(s),m);return}if(this._config.html){m.innerHTML=this._maybeSanitize(s);return}m.textContent=s}}_maybeSanitize(t){return this._config.sanitize?Hh(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return $(t,[this])}_putElementInTemplate(t,s){if(this._config.html){s.innerHTML="",s.append(t);return}s.textContent=t.textContent}}let Kh="tooltip",Yh=new Set(["sanitize","allowList","sanitizeFn"]),hl="fade",Gh="modal",eo="show",zh=".tooltip-inner",Za=`.${Gh}`,tc="hide.bs.modal",dr="hover",dl="focus",qh="click",Qh="manual",Jh="hide",Xh="hidden",Zh="show",td="shown",ed="inserted",nd="click",sd="focusin",id="focusout",rd="mouseenter",od="mouseleave",ld={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},ad={allowList:Xa,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},cd={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Qs extends ae{constructor(t,s){if(typeof Ca>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,s),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ad}static get DefaultType(){return cd}static get NAME(){return Kh}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),C.off(this._element.closest(Za),tc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let t=C.trigger(this._element,this.constructor.eventName(Zh)),u=(W(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!u)return;this._disposePopper();let m=this._getTipElement();this._element.setAttribute("aria-describedby",m.getAttribute("id"));let{container:b}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(b.append(m),C.trigger(this._element,this.constructor.eventName(ed))),this._popper=this._createPopper(m),m.classList.add(eo),"ontouchstart"in document.documentElement)for(let S of[].concat(...document.body.children))C.on(S,"mouseover",Y);let T=()=>{C.trigger(this._element,this.constructor.eventName(td)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(T,this.tip,this._isAnimated())}hide(){if(!this._isShown()||C.trigger(this._element,this.constructor.eventName(Jh)).defaultPrevented)return;if(this._getTipElement().classList.remove(eo),"ontouchstart"in document.documentElement)for(let m of[].concat(...document.body.children))C.off(m,"mouseover",Y);this._activeTrigger[qh]=!1,this._activeTrigger[dl]=!1,this._activeTrigger[dr]=!1,this._isHovered=null;let u=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),C.trigger(this._element,this.constructor.eventName(Xh)))};this._queueCallback(u,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){let s=this._getTemplateFactory(t).toHtml();if(!s)return null;s.classList.remove(hl,eo),s.classList.add(`bs-${this.constructor.NAME}-auto`);let u=v(this.constructor.NAME).toString();return s.setAttribute("id",u),this._isAnimated()&&s.classList.add(hl),s}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new jh({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[zh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(hl)}_isShown(){return this.tip&&this.tip.classList.contains(eo)}_createPopper(t){let s=$(this._config.placement,[this,t,this._element]),u=ld[s.toUpperCase()];return al(this._element,t,this._getPopperConfig(u))}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(s=>Number.parseInt(s,10)):typeof t=="function"?s=>t(s,this._element):t}_resolvePossibleFunction(t){return $(t,[this._element])}_getPopperConfig(t){let s={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:u=>{this._getTipElement().setAttribute("data-popper-placement",u.state.placement)}}]};return{...s,...$(this._config.popperConfig,[s])}}_setListeners(){let t=this._config.trigger.split(" ");for(let s of t)if(s==="click")C.on(this._element,this.constructor.eventName(nd),this._config.selector,u=>{this._initializeOnDelegatedTarget(u).toggle()});else if(s!==Qh){let u=s===dr?this.constructor.eventName(rd):this.constructor.eventName(sd),m=s===dr?this.constructor.eventName(od):this.constructor.eventName(id);C.on(this._element,u,this._config.selector,b=>{let T=this._initializeOnDelegatedTarget(b);T._activeTrigger[b.type==="focusin"?dl:dr]=!0,T._enter()}),C.on(this._element,m,this._config.selector,b=>{let T=this._initializeOnDelegatedTarget(b);T._activeTrigger[b.type==="focusout"?dl:dr]=T._element.contains(b.relatedTarget),T._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},C.on(this._element.closest(Za),tc,this._hideModalHandler)}_fixTitle(){let t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,s){clearTimeout(this._timeout),this._timeout=setTimeout(t,s)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){let s=Ct.getDataAttributes(this._element);for(let u of Object.keys(s))Yh.has(u)&&delete s[u];return t={...s,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:w(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){let t={};for(let[s,u]of Object.entries(this._config))this.constructor.Default[s]!==u&&(t[s]=u);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){let s=Qs.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}Z(Qs);let ud="popover",fd=".popover-header",hd=".popover-body",dd={...Qs.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},pd={...Qs.DefaultType,content:"(null|string|element|function)"};class no extends Qs{static get Default(){return dd}static get DefaultType(){return pd}static get NAME(){return ud}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[fd]:this._getTitle(),[hd]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){let s=no.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}Z(no);let md="scrollspy",pl=".bs.scrollspy",gd=".data-api",_d=`activate${pl}`,ec=`click${pl}`,vd=`load${pl}${gd}`,Ed="dropdown-item",Pi="active",bd='[data-bs-spy="scroll"]',ml="[href]",yd=".nav, .list-group",nc=".nav-link",wd=`${nc}, .nav-item > ${nc}, .list-group-item`,Td=".dropdown",Ad=".dropdown-toggle",Sd={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Cd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class pr extends ae{constructor(t,s){super(t,s),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Sd}static get DefaultType(){return Cd}static get NAME(){return md}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=w(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(s=>Number.parseFloat(s))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(C.off(this._config.target,ec),C.on(this._config.target,ec,ml,t=>{let s=this._observableSections.get(t.target.hash);if(s){t.preventDefault();let u=this._rootElement||window,m=s.offsetTop-this._element.offsetTop;if(u.scrollTo){u.scrollTo({top:m,behavior:"smooth"});return}u.scrollTop=m}}))}_getNewObserver(){let t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(s=>this._observerCallback(s),t)}_observerCallback(t){let s=T=>this._targetLinks.get(`#${T.target.id}`),u=T=>{this._previousScrollData.visibleEntryTop=T.target.offsetTop,this._process(s(T))},m=(this._rootElement||document.documentElement).scrollTop,b=m>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=m;for(let T of t){if(!T.isIntersecting){this._activeTarget=null,this._clearActiveClass(s(T));continue}let S=T.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(b&&S){if(u(T),!m)return;continue}!b&&!S&&u(T)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let t=G.find(ml,this._config.target);for(let s of t){if(!s.hash||I(s))continue;let u=G.findOne(decodeURI(s.hash),this._element);A(u)&&(this._targetLinks.set(decodeURI(s.hash),s),this._observableSections.set(s.hash,u))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Pi),this._activateParents(t),C.trigger(this._element,_d,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Ed)){G.findOne(Ad,t.closest(Td)).classList.add(Pi);return}for(let s of G.parents(t,yd))for(let u of G.prev(s,wd))u.classList.add(Pi)}_clearActiveClass(t){t.classList.remove(Pi);let s=G.find(`${ml}.${Pi}`,t);for(let u of s)u.classList.remove(Pi)}static jQueryInterface(t){return this.each(function(){let s=pr.getOrCreateInstance(this,t);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t]()}})}}C.on(window,vd,()=>{for(let o of G.find(bd))pr.getOrCreateInstance(o)}),Z(pr);let Ld="tab",Js=".bs.tab",Od=`hide${Js}`,Dd=`hidden${Js}`,Nd=`show${Js}`,xd=`shown${Js}`,Pd=`click${Js}`,Md=`keydown${Js}`,kd=`load${Js}`,Id="ArrowLeft",sc="ArrowRight",$d="ArrowUp",ic="ArrowDown",gl="Home",rc="End",Xs="active",oc="fade",_l="show",Rd="dropdown",lc=".dropdown-toggle",Vd=".dropdown-menu",vl=`:not(${lc})`,Hd='.list-group, .nav, [role="tablist"]',Fd=".nav-item, .list-group-item",Wd=`.nav-link${vl}, .list-group-item${vl}, [role="tab"]${vl}`,ac='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',El=`${Wd}, ${ac}`,Bd=`.${Xs}[data-bs-toggle="tab"], .${Xs}[data-bs-toggle="pill"], .${Xs}[data-bs-toggle="list"]`;class Zs extends ae{constructor(t){super(t),this._parent=this._element.closest(Hd),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),C.on(this._element,Md,s=>this._keydown(s)))}static get NAME(){return Ld}show(){let t=this._element;if(this._elemIsActive(t))return;let s=this._getActiveElem(),u=s?C.trigger(s,Od,{relatedTarget:t}):null;C.trigger(t,Nd,{relatedTarget:s}).defaultPrevented||u&&u.defaultPrevented||(this._deactivate(s,t),this._activate(t,s))}_activate(t,s){if(!t)return;t.classList.add(Xs),this._activate(G.getElementFromSelector(t));let u=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(_l);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),C.trigger(t,xd,{relatedTarget:s})};this._queueCallback(u,t,t.classList.contains(oc))}_deactivate(t,s){if(!t)return;t.classList.remove(Xs),t.blur(),this._deactivate(G.getElementFromSelector(t));let u=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(_l);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),C.trigger(t,Dd,{relatedTarget:s})};this._queueCallback(u,t,t.classList.contains(oc))}_keydown(t){if(![Id,sc,$d,ic,gl,rc].includes(t.key))return;t.stopPropagation(),t.preventDefault();let s=this._getChildren().filter(m=>!I(m)),u;if([gl,rc].includes(t.key))u=s[t.key===gl?0:s.length-1];else{let m=[sc,ic].includes(t.key);u=it(s,t.target,m,!0)}u&&(u.focus({preventScroll:!0}),Zs.getOrCreateInstance(u).show())}_getChildren(){return G.find(El,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,s){this._setAttributeIfNotExists(t,"role","tablist");for(let u of s)this._setInitialAttributesOnChild(u)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);let s=this._elemIsActive(t),u=this._getOuterElement(t);t.setAttribute("aria-selected",s),u!==t&&this._setAttributeIfNotExists(u,"role","presentation"),s||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){let s=G.getElementFromSelector(t);s&&(this._setAttributeIfNotExists(s,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(s,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,s){let u=this._getOuterElement(t);if(!u.classList.contains(Rd))return;let m=(b,T)=>{let S=G.findOne(b,u);S&&S.classList.toggle(T,s)};m(lc,Xs),m(Vd,_l),u.setAttribute("aria-expanded",s)}_setAttributeIfNotExists(t,s,u){t.hasAttribute(s)||t.setAttribute(s,u)}_elemIsActive(t){return t.classList.contains(Xs)}_getInnerElement(t){return t.matches(El)?t:G.findOne(El,t)}_getOuterElement(t){return t.closest(Fd)||t}static jQueryInterface(t){return this.each(function(){let s=Zs.getOrCreateInstance(this);if(typeof t=="string"){if(s[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);s[t]()}})}}C.on(document,Pd,ac,function(o){["A","AREA"].includes(this.tagName)&&o.preventDefault(),!I(this)&&Zs.getOrCreateInstance(this).show()}),C.on(window,kd,()=>{for(let o of G.find(Bd))Zs.getOrCreateInstance(o)}),Z(Zs);let Ud="toast",Ns=".bs.toast",jd=`mouseover${Ns}`,Kd=`mouseout${Ns}`,Yd=`focusin${Ns}`,Gd=`focusout${Ns}`,zd=`hide${Ns}`,qd=`hidden${Ns}`,Qd=`show${Ns}`,Jd=`shown${Ns}`,Xd="fade",cc="hide",so="show",io="showing",Zd={animation:"boolean",autohide:"boolean",delay:"number"},tp={animation:!0,autohide:!0,delay:5e3};class mr extends ae{constructor(t,s){super(t,s),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return tp}static get DefaultType(){return Zd}static get NAME(){return Ud}show(){if(C.trigger(this._element,Qd).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Xd);let s=()=>{this._element.classList.remove(io),C.trigger(this._element,Jd),this._maybeScheduleHide()};this._element.classList.remove(cc),q(this._element),this._element.classList.add(so,io),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown()||C.trigger(this._element,zd).defaultPrevented)return;let s=()=>{this._element.classList.add(cc),this._element.classList.remove(io,so),C.trigger(this._element,qd)};this._element.classList.add(io),this._queueCallback(s,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(so),super.dispose()}isShown(){return this._element.classList.contains(so)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,s){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=s;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=s;break}}if(s){this._clearTimeout();return}let u=t.relatedTarget;this._element===u||this._element.contains(u)||this._maybeScheduleHide()}_setListeners(){C.on(this._element,jd,t=>this._onInteraction(t,!0)),C.on(this._element,Kd,t=>this._onInteraction(t,!1)),C.on(this._element,Yd,t=>this._onInteraction(t,!0)),C.on(this._element,Gd,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let s=mr.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t](this)}})}}return $n(mr),Z(mr),{Alert:st,Button:de,Carousel:rs,Collapse:dn,Dropdown:Dn,Modal:qs,Offcanvas:ms,Popover:no,ScrollSpy:pr,Tab:Zs,Toast:mr,Tooltip:Qs}})});var Ps=Object.getPrototypeOf,Er,Al,ki,vr,wc={isConnected:1},pp=1e3,uo,mp={},gp=Ps(wc),Tc=Ps(Ps),ri,Ac=(n,e,r,i)=>(n??(setTimeout(r,i),new Set)).add(e),Sc=(n,e,r)=>{let i=ki;ki=e;try{return n(r)}catch(a){return console.error(a),r}finally{ki=i}},fo=n=>n.filter(e=>e._dom?.isConnected),Cc=n=>uo=Ac(uo,n,()=>{for(let e of uo)e._bindings=fo(e._bindings),e._listeners=fo(e._listeners);uo=ri},pp),ho={get val(){return ki?._getters?.add(this),this.rawVal},get oldVal(){return ki?._getters?.add(this),this._oldVal},set val(n){ki?._setters?.add(this),n!==this.rawVal&&(this.rawVal=n,this._bindings.length+this._listeners.length?(Al?.add(this),Er=Ac(Er,this,_p)):this._oldVal=n)}},Lc=n=>({__proto__:ho,rawVal:n,_oldVal:n,_bindings:[],_listeners:[]}),br=(n,e)=>{let r={_getters:new Set,_setters:new Set},i={f:n},a=vr;vr=[];let f=Sc(n,r,e);f=(f??document).nodeType?f:new Text(f);for(let h of r._getters)r._setters.has(h)||(Cc(h),h._bindings.push(i));for(let h of vr)h._dom=f;return vr=a,i._dom=f},Sl=(n,e=Lc(),r)=>{let i={_getters:new Set,_setters:new Set},a={f:n,s:e};a._dom=r??vr?.push(a)??wc,e.val=Sc(n,i,e.rawVal);for(let f of i._getters)i._setters.has(f)||(Cc(f),f._listeners.push(a));return e},Oc=(n,...e)=>{for(let r of e.flat(1/0)){let i=Ps(r??0),a=i===ho?br(()=>r.val):i===Tc?br(r):r;a!=ri&&n.append(a)}return n},Dc=(n,e,...r)=>{let[i,...a]=Ps(r[0]??0)===gp?r:[{},...r],f=n?document.createElementNS(n,e):document.createElement(e);for(let[h,v]of Object.entries(i)){let E=I=>I?Object.getOwnPropertyDescriptor(I,h)??E(Ps(I)):ri,_=e+","+h,D=mp[_]??=E(Ps(f))?.set??0,w=h.startsWith("on")?(I,W)=>{let Y=h.slice(2);f.removeEventListener(Y,W),f.addEventListener(Y,I)}:D?D.bind(f):f.setAttribute.bind(f,h),A=Ps(v??0);h.startsWith("on")||A===Tc&&(v=Sl(v),A=ho),A===ho?br(()=>(w(v.val,v._oldVal),f)):w(v)}return Oc(f,a)},yc=n=>({get:(e,r)=>Dc.bind(ri,n,r)}),Nc=(n,e)=>e?e!==n&&n.replaceWith(e):n.remove(),_p=()=>{let n=0,e=[...Er].filter(i=>i.rawVal!==i._oldVal);do{Al=new Set;for(let i of new Set(e.flatMap(a=>a._listeners=fo(a._listeners))))Sl(i.f,i.s,i._dom),i._dom=ri}while(++n<100&&(e=[...Al]).length);let r=[...Er].filter(i=>i.rawVal!==i._oldVal);Er=ri;for(let i of new Set(r.flatMap(a=>a._bindings=fo(a._bindings))))Nc(i._dom,br(i.f,i._dom)),i._dom=ri;for(let i of r)i._oldVal=i.rawVal},qt={tags:new Proxy(n=>new Proxy(Dc,yc(n)),yc()),hydrate:(n,e)=>Nc(n,br(e,n)),add:Oc,state:Lc,derive:Sl};var xc=bc(Ol()),{h5:vp,div:yr}=qt.tags;var Qn=class n{static showSuccess(e){e.status=2,n.show(e)}static showError(e){e.status=1,n.show(e)}static showWarning(e){e.status=3,n.show(e)}static show(e){document.dispatchEvent(new CustomEvent("SFT_NOTIFICATION",{detail:e}))}createModal(e){var r="modal-content";switch(e.status||(e.status=0),e.status){case 2:r="alert alert-success";break;case 1:r="alert alert-danger"}var i=yr({class:r});e.title&&qt.add(i,yr({class:"modal-header"},vp({class:"modal-title"},e.title))),e.msg&&qt.add(i,yr({class:"modal-body"},e.msg));var a=yr({class:"modal fade ",tabindex:"-1",role:"dialog"},yr({class:"modal-dialog",role:"document"},i));return qt.add(document.body,a),new xc.Modal(a)}showNotification(e){var r=this.createModal(e);r.show(),setTimeout(()=>{r.hide(),setTimeout(()=>{r.dispose()},5e3)},1500)}constructor(){document.addEventListener("SFT_NOTIFICATION",e=>{e.detail&&this.showNotification(e.detail)})}};var Ms=class n{static#t;offset;constructor(){}static instance(){return n.#t||(n.#t=new n),n.#t}static getOffset(){return n.instance().offset}sync_time_finish(e){var r=e.client[0],i=e.client[1],a=e.client[2],f=e.client[3],h=e.server[0],v=e.server[1],E=e.server[2],_=e.server[3],D=(i-r+v-h)/4,w=i-(v-D),A=(f-a+_-E)/4,I=a-(E-A),W=(w+I)/2;return Math.round(W)}async sync_time(e){if(e||(e={client:[Date.now()]}),this.offset)return this.offset;let r=await fetch("/api/v1/time-sync",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(e)});if(!r.ok)Qn.showError({msg:`Failed to sync time! ${r.status}`});else{let i=await r.json();if(i.client&&i.server)if(i.client.length<4)i.client.push(Date.now()),this.sync_time(i);else return this.offset=this.sync_time_finish(i),this.offset}}};function wr(n){for(var e=typeof n=="string"?parseInt(n,10):n,r=Math.floor(e/3600/1e3),i=Math.floor((e-r*3600*1e3)/60/1e3),a=Math.floor((e-r*3600*1e3-i*60*1e3)/1e3),f=e-r*3600*1e3-i*60*1e3-a*1e3,h=[[r.toString(),"h"],[i.toString(),"m"],[a.toString(),"s"],[f.toString(),"ms"]],v=!1,E="",_=0;_<h.length;_++)(h[_][0]!="0"||v)&&(E+=h[_][0]+h[_][1]+" ",v=!0);return E}function We(n){return document.getElementById(n)}function po(n){n.style.display!=="none"&&(n.old_display=n.style.display,n.style.display="none")}function Dl(n){n.style.display==="none"&&(n.style.display=n.old_display||"initial")}function Tr(n){var e=new Map;for(let r of Object.keys(n))Number.isNaN(Number(r))||e.set(r,n[r]);return e}function Nl(n){return n.slice((n.lastIndexOf(".")-1>>>0)+2)}var Ii=class{static get QUESTION_SVG(){return"question-circle.svg"}};function xl(n,e){return typeof n>"u"||n===null?e:n}var{button:o_,div:Ar,pre:l_,ul:Ep,li:bp,a:yp}=qt.tags,vn=class{name;visible;constructor(e){this.name=e,this.visible=!1}},ks=class{name;pages;currentPage;addPage(e){this.pages.push(e)}showPage(e,r){if(!this.pages.find(i=>i==e)){console.error(`Failed: showPage(${e.name}) - page not in this Mode`);return}this.currentPage&&(this.currentPage.visible=!1),this.currentPage=e,e.visible=!0,r.replaceChildren(e.getDom())}constructor(e){this.name=e,this.pages=new Array}},Pl=class{name;freq;peak;filter;offset_enter;offset_leave;calib_max_lap_count;calib_min_rssi_peak;led_color},kl=(r=>(r[r.AP=0]="AP",r[r.STA=1]="STA",r))(kl||{}),go=(i=>(i[i.RACE=0]="RACE",i[i.CTF=1]="CTF",i[i.SPECTRUM=2]="SPECTRUM",i))(go||{}),Be=class{rssi;elrs_uid;osd_x;osd_y;osd_format;wifi_mode;ssid;passphrase;game_mode;led_num;race_start_offset;getValue(e){var r=e.match(/^rssi\[(\d)\]\.(\w+)$/);if(r!==null){let i=r[1],a=r[2];if(this.rssi[i])return xl(this.rssi[i][a],"")}return xl(this[e],"")}setValues(e){for(let[i,a]of Object.entries(e)){var r=i.match(/^rssi\[(\d)\]\.(\w+)$/);if(r!==null){let f=r[1],h=r[2];this.rssi||(this.rssi=new Array),this.rssi[f]||(this.rssi[f]=new Pl),this.rssi[f][h]=a}else i.match(/^\w+$/)&&(this[i]=a)}return this}toJsonString(){var e=new Object;for(let[r,i]of Object.entries(this))if(r==="rssi")for(let a=0;a<this.rssi.length;a++){let f=this.rssi[a];for(let[h,v]of Object.entries(f))e[`rssi[${a}].${h}`]=v}else e[r]=i;return JSON.stringify(e)}async update(e){let r="/api/v1/settings";try{let i=await fetch(r);if(!i.ok)throw new Error(`Response status: ${i.status}`);let a=await i.json();a.config&&(this.setValues(a.config),document.dispatchEvent(new CustomEvent("SFT_CONFIG_UPDATE",{detail:this})),e(this))}catch(i){console.error(i)}}async save(e){let r="/api/v1/settings";try{let i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:this.toJsonString()});if(!i.ok)Qn.showError({msg:`Failed to save config ${i.status}`}),e(null);else{let a=await i.json();a.status!=="ok"?(Qn.showError({msg:`Failed to save config ${a.msg}`}),e(null)):(a.config&&this.setValues(a.config),document.dispatchEvent(new CustomEvent("SFT_CONFIG_UPDATE",{detail:this})),e(this),Qn.showSuccess({msg:"Configuration saved!"}))}}catch(i){console.error(i.message)}}};var Ml=class{name;ipaddr;laps;constructor(e){this.name=e}from(e){return this.name=e.name,this.ipaddr=e.ipaddr,this.laps=e.laps,this}sortLapsByDuration(){this.laps.sort((e,r)=>e.duration-r.duration)}sortLapsById(){this.laps.sort((e,r)=>e.id-r.id)}patchTime(e){for(let r of this.laps)r.abs_time+=e;return this}},mo=class{_currentMode;_modes;_ws;_players;_root;constructor(){this._modes=new Map,this._currentMode=null,this.initWebsocket(),document.addEventListener("SFT_CONFIG_UPDATE",e=>{this.onConfigUpdate(e.detail)}),new Be().update(()=>{console.debug("GOT CONFIG!")})}initWebsocket(){this._ws&&(this._ws.close(),this._ws=null);let e=`ws://${window.location.hostname}:${window.location.port}/ws/rssi`,r=new WebSocket(e);r.addEventListener("open",()=>{console.debug("WebSocket: connected "+e),this._ws.send(JSON.stringify({type:"hello",msg:"Hello, server!"}))}),r.addEventListener("message",i=>{try{let a=JSON.parse(i.data),f=a;f.type==="rssi"?this.dispatchRSSIUpdateEv(a):f.type==="players"&&this.dispatchPlayersUpdateEv(a.players)}catch{console.log("WebSocket: Failed to parse json:"+i.data)}}),r.onclose=()=>{console.debug("WebSocket: disconnected "+e),setTimeout(()=>{this.initWebsocket()},1e3)},this._ws=r}onConfigUpdate(e){var r=this._modes.get(Number(e.game_mode));r!=this._currentMode&&this.changeMode(r)}changeMode(e){this._currentMode=e,this.getDom().replaceChildren(this.drawTabs())}addMode(e,r){this._modes.set(e,r)}drawTabs(){let e=Ep({class:"nav nav-tabs"}),r=Ar({class:"tab-content"}),i=this._currentMode;return i?(i.pages.forEach((a,f)=>{let h=bp({class:"nav-item"},[yp({class:`nav-link ${f===0?"active":""}`,"data-bs-toggle":"tab",href:`#tab${f+1}`,onclick:()=>{let E=document.getElementById(`tab${f+1}`);E&&i.showPage(a,E)}},a.name)]);e.appendChild(h);let v=Ar({class:`tab-pane fade ${f===0?"show active":""}`,id:`tab${f+1}`});f===0&&v.replaceChildren(a.getDom()),r.appendChild(v)}),Ar(e,r)):Ar({class:"alert alert-danger"},"NO MODE AVAILABLE")}getDom(){return this._root||(this._root=Ar()),this._root}dispatchPlayersUpdateEv(e){var r=new Array;for(let i of e){let a=new Ml("").from(i).patchTime(Ms.getOffset());r.push(a)}document.dispatchEvent(new CustomEvent("SFT_PLAYERS_UPDATE",{detail:r}))}dispatchRSSIUpdateEv(e){for(let r of e.data)r.t+=Ms.getOffset();document.dispatchEvent(new CustomEvent("SFT_RSSI",{detail:e}))}async requestSettings(){let e="/api/v1/settings";try{let r=await fetch(e);if(!r.ok)throw new Error(`Response status: ${r.status}`);let i=await r.json();return i.status&&i.status.players&&this.dispatchPlayersUpdateEv(i.status.players),i}catch(r){console.error(r.message)}}};var PE=bc(Ol());var{h3:m_,label:Rl,form:wp,select:Tp,input:Pc,img:Vl,fieldset:Hl,option:Ap,button:Sp,div:Jn,h5:Mc,pre:g_,ul:Cp,li:Sr,span:Fl,a:$i,table:__,thead:v_,tbody:E_,th:b_,tr:y_,td:w_}=qt.tags,En=class{fieldname;value;label;help;constructor(e,r,i,a){this.fieldname=r,this.value=e.getValue(r),this.label=i,a&&(this.help=a)}inputId(){return`id_input_${this.fieldname}`}draw(){return Jn({class:"form-group"},Hl(Rl({class:"form-label",for:this.inputId()},this.label,this.help?$i({style:"margin: 0px 5px","data-toggle":"tooltip","data-trigger":"click",title:this.help},Vl({src:Ii.QUESTION_SVG})):Fl()),Pc({class:"form-control",name:this.fieldname,id:this.inputId(),type:"text",value:this.value})))}getValue(){var e=We(this.inputId());if(e){var r=e;return r.value}return this.value}setValue(e){this.value=e;var r=We(this.inputId());if(r){var i=r;i.value=e}}getKeyValue(e){var r=new Object,i=this.getValue();return i&&(r[this.fieldname]=i,e&&(e[this.fieldname]=i)),r}},Il=class extends En{draw(){var e="#000000",r=this.value||0;if(!Number.isNaN(r)){r=r;var i=(r&16711680)>>16,a=(r&65280)>>8,f=r&255;e="#"+i.toString(16).padStart(2,"0")+a.toString(16).padStart(2,"0")+f.toString(16).padStart(2,"0")}return Jn({class:"form-group"},Hl(Rl({class:"form-label",for:this.inputId()},this.label,this.help?$i({style:"margin: 0px 5px","data-toggle":"tooltip","data-trigger":"click",title:this.help},Vl({src:Ii.QUESTION_SVG})):Fl()),Pc({class:"form-control form-control-color",name:this.fieldname,id:this.inputId(),type:"color",value:e})))}getValue(){var e=super.getValue();if(!e)return null;var r=e.match(/#(\w{2})(\w{2})(\w{2})/);if(r){var i=parseInt(r[1],16),a=parseInt(r[2],16),f=parseInt(r[3],16);return e=(i<<16|a<<8|f).toString(),e}return e}},Cr=class extends En{options;constructor(e,r,i,a,f){super(e,r,i,f),this.options=a}draw(){var e=Tp({class:"form-select",name:this.fieldname,id:this.inputId()}),r=this.value;for(let[i,a]of this.options)qt.add(e,Ap({value:i,selected:r==i},a));return Jn({class:"form-group"},Hl(Rl({class:"form-label",for:this.inputId()},this.label,this.help?$i({style:"margin: 0px 5px","data-toggle":"tooltip","data-trigger":"click",title:this.help},Vl({src:Ii.QUESTION_SVG})):Fl()),e))}},oi=class{label;elements;cfg;constructor(e,r){this.label=r,this.cfg=e,this.elements=new Array}addElement(e){return this.elements.push(e),this}draw(){return Sr({class:"list-group-item bg-gradient rounded",style:"margin-bottom: 5px; padding: 5px"},Mc({style:"text-align: right; margin:0"},this.label),this.elements.map(e=>e.draw()))}getKeyValues(e){var r=new Object;for(let i of this.elements)for(let[a,f]of Object.entries(i.getKeyValue(e)))r[a]=f;return r}},_o=class extends En{constructor(e,r,i,a,f){super(e,`rssi[${r}].${i}`,a,f)}},li=class extends oi{constructor(e){super(e,"General settings"),this.addElement(new Cr(e,"game_mode","Game mode",Tr(go))),this.addElement(new En(e,"led_num","Number of LEDs"))}},Lp=new Map([["5658","R1 (5658)"],["5695","R2 (5695)"],["5732","R3 (5732)"],["5769","R4 (5769)"],["5806","R5 (5806)"],["5843","R6 (5843)"],["5880","R7 (5880)"],["5917","R8 (5917)"]]),$l=class extends oi{tablink;tabpane;index;id_prefix="rssi_config_tab_";draw(){return Jn(this.elements.map(e=>e.draw()))}getTabLink(){return this.tablink||(this.tablink=Sr({class:"nav-item"},[$i({class:"nav-link","data-bs-toggle":"tab",href:`#${this.id_prefix}${this.index}`},this.label)])),this.tablink}getTabPane(){return this.tabpane||(this.tabpane=Jn({class:"tab-pane fade}",id:`${this.id_prefix}${this.index}`},this.draw())),this.tabpane}selectTab(){document.body.contains(this.getTabLink())&&this.getTabLink().firstChild.click()}initFromOther(e){var r=["peak","filter","offset_leave","offset_enter","calib_max_lap_count","calib_min_rssi_peak"];for(let i of e.elements)for(let a of this.elements){let f=Nl(a.fieldname),h=Nl(i.fieldname);f==h&&r.indexOf(f)>=0&&a.setValue(i.getValue())}}getValue(e){e=`rssi[${this.index}].${e}`;for(let r of this.elements)if(r.fieldname==e)return r.getValue();return null}constructor(e,r){super(e,"Player settings"),this.index=r,this.label=(r+1).toString(),this.addElement(new _o(e,r,"name","Name")),this.addElement(new Cr(e,`rssi[${r}].freq`,"Frequency",Lp)),this.addElement(new Il(e,`rssi[${r}].led_color`,"LED color")),[{label:"RSSI Peak value (default: 1100)",name:"peak",help:"The expected RSSI maximum, when the drone fly through the gate."},{name:"filter",label:"Filter",help:"Smooth the RSSI input signals. Range is 1-100, a value near to 1 smooth more, a value of 100 keeps the raw RSSI value."},{label:"Offset enter (in %)",name:"offset_enter",help:"The percentage of 'RSSI-Peak' to count a drone as entered the gate. The range is 50-100 (Default: 80)"},{label:"Offset leave (in %)",name:"offset_leave",help:"The percentage of 'RSSI-Peak' to count a drone as leaved the gate. The range is 50-100 (Default: 70)"},{label:"Calibration max lap count",name:"calib_max_lap_count",help:"The number of laps to be detected to finish the calibration."},{label:"Calibration min rssi peak",name:"calib_min_rssi_peak",help:"The minimum RSSI value to detect a 'drone enter gate' during calibration."}].forEach(i=>{this.addElement(new _o(e,r,i.name,i.label,i.help))})}},ai=class extends oi{tabs;tabList;tabContent;plusTabListElement;minusTabListElement;min_tabs;max_tabs;drawTab(e){this.plusTabListElement.insertAdjacentElement("beforebegin",e.getTabLink()),this.tabContent.appendChild(e.getTabPane())}updatePlusMinus(){this.max_tabs-this.min_tabs==0&&po(this.tabList),this.tabs.length>=this.max_tabs?po(this.plusTabListElement):Dl(this.plusTabListElement),this.tabs.length<=this.min_tabs?po(this.minusTabListElement):Dl(this.minusTabListElement)}addTab(){if(this.tabs.length<this.max_tabs){let e=this.tabs.length,r=new $l(this.cfg,e);e>0&&r.getValue("freq")=="0"&&r.initFromOther(this.tabs[e-1]),this.tabs.push(r),this.drawTab(r),r.selectTab()}else this.tabs[this.tabs.length-1].selectTab();this.updatePlusMinus()}removeTab(){if(this.min_tabs<this.tabs.length){let e=this.tabs.pop();e.getTabPane().remove(),e.getTabLink().remove()}this.tabs[this.tabs.length-1].selectTab(),this.updatePlusMinus()}buildTabElements(){this.tabList=Cp({class:"nav nav-tabs"}),this.tabContent=Jn({class:"tab-content"}),this.plusTabListElement=Sr({class:"nav-item"},[$i({class:"nav-link","data-bs-toggle":"tab",onclick:()=>{this.addTab()}},"+")]),this.minusTabListElement=Sr({class:"nav-item"},[$i({class:"nav-link","data-bs-toggle":"tab",onclick:()=>{this.removeTab()}},"-")]),this.tabList.appendChild(this.plusTabListElement),this.tabList.appendChild(this.minusTabListElement)}draw(){return setTimeout(()=>{this.tabs[0].selectTab()},500),Sr({class:"list-group-item bg-gradient rounded",style:"margin-bottom: 5px; padding: 5px"},Mc({style:"text-align: right; margin:0"},this.label),Jn(this.tabList,this.tabContent))}getKeyValues(e){var r=new Object;for(let i of this.tabs)for(let[a,f]of Object.entries(i.getKeyValues(e)))r[a]=f;for(let i=this.tabs.length;i<8;i++)e[`rssi[${i}].freq`]="0",r[`rssi[${i}].freq`]="0";return r}constructor(e,r,i,a){super(e,r),this.tabs=new Array,this.min_tabs=i,this.max_tabs=a,this.buildTabElements();for(let f of e.rssi)if(f.freq!=0)this.addTab();else break;for(;e.rssi.length<i;)this.addTab()}},Lr=class extends oi{constructor(e){super(e,"expressLRS/OSD"),this.addElement(new En(e,"elrs_uid","Elrs UID")),this.addElement(new En(e,"osd_x","X position on OSD")),this.addElement(new En(e,"osd_y","Y position on OSD")),this.addElement(new En(e,"osd_format","OSD message format"))}},ci=class extends oi{constructor(e){super(e,"WiFi Settings"),this.addElement(new Cr(e,"wifi_mode","WIFI Mode",Tr(kl))),this.addElement(new En(e,"ssid","SSID")),this.addElement(new En(e,"passphrase","Passphrase"))}},Is=class extends vn{root;drawConfig(e){var r=new Array;return r.push(new li(e)),r.push(new ai(e,"Player Config",1,1)),r.push(new Lr(e)),r.push(new ci(e)),Jn(wp(r.map(i=>i.draw()),Jn({class:"mb-3",style:"margin: 5px 3px"},Sp({class:"btn btn-primary",type:"button",id:"config_submit_btn_id",onclick:()=>{var i=We("config_submit_btn_id");i.disabled=!0,i.classList.add("disabled");var a=new Be;r.forEach(h=>{h.getKeyValues(a)});var f=new Be;f.setValues(a),f.save(h=>{h&&this.onConfigUpdate(h),i.classList.remove("disabled"),i.disabled=!1})}},"Submit"))))}getDom(){this.root||(this.root=Jn());var e=new Be;return e.update(r=>{this.onConfigUpdate(r)}),this.root}onConfigUpdate(e){this.root&&this.root.replaceChildren(this.drawConfig(e))}constructor(){super("Config")}};var{button:D_,div:Op,pre:N_,ul:x_,li:P_,a:M_,table:Dp,thead:Np,tbody:xp,th:Pp,tr:kc,td:vo}=qt.tags,Wl=class{player;lap;draw(e){return kc(e,vo(this.player.name),vo(this.lap.id),vo(wr(this.lap.duration)),vo(this.lap.rssi))}constructor(e,r){this.player=e,this.lap=r}},Eo=class{headline;laps;addRow(e){this.laps.push(e)}sortByDuration(){this.laps.sort((e,r)=>e.lap.duration-r.lap.duration)}sortByAbsTime(){this.laps.sort((e,r)=>r.lap.abs_time-e.lap.abs_time)}draw(){this.sortByDuration();var e=this.laps[0],r=this.laps[1],i=this.laps[2];let a=kc({class:"table-secondary"});this.headline.forEach(E=>{a.append(Pp({scope:"col"},E))});let f=Np(a),h=xp();return this.laps.forEach(E=>{var _=E.draw();E==e?_.getElementsByTagName("td").item(2).innerHTML+="&#129351;":E==r?_.getElementsByTagName("td").item(2).innerHTML+="&#129352;":E==i&&(_.getElementsByTagName("td").item(2).innerHTML+="&#129353;"),h.append(_)}),Dp({class:"table table-striped table-sm table-dark"},f,h)}constructor(){this.headline=["Pilot","Lap#","Duration","RSSI"],this.laps=new Array}},bo=class extends vn{root;lapsTable;getDom(){return this.root||(this.root=Op(this.lapsTable.draw())),this.root}onPlayersUpdate(e){this.lapsTable=new Eo,e.forEach(r=>{r.laps.forEach(i=>{this.lapsTable.addRow(new Wl(r,i))})}),this.lapsTable.sortByAbsTime(),this.getDom().replaceChildren(this.lapsTable.draw())}constructor(){super("Laps"),this.lapsTable=new Eo,document.addEventListener("SFT_PLAYERS_UPDATE",e=>{this.onPlayersUpdate(e.detail)})}};var{h3:F_,label:W_,select:Mp,option:kp,button:Ip,div:an,h5:$p,pre:B_,ul:U_,li:j_,span:Bl,a:Rp,table:K_,thead:Y_,tbody:G_,th:z_,tr:q_,td:Q_}=qt.tags,Ic=(_=>(_[_.OneLap=0]="OneLap",_[_.TwoLaps=1]="TwoLaps",_[_.ThreeLaps=2]="ThreeLaps",_[_.MaxLaps=3]="MaxLaps",_[_.FastesLap=4]="FastesLap",_[_.FastesTwoLaps=5]="FastesTwoLaps",_[_.FastesThreeLaps=6]="FastesThreeLaps",_[_.FastesTwoContinousLaps=7]="FastesTwoContinousLaps",_[_.FastesThreeContinousLaps=8]="FastesThreeContinousLaps",_))(Ic||{});var Ri=class{player;ranking;counted_laps;constructor(e,r){this.player=e,this.ranking=r,this.counted_laps=new Array}compare(e){return e.ranking-this.ranking}drawLap(e,r,i){return an({class:"card-text border rounded ",style:`margin: 3px; ${i}`},Bl({style:"font-weight: bold; border-right: 1px solid grey; margin: 0px 5px; min-width: 40px; display: inline-block;"},e),Bl(r))}drawLapInfo(){var e=this.counted_laps.length>0?this.counted_laps:this.player.laps,r=an();if(e.length>1){var i=0;for(let a of e)i+=a.duration;r=this.drawLap("SUM",wr(i),"font-weight: bold;")}return an(e.map(a=>this.drawLap(a.id.toString(),wr(a.duration))),r)}};function Vp(n,e){return n.ranking-e.ranking}var Ul=class extends Ri{constructor(e,r){var i=new Array;e.sortLapsByDuration();var a=0;e.laps.length>=r?e.laps.forEach((f,h)=>{h<r&&(a+=f.duration,i.push(f))}):a=Number.MAX_VALUE,super(e,a),this.counted_laps=i}},jl=class extends Ri{constructor(e,r){var i=new Array;e.sortLapsById();var a=0;e.laps.length>=r?e.laps.forEach((f,h)=>{h<r&&(a+=f.duration,i.push(f))}):a=Number.MAX_VALUE,super(e,a),this.counted_laps=i}},Kl=class extends Ri{constructor(e,r){var i=new Array;e.laps.forEach((a,f)=>{var h=0,v=new Array;if(f+r<=e.laps.length)for(let E=0;E<r;E++)h+=e.laps[f+E].duration,v.push(e.laps[f+E]);else h=Number.MAX_VALUE;i.push({laps:v,duration_sum:h})}),i.sort((a,f)=>a.duration_sum-f.duration_sum),super(e,i.length>0?i[0].duration_sum:Number.MAX_VALUE),i.length>0&&(this.counted_laps=i[0].laps)}},yo=class extends vn{root;playersDom;actionsDom;players;racemode;getActionsDom(){return this.actionsDom||(this.actionsDom=an(an({class:"mb-3",style:"margin: 5px 3px"},an({class:"input-group flex-nowrap"},Bl({class:"input-group-text",id:"inputGroup-sizing-default"},"Race mode"),Mp({class:"form-select",id:"select_race_mode",onchange:()=>{var e=We("select_race_mode");this.racemode=Number(e.value),this.onPlayersUpdate(this.players.map(r=>r.player))}},Array.from(Tr(Ic)).map(([e,r])=>kp({value:e},r.replace(/([A-Z])/g," $1"))))),an({class:"form-text"},"Select race mode to set the evaluation of the laps.")),an({class:"mb-3",style:"margin: 5px 3px"},Ip({class:"btn btn-primary",type:"button",onclick:()=>{}},"Start Race!")))),this.actionsDom}getPlayersDom(){return this.playersDom||(this.playersDom=an()),this.playersDom}getDom(){return this.root||(this.root=an(this.getActionsDom(),this.getPlayersDom())),this.root}drawPlayerRanking(e){var r=e.ranking==1?"\u{1F3C6}":e.ranking==2?"\u{1F948}":e.ranking==3?"\u{1F949}":e.ranking==Number.MAX_VALUE?"":e.ranking+".",i=an({class:"card",style:"margin: 5px;"},$p({class:"card-header"},r+" "+e.player.name,Rp({class:"btn btn-secondary btn-sm",style:"float:right",role:"button",href:"http://"+e.player.ipaddr},"\u2699\uFE0F")),an({class:"card-text",style:"font-weight: bold;"},"Laps:"),e.drawLapInfo());return i}sortPlayersByFastesLap(e,r){var i=new Array;return e.forEach(a=>{i.push(new Ul(a,r))}),i}sortPlayersByLap(e,r){var i=new Array;return e.forEach(a=>{i.push(new jl(a,r))}),i}sortPlayersByMaxLap(e){var r=new Array;return e.sort((i,a)=>{if(i.laps.length==a.laps.length){var f=0,h=0;for(let v of i.laps)f+=v.duration;for(let v of a.laps)h+=v.duration;return f-h}return a.laps.length-i.laps.length}),e.forEach((i,a)=>{r.push(new Ri(i,a))}),r}sortPlayersByContinousLaps(e,r){var i=new Array;return e.forEach(a=>{i.push(new Kl(a,r))}),i}sortPlayersByMode(e,r){switch(r){case 4:return this.sortPlayersByFastesLap(e,1);case 5:return this.sortPlayersByFastesLap(e,2);case 6:return this.sortPlayersByFastesLap(e,3);case 0:return this.sortPlayersByLap(e,1);case 1:return this.sortPlayersByLap(e,2);case 2:return this.sortPlayersByLap(e,3);case 3:return this.sortPlayersByMaxLap(e);case 7:return this.sortPlayersByContinousLaps(e,2);case 8:return this.sortPlayersByContinousLaps(e,3);default:return this.sortPlayersByFastesLap(e,1)}}playersToRanking(e,r){var i=this.sortPlayersByMode(e,r);i.sort(Vp);var a=1;for(let f of i)f.ranking!=Number.MAX_VALUE&&(f.ranking=a),a+=1;return i.sort((f,h)=>f.player.name.localeCompare(h.player.name)),i}onPlayersUpdate(e){this.players=this.playersToRanking(e,this.racemode);var r=an();this.players.forEach(i=>{r.appendChild(this.drawPlayerRanking(i))}),this.getPlayersDom().replaceChildren(r)}constructor(){super("Players"),this.racemode=4,this.players=new Array,document.addEventListener("SFT_PLAYERS_UPDATE",e=>{e.detail&&this.onPlayersUpdate(e.detail)})}};var Ee="u-",Hp="uplot",Fp=Ee+"hz",Wp=Ee+"vt",Bp=Ee+"title",Up=Ee+"wrap",jp=Ee+"under",Kp=Ee+"over",Yp=Ee+"axis",hi=Ee+"off",Gp=Ee+"select",zp=Ee+"cursor-x",qp=Ee+"cursor-y",Qp=Ee+"cursor-pt",Jp=Ee+"legend",Xp=Ee+"live",Zp=Ee+"inline",tm=Ee+"series",em=Ee+"marker",$c=Ee+"label",nm=Ee+"value",Nr="width",xr="height",Or="top",Rc="bottom",Vi="left",Yl="right",aa="#000",Vc=aa+"0",Hc="mousemove",Fc="mousedown",Gl="mouseup",Wc="mouseenter",Bc="mouseleave",Uc="dblclick",sm="resize",im="scroll",jc="change",Co="dppxchange",ca="--",Ki=typeof window<"u",Xl=Ki?document:null,Fi=Ki?window:null,rm=Ki?navigator:null,St,wo;function Zl(){let n=devicePixelRatio;St!=n&&(St=n,wo&&ea(jc,wo,Zl),wo=matchMedia(`(min-resolution: ${St-.001}dppx) and (max-resolution: ${St+.001}dppx)`),di(jc,wo,Zl),Fi.dispatchEvent(new CustomEvent(Co)))}function cn(n,e){if(e!=null){let r=n.classList;!r.contains(e)&&r.add(e)}}function ta(n,e){let r=n.classList;r.contains(e)&&r.remove(e)}function Kt(n,e,r){n.style[e]=r+"px"}function Pn(n,e,r,i){let a=Xl.createElement(n);return e!=null&&cn(a,e),r?.insertBefore(a,i),a}function bn(n,e){return Pn("div",n,e)}var Kc=new WeakMap;function Xn(n,e,r,i,a){let f="translate("+e+"px,"+r+"px)",h=Kc.get(n);f!=h&&(n.style.transform=f,Kc.set(n,f),e<0||r<0||e>i||r>a?cn(n,hi):ta(n,hi))}var Yc=new WeakMap;function Gc(n,e,r){let i=e+r,a=Yc.get(n);i!=a&&(Yc.set(n,i),n.style.background=e,n.style.borderColor=r)}var zc=new WeakMap;function qc(n,e,r,i){let a=e+""+r,f=zc.get(n);a!=f&&(zc.set(n,a),n.style.height=r+"px",n.style.width=e+"px",n.style.marginLeft=i?-e/2+"px":0,n.style.marginTop=i?-r/2+"px":0)}var ua={passive:!0},om={...ua,capture:!0};function di(n,e,r,i){e.addEventListener(n,r,i?om:ua)}function ea(n,e,r,i){e.removeEventListener(n,r,ua)}Ki&&Zl();function Mn(n,e,r,i){let a;r=r||0,i=i||e.length-1;let f=i<=2147483647;for(;i-r>1;)a=f?r+i>>1:un((r+i)/2),e[a]<n?r=a:i=a;return n-e[r]<=e[i]-n?r:i}function Tu(n){return(r,i,a)=>{let f=-1,h=-1;for(let v=i;v<=a;v++)if(n(r[v])){f=v;break}for(let v=a;v>=i;v--)if(n(r[v])){h=v;break}return[f,h]}}var Au=n=>n!=null,Su=n=>n!=null&&n>0,Do=Tu(Au),lm=Tu(Su);function am(n,e,r,i=0,a=!1){let f=a?lm:Do,h=a?Su:Au;[e,r]=f(n,e,r);let v=n[e],E=n[e];if(e>-1)if(i==1)v=n[e],E=n[r];else if(i==-1)v=n[r],E=n[e];else for(let _=e;_<=r;_++){let D=n[_];h(D)&&(D<v?v=D:D>E&&(E=D))}return[v??Vt,E??-Vt]}function No(n,e,r,i){let a=Xc(n),f=Xc(e);n==e&&(a==-1?(n*=r,e/=r):(n/=r,e*=r));let h=r==10?gs:Cu,v=a==1?un:yn,E=f==1?yn:un,_=v(h(ve(n))),D=E(h(ve(e))),w=Wi(r,_),A=Wi(r,D);return r==10&&(_<0&&(w=Ht(w,-_)),D<0&&(A=Ht(A,-D))),i||r==2?(n=w*a,e=A*f):(n=Du(n,w),e=xo(e,A)),[n,e]}function fa(n,e,r,i){let a=No(n,e,r,i);return n==0&&(a[0]=0),e==0&&(a[1]=0),a}var ha=.1,Qc={mode:3,pad:ha},Mr={pad:0,soft:null,mode:0},cm={min:Mr,max:Mr};function Lo(n,e,r,i){return Po(r)?Jc(n,e,r):(Mr.pad=r,Mr.soft=i?0:null,Mr.mode=i?3:0,Jc(n,e,cm))}function Tt(n,e){return n??e}function um(n,e,r){for(e=Tt(e,0),r=Tt(r,n.length-1);e<=r;){if(n[e]!=null)return!0;e++}return!1}function Jc(n,e,r){let i=r.min,a=r.max,f=Tt(i.pad,0),h=Tt(a.pad,0),v=Tt(i.hard,-Vt),E=Tt(a.hard,Vt),_=Tt(i.soft,Vt),D=Tt(a.soft,-Vt),w=Tt(i.mode,0),A=Tt(a.mode,0),I=e-n,W=gs(I),Y=Ue(ve(n),ve(e)),q=gs(Y),et=ve(q-W);(I<1e-24||et>10)&&(I=0,(n==0||e==0)&&(I=1e-24,w==2&&_!=Vt&&(f=0),A==2&&D!=-Vt&&(h=0)));let M=I||Y||1e3,Q=gs(M),x=Wi(10,un(Q)),Z=M*(I==0?n==0?.1:1:f),$=Ht(Du(n-Z,x/10),24),ht=n>=_&&(w==1||w==3&&$<=_||w==2&&$>=_)?_:Vt,it=Ue(v,$<ht&&n>=ht?ht:kn(ht,$)),ft=M*(I==0?e==0?.1:1:h),H=Ht(xo(e+ft,x/10),24),X=e<=D&&(A==1||A==3&&H>=D||A==2&&H<=D)?D:-Vt,nt=kn(E,H>X&&e<=X?X:Ue(X,H));return it==nt&&it==0&&(nt=100),[it,nt]}var fm=new Intl.NumberFormat(Ki?rm.language:"en-US"),da=n=>fm.format(n),fn=Math,So=fn.PI,ve=fn.abs,un=fn.floor,_e=fn.round,yn=fn.ceil,kn=fn.min,Ue=fn.max,Wi=fn.pow,Xc=fn.sign,gs=fn.log10,Cu=fn.log2,hm=(n,e=1)=>fn.sinh(n)*e,zl=(n,e=1)=>fn.asinh(n/e),Vt=1/0;function Zc(n){return(gs((n^n>>31)-(n>>31))|0)+1}function na(n,e,r){return kn(Ue(n,e),r)}function bt(n){return typeof n=="function"?n:()=>n}var dm=()=>{},Lu=n=>n,Ou=(n,e)=>e,tu=n=>!0,eu=(n,e)=>n==e,pm=/\.\d*?(?=9{6,}|0{6,})/gm,pi=n=>{if(xu(n)||Rs.has(n))return n;let e=`${n}`,r=e.match(pm);if(r==null)return n;let i=r[0].length-1;if(e.indexOf("e-")!=-1){let[a,f]=e.split("e");return+`${pi(a)}e${f}`}return Ht(n,i)};function ui(n,e){return pi(Ht(pi(n/e))*e)}function xo(n,e){return pi(yn(pi(n/e))*e)}function Du(n,e){return pi(un(pi(n/e))*e)}function Ht(n,e=0){if(xu(n))return n;let r=10**e,i=n*r*(1+Number.EPSILON);return _e(i)/r}var Rs=new Map;function Nu(n){return((""+n).split(".")[1]||"").length}function Ir(n,e,r,i){let a=[],f=i.map(Nu);for(let h=e;h<r;h++){let v=ve(h),E=Ht(Wi(n,h),v);for(let _=0;_<i.length;_++){let D=n==10?+`${i[_]}e${h}`:i[_]*E,w=(h>=0?0:v)+(h>=f[_]?0:f[_]),A=n==10?D:Ht(D,w);a.push(A),Rs.set(A,w)}}return a}var kr={},pa=[],Bi=[null,null],$s=Array.isArray,xu=Number.isInteger,mm=n=>n===void 0;function nu(n){return typeof n=="string"}function Po(n){let e=!1;if(n!=null){let r=n.constructor;e=r==null||r==Object}return e}function gm(n){return n!=null&&typeof n=="object"}var _m=Object.getPrototypeOf(Uint8Array),Pu="__proto__";function Ui(n,e=Po){let r;if($s(n)){let i=n.find(a=>a!=null);if($s(i)||e(i)){r=Array(n.length);for(let a=0;a<n.length;a++)r[a]=Ui(n[a],e)}else r=n.slice()}else if(n instanceof _m)r=n.slice();else if(e(n)){r={};for(let i in n)i!=Pu&&(r[i]=Ui(n[i],e))}else r=n;return r}function fe(n){let e=arguments;for(let r=1;r<e.length;r++){let i=e[r];for(let a in i)a!=Pu&&(Po(n[a])?fe(n[a],Ui(i[a])):n[a]=Ui(i[a]))}return n}var vm=0,Em=1,bm=2;function ym(n,e,r){for(let i=0,a,f=-1;i<e.length;i++){let h=e[i];if(h>f){for(a=h-1;a>=0&&n[a]==null;)n[a--]=null;for(a=h+1;a<r&&n[a]==null;)n[f=a++]=null}}}function wm(n,e){if(Sm(n)){let h=n[0].slice();for(let v=1;v<n.length;v++)h.push(...n[v].slice(1));return Cm(h[0])||(h=Am(h)),h}let r=new Set;for(let h=0;h<n.length;h++){let E=n[h][0],_=E.length;for(let D=0;D<_;D++)r.add(E[D])}let i=[Array.from(r).sort((h,v)=>h-v)],a=i[0].length,f=new Map;for(let h=0;h<a;h++)f.set(i[0][h],h);for(let h=0;h<n.length;h++){let v=n[h],E=v[0];for(let _=1;_<v.length;_++){let D=v[_],w=Array(a).fill(void 0),A=e?e[h][_]:Em,I=[];for(let W=0;W<D.length;W++){let Y=D[W],q=f.get(E[W]);Y===null?A!=vm&&(w[q]=Y,A==bm&&I.push(q)):w[q]=Y}ym(w,I,a),i.push(w)}}return i}var Tm=typeof queueMicrotask>"u"?n=>Promise.resolve().then(n):queueMicrotask;function Am(n){let e=n[0],r=e.length,i=Array(r);for(let f=0;f<i.length;f++)i[f]=f;i.sort((f,h)=>e[f]-e[h]);let a=[];for(let f=0;f<n.length;f++){let h=n[f],v=Array(r);for(let E=0;E<r;E++)v[E]=h[i[E]];a.push(v)}return a}function Sm(n){let e=n[0][0],r=e.length;for(let i=1;i<n.length;i++){let a=n[i][0];if(a.length!=r)return!1;if(a!=e){for(let f=0;f<r;f++)if(a[f]!=e[f])return!1}}return!0}function Cm(n,e=100){let r=n.length;if(r<=1)return!0;let i=0,a=r-1;for(;i<=a&&n[i]==null;)i++;for(;a>=i&&n[a]==null;)a--;if(a<=i)return!0;let f=Ue(1,un((a-i+1)/e));for(let h=n[i],v=i+f;v<=a;v+=f){let E=n[v];if(E!=null){if(E<=h)return!1;h=E}}return!0}var Mu=["January","February","March","April","May","June","July","August","September","October","November","December"],ku=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Iu(n){return n.slice(0,3)}var Lm=ku.map(Iu),Om=Mu.map(Iu),Dm={MMMM:Mu,MMM:Om,WWWW:ku,WWW:Lm};function Dr(n){return(n<10?"0":"")+n}function Nm(n){return(n<10?"00":n<100?"0":"")+n}var xm={YYYY:n=>n.getFullYear(),YY:n=>(n.getFullYear()+"").slice(2),MMMM:(n,e)=>e.MMMM[n.getMonth()],MMM:(n,e)=>e.MMM[n.getMonth()],MM:n=>Dr(n.getMonth()+1),M:n=>n.getMonth()+1,DD:n=>Dr(n.getDate()),D:n=>n.getDate(),WWWW:(n,e)=>e.WWWW[n.getDay()],WWW:(n,e)=>e.WWW[n.getDay()],HH:n=>Dr(n.getHours()),H:n=>n.getHours(),h:n=>{let e=n.getHours();return e==0?12:e>12?e-12:e},AA:n=>n.getHours()>=12?"PM":"AM",aa:n=>n.getHours()>=12?"pm":"am",a:n=>n.getHours()>=12?"p":"a",mm:n=>Dr(n.getMinutes()),m:n=>n.getMinutes(),ss:n=>Dr(n.getSeconds()),s:n=>n.getSeconds(),fff:n=>Nm(n.getMilliseconds())};function ma(n,e){e=e||Dm;let r=[],i=/\{([a-z]+)\}|[^{]+/gi,a;for(;a=i.exec(n);)r.push(a[0][0]=="{"?xm[a[1]]:a[0]);return f=>{let h="";for(let v=0;v<r.length;v++)h+=typeof r[v]=="string"?r[v]:r[v](f,e);return h}}var Pm=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Mm(n,e){let r;return e=="UTC"||e=="Etc/UTC"?r=new Date(+n+n.getTimezoneOffset()*6e4):e==Pm?r=n:(r=new Date(n.toLocaleString("en-US",{timeZone:e})),r.setMilliseconds(n.getMilliseconds())),r}var $u=n=>n%1==0,Oo=[1,2,2.5,5],km=Ir(10,-32,0,Oo),Ru=Ir(10,0,32,Oo),Im=Ru.filter($u),fi=km.concat(Ru),ga=`
`,Vu="{YYYY}",su=ga+Vu,Hu="{M}/{D}",Pr=ga+Hu,To=Pr+"/{YY}",Fu="{aa}",$m="{h}:{mm}",Hi=$m+Fu,iu=ga+Hi,ru=":{ss}",Lt=null;function Wu(n){let e=n*1e3,r=e*60,i=r*60,a=i*24,f=a*30,h=a*365,E=(n==1?Ir(10,0,3,Oo).filter($u):Ir(10,-3,0,Oo)).concat([e,e*5,e*10,e*15,e*30,r,r*5,r*10,r*15,r*30,i,i*2,i*3,i*4,i*6,i*8,i*12,a,a*2,a*3,a*4,a*5,a*6,a*7,a*8,a*9,a*10,a*15,f,f*2,f*3,f*4,f*6,h,h*2,h*5,h*10,h*25,h*50,h*100]),_=[[h,Vu,Lt,Lt,Lt,Lt,Lt,Lt,1],[a*28,"{MMM}",su,Lt,Lt,Lt,Lt,Lt,1],[a,Hu,su,Lt,Lt,Lt,Lt,Lt,1],[i,"{h}"+Fu,To,Lt,Pr,Lt,Lt,Lt,1],[r,Hi,To,Lt,Pr,Lt,Lt,Lt,1],[e,ru,To+" "+Hi,Lt,Pr+" "+Hi,Lt,iu,Lt,1],[n,ru+".{fff}",To+" "+Hi,Lt,Pr+" "+Hi,Lt,iu,Lt,1]];function D(w){return(A,I,W,Y,q,et)=>{let M=[],Q=q>=h,x=q>=f&&q<h,Z=w(W),$=Ht(Z*n,3),ht=ql(Z.getFullYear(),Q?0:Z.getMonth(),x||Q?1:Z.getDate()),it=Ht(ht*n,3);if(x||Q){let ft=x?q/f:0,H=Q?q/h:0,X=$==it?$:Ht(ql(ht.getFullYear()+H,ht.getMonth()+ft,1)*n,3),nt=new Date(_e(X/n)),z=nt.getFullYear(),j=nt.getMonth();for(let at=0;X<=Y;at++){let yt=ql(z+H*at,j+ft*at,1),J=yt-w(Ht(yt*n,3));X=Ht((+yt+J)*n,3),X<=Y&&M.push(X)}}else{let ft=q>=a?a:q,H=un(W)-un($),X=it+H+xo($-it,ft);M.push(X);let nt=w(X),z=nt.getHours()+nt.getMinutes()/r+nt.getSeconds()/i,j=q/i,at=A.axes[I]._space,yt=et/at;for(;X=Ht(X+q,n==1?0:3),!(X>Y);)if(j>1){let J=un(Ht(z+j,6))%24,ot=w(X).getHours()-J;ot>1&&(ot=-1),X-=ot*i,z=(z+j)%24;let mt=M[M.length-1];Ht((X-mt)/q,3)*yt>=.7&&M.push(X)}else M.push(X)}return M}}return[E,_,D]}var[Rm,Vm,Hm]=Wu(1),[Fm,Wm,Bm]=Wu(.001);Ir(2,-53,53,[1]);function ou(n,e){return n.map(r=>r.map((i,a)=>a==0||a==8||i==null?i:e(a==1||r[8]==0?i:r[1]+i)))}function lu(n,e){return(r,i,a,f,h)=>{let v=e.find(W=>h>=W[0])||e[e.length-1],E,_,D,w,A,I;return i.map(W=>{let Y=n(W),q=Y.getFullYear(),et=Y.getMonth(),M=Y.getDate(),Q=Y.getHours(),x=Y.getMinutes(),Z=Y.getSeconds(),$=q!=E&&v[2]||et!=_&&v[3]||M!=D&&v[4]||Q!=w&&v[5]||x!=A&&v[6]||Z!=I&&v[7]||v[1];return E=q,_=et,D=M,w=Q,A=x,I=Z,$(Y)})}}function Um(n,e){let r=ma(e);return(i,a,f,h,v)=>a.map(E=>r(n(E)))}function ql(n,e,r){return new Date(n,e,r)}function au(n,e){return e(n)}var jm="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function cu(n,e){return(r,i,a,f)=>f==null?ca:e(n(i))}function Km(n,e){let r=n.series[e];return r.width?r.stroke(n,e):r.points.width?r.points.stroke(n,e):null}function Ym(n,e){return n.series[e].fill(n,e)}var Gm={show:!0,live:!0,isolate:!1,mount:dm,markers:{show:!0,width:2,stroke:Km,fill:Ym,dash:"solid"},idx:null,idxs:null,values:[]};function zm(n,e){let r=n.cursor.points,i=bn(),a=r.size(n,e);Kt(i,Nr,a),Kt(i,xr,a);let f=a/-2;Kt(i,"marginLeft",f),Kt(i,"marginTop",f);let h=r.width(n,e,a);return h&&Kt(i,"borderWidth",h),i}function qm(n,e){let r=n.series[e].points;return r._fill||r._stroke}function Qm(n,e){let r=n.series[e].points;return r._stroke||r._fill}function Jm(n,e){return n.series[e].points.size}var Ql=[0,0];function Xm(n,e,r){return Ql[0]=e,Ql[1]=r,Ql}function Ao(n,e,r,i=!0){return a=>{a.button==0&&(!i||a.target==e)&&r(a)}}function Jl(n,e,r,i=!0){return a=>{(!i||a.target==e)&&r(a)}}var Zm={show:!0,x:!0,y:!0,lock:!1,move:Xm,points:{one:!1,show:zm,size:Jm,width:0,stroke:Qm,fill:qm},bind:{mousedown:Ao,mouseup:Ao,click:Ao,dblclick:Ao,mousemove:Jl,mouseleave:Jl,mouseenter:Jl},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(n,e)=>{e.stopPropagation(),e.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(n,e,r,i,a)=>i-a,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Bu={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},_a=fe({},Bu,{filter:Ou}),Uu=fe({},_a,{size:10}),ju=fe({},Bu,{show:!1}),va='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Ku="bold "+va,Yu=1.5,uu={show:!0,scale:"x",stroke:aa,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Ku,side:2,grid:_a,ticks:Uu,border:ju,font:va,lineGap:Yu,rotate:0},tg="Value",eg="Time",fu={show:!0,scale:"x",auto:!1,sorted:1,min:Vt,max:-Vt,idxs:[]};function ng(n,e,r,i,a){return e.map(f=>f==null?"":da(f))}function sg(n,e,r,i,a,f,h){let v=[],E=Rs.get(a)||0;r=h?r:Ht(xo(r,a),E);for(let _=r;_<=i;_=Ht(_+a,E))v.push(Object.is(_,-0)?0:_);return v}function sa(n,e,r,i,a,f,h){let v=[],E=n.scales[n.axes[e].scale].log,_=E==10?gs:Cu,D=un(_(r));a=Wi(E,D),E==10&&(a=fi[Mn(a,fi)]);let w=r,A=a*E;E==10&&(A=fi[Mn(A,fi)]);do v.push(w),w=w+a,E==10&&!Rs.has(w)&&(w=Ht(w,Rs.get(a))),w>=A&&(a=w,A=a*E,E==10&&(A=fi[Mn(A,fi)]));while(w<=i);return v}function ig(n,e,r,i,a,f,h){let E=n.scales[n.axes[e].scale].asinh,_=i>E?sa(n,e,Ue(E,r),i,a):[E],D=i>=0&&r<=0?[0]:[];return(r<-E?sa(n,e,Ue(E,-i),-r,a):[E]).reverse().map(A=>-A).concat(D,_)}var Gu=/./,rg=/[12357]/,og=/[125]/,hu=/1/,ia=(n,e,r,i)=>n.map((a,f)=>e==4&&a==0||f%i==0&&r.test(a.toExponential()[a<0?1:0])?a:null);function lg(n,e,r,i,a){let f=n.axes[r],h=f.scale,v=n.scales[h],E=n.valToPos,_=f._space,D=E(10,h),w=E(9,h)-D>=_?Gu:E(7,h)-D>=_?rg:E(5,h)-D>=_?og:hu;if(w==hu){let A=ve(E(1,h)-D);if(A<_)return ia(e.slice().reverse(),v.distr,w,yn(_/A)).reverse()}return ia(e,v.distr,w,1)}function ag(n,e,r,i,a){let f=n.axes[r],h=f.scale,v=f._space,E=n.valToPos,_=ve(E(1,h)-E(2,h));return _<v?ia(e.slice().reverse(),3,Gu,yn(v/_)).reverse():e}function cg(n,e,r,i){return i==null?ca:e==null?"":da(e)}var du={show:!0,scale:"y",stroke:aa,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Ku,side:3,grid:_a,ticks:Uu,border:ju,font:va,lineGap:Yu,rotate:0};function ug(n,e){let r=3+(n||1)*2;return Ht(r*e,3)}function fg(n,e){let{scale:r,idxs:i}=n.series[0],a=n._data[0],f=n.valToPos(a[i[0]],r,!0),h=n.valToPos(a[i[1]],r,!0),v=ve(h-f),E=n.series[e],_=v/(E.points.space*St);return i[1]-i[0]<=_}var pu={scale:null,auto:!0,sorted:0,min:Vt,max:-Vt},zu=(n,e,r,i,a)=>a,mu={show:!0,auto:!0,sorted:0,gaps:zu,alpha:1,facets:[fe({},pu,{scale:"x"}),fe({},pu,{scale:"y"})]},gu={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:zu,alpha:1,points:{show:fg,filter:null},values:null,min:Vt,max:-Vt,idxs:[],path:null,clip:null};function hg(n,e,r,i,a){return r/10}var qu={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},dg=fe({},qu,{time:!1,ori:1}),_u={};function Qu(n,e){let r=_u[n];return r||(r={key:n,plots:[],sub(i){r.plots.push(i)},unsub(i){r.plots=r.plots.filter(a=>a!=i)},pub(i,a,f,h,v,E,_){for(let D=0;D<r.plots.length;D++)r.plots[D]!=a&&r.plots[D].pub(i,a,f,h,v,E,_)}},n!=null&&(_u[n]=r)),r}var ji=1,ra=2;function mi(n,e,r){let i=n.mode,a=n.series[e],f=i==2?n._data[e]:n._data,h=n.scales,v=n.bbox,E=f[0],_=i==2?f[1]:f[e],D=i==2?h[a.facets[0].scale]:h[n.series[0].scale],w=i==2?h[a.facets[1].scale]:h[a.scale],A=v.left,I=v.top,W=v.width,Y=v.height,q=n.valToPosH,et=n.valToPosV;return D.ori==0?r(a,E,_,D,w,q,et,A,I,W,Y,ko,Yi,$o,Xu,tf):r(a,E,_,D,w,et,q,I,A,Y,W,Io,Gi,ya,Zu,ef)}function Ea(n,e){let r=0,i=0,a=Tt(n.bands,pa);for(let f=0;f<a.length;f++){let h=a[f];h.series[0]==e?r=h.dir:h.series[1]==e&&(h.dir==1?i|=1:i|=2)}return[r,i==1?-1:i==2?1:i==3?2:0]}function pg(n,e,r,i,a){let f=n.mode,h=n.series[e],v=f==2?h.facets[1].scale:h.scale,E=n.scales[v];return a==-1?E.min:a==1?E.max:E.distr==3?E.dir==1?E.min:E.max:0}function _s(n,e,r,i,a,f){return mi(n,e,(h,v,E,_,D,w,A,I,W,Y,q)=>{let et=h.pxRound,M=_.dir*(_.ori==0?1:-1),Q=_.ori==0?Yi:Gi,x,Z;M==1?(x=r,Z=i):(x=i,Z=r);let $=et(w(v[x],_,Y,I)),ht=et(A(E[x],D,q,W)),it=et(w(v[Z],_,Y,I)),ft=et(A(f==1?D.max:D.min,D,q,W)),H=new Path2D(a);return Q(H,it,ft),Q(H,$,ft),Q(H,$,ht),H})}function Mo(n,e,r,i,a,f){let h=null;if(n.length>0){h=new Path2D;let v=e==0?$o:ya,E=r;for(let w=0;w<n.length;w++){let A=n[w];if(A[1]>A[0]){let I=A[0]-E;I>0&&v(h,E,i,I,i+f),E=A[1]}}let _=r+a-E,D=10;_>0&&v(h,E,i-D/2,_,i+f+D)}return h}function mg(n,e,r){let i=n[n.length-1];i&&i[0]==e?i[1]=r:n.push([e,r])}function ba(n,e,r,i,a,f,h){let v=[],E=n.length;for(let _=a==1?r:i;_>=r&&_<=i;_+=a)if(e[_]===null){let w=_,A=_;if(a==1)for(;++_<=i&&e[_]===null;)A=_;else for(;--_>=r&&e[_]===null;)A=_;let I=f(n[w]),W=A==w?I:f(n[A]),Y=w-a;I=h<=0&&Y>=0&&Y<E?f(n[Y]):I;let et=A+a;W=h>=0&&et>=0&&et<E?f(n[et]):W,W>=I&&v.push([I,W])}return v}function vu(n){return n==0?Lu:n==1?_e:e=>ui(e,n)}function Ju(n){let e=n==0?ko:Io,r=n==0?(a,f,h,v,E,_)=>{a.arcTo(f,h,v,E,_)}:(a,f,h,v,E,_)=>{a.arcTo(h,f,E,v,_)},i=n==0?(a,f,h,v,E)=>{a.rect(f,h,v,E)}:(a,f,h,v,E)=>{a.rect(h,f,E,v)};return(a,f,h,v,E,_=0,D=0)=>{_==0&&D==0?i(a,f,h,v,E):(_=kn(_,v/2,E/2),D=kn(D,v/2,E/2),e(a,f+_,h),r(a,f+v,h,f+v,h+E,_),r(a,f+v,h+E,f,h+E,D),r(a,f,h+E,f,h,D),r(a,f,h,f+v,h,_),a.closePath())}}var ko=(n,e,r)=>{n.moveTo(e,r)},Io=(n,e,r)=>{n.moveTo(r,e)},Yi=(n,e,r)=>{n.lineTo(e,r)},Gi=(n,e,r)=>{n.lineTo(r,e)},$o=Ju(0),ya=Ju(1),Xu=(n,e,r,i,a,f)=>{n.arc(e,r,i,a,f)},Zu=(n,e,r,i,a,f)=>{n.arc(r,e,i,a,f)},tf=(n,e,r,i,a,f,h)=>{n.bezierCurveTo(e,r,i,a,f,h)},ef=(n,e,r,i,a,f,h)=>{n.bezierCurveTo(r,e,a,i,h,f)};function nf(n){return(e,r,i,a,f)=>mi(e,r,(h,v,E,_,D,w,A,I,W,Y,q)=>{let{pxRound:et,points:M}=h,Q,x;_.ori==0?(Q=ko,x=Xu):(Q=Io,x=Zu);let Z=Ht(M.width*St,3),$=(M.size-M.width)/2*St,ht=Ht($*2,3),it=new Path2D,ft=new Path2D,{left:H,top:X,width:nt,height:z}=e.bbox;$o(ft,H-ht,X-ht,nt+ht*2,z+ht*2);let j=at=>{if(E[at]!=null){let yt=et(w(v[at],_,Y,I)),J=et(A(E[at],D,q,W));Q(it,yt+$,J),x(it,yt,J,$,0,So*2)}};if(f)f.forEach(j);else for(let at=i;at<=a;at++)j(at);return{stroke:Z>0?it:null,fill:it,clip:ft,flags:ji|ra}})}function sf(n){return(e,r,i,a,f,h)=>{i!=a&&(f!=i&&h!=i&&n(e,r,i),f!=a&&h!=a&&n(e,r,a),n(e,r,h))}}var gg=sf(Yi),_g=sf(Gi);function rf(n){let e=Tt(n?.alignGaps,0);return(r,i,a,f)=>mi(r,i,(h,v,E,_,D,w,A,I,W,Y,q)=>{[a,f]=Do(E,a,f);let et=h.pxRound,M=z=>et(w(z,_,Y,I)),Q=z=>et(A(z,D,q,W)),x,Z;_.ori==0?(x=Yi,Z=gg):(x=Gi,Z=_g);let $=_.dir*(_.ori==0?1:-1),ht={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:ji},it=ht.stroke,ft=!1;if(f-a>=Y*4){let z=Ot=>r.posToVal(Ot,_.key,!0),j=null,at=null,yt,J,xe,Ft=M(v[$==1?a:f]),ot=M(v[a]),mt=M(v[f]),B=z($==1?ot+1:mt-1);for(let Ot=$==1?a:f;Ot>=a&&Ot<=f;Ot+=$){let Qt=v[Ot],C=($==1?Qt<B:Qt>B)?Ft:M(Qt),Nt=E[Ot];C==Ft?Nt!=null?(J=Nt,j==null?(x(it,C,Q(J)),yt=j=at=J):J<j?j=J:J>at&&(at=J)):Nt===null&&(ft=!0):(j!=null&&Z(it,Ft,Q(j),Q(at),Q(yt),Q(J)),Nt!=null?(J=Nt,x(it,C,Q(J)),j=at=yt=J):(j=at=null,Nt===null&&(ft=!0)),Ft=C,B=z(Ft+$))}j!=null&&j!=at&&xe!=Ft&&Z(it,Ft,Q(j),Q(at),Q(yt),Q(J))}else for(let z=$==1?a:f;z>=a&&z<=f;z+=$){let j=E[z];j===null?ft=!0:j!=null&&x(it,M(v[z]),Q(j))}let[X,nt]=Ea(r,i);if(h.fill!=null||X!=0){let z=ht.fill=new Path2D(it),j=h.fillTo(r,i,h.min,h.max,X),at=Q(j),yt=M(v[a]),J=M(v[f]);$==-1&&([J,yt]=[yt,J]),x(z,J,at),x(z,yt,at)}if(!h.spanGaps){let z=[];ft&&z.push(...ba(v,E,a,f,$,M,e)),ht.gaps=z=h.gaps(r,i,a,f,z),ht.clip=Mo(z,_.ori,I,W,Y,q)}return nt!=0&&(ht.band=nt==2?[_s(r,i,a,f,it,-1),_s(r,i,a,f,it,1)]:_s(r,i,a,f,it,nt)),ht})}function vg(n){let e=Tt(n.align,1),r=Tt(n.ascDesc,!1),i=Tt(n.alignGaps,0),a=Tt(n.extend,!1);return(f,h,v,E)=>mi(f,h,(_,D,w,A,I,W,Y,q,et,M,Q)=>{[v,E]=Do(w,v,E);let x=_.pxRound,{left:Z,width:$}=f.bbox,ht=ot=>x(W(ot,A,M,q)),it=ot=>x(Y(ot,I,Q,et)),ft=A.ori==0?Yi:Gi,H={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:ji},X=H.stroke,nt=A.dir*(A.ori==0?1:-1),z=it(w[nt==1?v:E]),j=ht(D[nt==1?v:E]),at=j,yt=j;a&&e==-1&&(yt=Z,ft(X,yt,z)),ft(X,j,z);for(let ot=nt==1?v:E;ot>=v&&ot<=E;ot+=nt){let mt=w[ot];if(mt==null)continue;let B=ht(D[ot]),Ot=it(mt);e==1?ft(X,B,z):ft(X,at,Ot),ft(X,B,Ot),z=Ot,at=B}let J=at;a&&e==1&&(J=Z+$,ft(X,J,z));let[xe,Ft]=Ea(f,h);if(_.fill!=null||xe!=0){let ot=H.fill=new Path2D(X),mt=_.fillTo(f,h,_.min,_.max,xe),B=it(mt);ft(ot,J,B),ft(ot,yt,B)}if(!_.spanGaps){let ot=[];ot.push(...ba(D,w,v,E,nt,ht,i));let mt=_.width*St/2,B=r||e==1?mt:-mt,Ot=r||e==-1?-mt:mt;ot.forEach(Qt=>{Qt[0]+=B,Qt[1]+=Ot}),H.gaps=ot=_.gaps(f,h,v,E,ot),H.clip=Mo(ot,A.ori,q,et,M,Q)}return Ft!=0&&(H.band=Ft==2?[_s(f,h,v,E,X,-1),_s(f,h,v,E,X,1)]:_s(f,h,v,E,X,Ft)),H})}function Eu(n,e,r,i,a,f,h=Vt){if(n.length>1){let v=null;for(let E=0,_=1/0;E<n.length;E++)if(e[E]!==void 0){if(v!=null){let D=ve(n[E]-n[v]);D<_&&(_=D,h=ve(r(n[E],i,a,f)-r(n[v],i,a,f)))}v=E}}return h}function Eg(n){n=n||kr;let e=Tt(n.size,[.6,Vt,1]),r=n.align||0,i=n.gap||0,a=n.radius;a=a==null?[0,0]:typeof a=="number"?[a,0]:a;let f=bt(a),h=1-e[0],v=Tt(e[1],Vt),E=Tt(e[2],1),_=Tt(n.disp,kr),D=Tt(n.each,I=>{}),{fill:w,stroke:A}=_;return(I,W,Y,q)=>mi(I,W,(et,M,Q,x,Z,$,ht,it,ft,H,X)=>{let nt=et.pxRound,z=r,j=i*St,at=v*St,yt=E*St,J,xe;x.ori==0?[J,xe]=f(I,W):[xe,J]=f(I,W);let Ft=x.dir*(x.ori==0?1:-1),ot=x.ori==0?$o:ya,mt=x.ori==0?D:(lt,It,Hn,Es,Fn,Xe,Ze)=>{D(lt,It,Hn,Fn,Es,Ze,Xe)},B=Tt(I.bands,pa).find(lt=>lt.series[0]==W),Ot=B!=null?B.dir:0,Qt=et.fillTo(I,W,et.min,et.max,Ot),Yt=nt(ht(Qt,Z,X,ft)),C,Nt,Pe,he=H,Ct=nt(et.width*St),Se=!1,je=null,ae=null,In=null,G=null;w!=null&&(Ct==0||A!=null)&&(Se=!0,je=w.values(I,W,Y,q),ae=new Map,new Set(je).forEach(lt=>{lt!=null&&ae.set(lt,new Path2D)}),Ct>0&&(In=A.values(I,W,Y,q),G=new Map,new Set(In).forEach(lt=>{lt!=null&&G.set(lt,new Path2D)})));let{x0:$n,size:Hs}=_;if($n!=null&&Hs!=null){z=1,M=$n.values(I,W,Y,q),$n.unit==2&&(M=M.map(Hn=>I.posToVal(it+Hn*H,x.key,!0)));let lt=Hs.values(I,W,Y,q);Hs.unit==2?Nt=lt[0]*H:Nt=$(lt[0],x,H,it)-$(0,x,H,it),he=Eu(M,Q,$,x,H,it,he),Pe=he-Nt+j}else he=Eu(M,Q,$,x,H,it,he),Pe=he*h+j,Nt=he-Pe;Pe<1&&(Pe=0),Ct>=Nt/2&&(Ct=0),Pe<5&&(nt=Lu);let Zn=Pe>0,Ke=he-Pe-(Zn?Ct:0);Nt=nt(na(Ke,yt,at)),C=(z==0?Nt/2:z==Ft?0:Nt)-z*Ft*((z==0?j/2:0)+(Zn?Ct/2:0));let Rn={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},Vn=Se?null:new Path2D,wn=null;if(B!=null)wn=I.data[B.series[1]];else{let{y0:lt,y1:It}=_;lt!=null&&It!=null&&(Q=It.values(I,W,Y,q),wn=lt.values(I,W,Y,q))}let ut=J*Nt,st=xe*Nt;for(let lt=Ft==1?Y:q;lt>=Y&&lt<=q;lt+=Ft){let It=Q[lt];if(It==null)continue;if(wn!=null){let ne=wn[lt]??0;if(It-ne==0)continue;Yt=ht(ne,Z,X,ft)}let Hn=x.distr!=2||_!=null?M[lt]:lt,Es=$(Hn,x,H,it),Fn=ht(Tt(It,Qt),Z,X,ft),Xe=nt(Es-C),Ze=nt(Ue(Fn,Yt)),de=nt(kn(Fn,Yt)),Ye=Ze-de;if(It!=null){let ne=It<0?st:ut,ts=It<0?ut:st;Se?(Ct>0&&In[lt]!=null&&ot(G.get(In[lt]),Xe,de+un(Ct/2),Nt,Ue(0,Ye-Ct),ne,ts),je[lt]!=null&&ot(ae.get(je[lt]),Xe,de+un(Ct/2),Nt,Ue(0,Ye-Ct),ne,ts)):ot(Vn,Xe,de+un(Ct/2),Nt,Ue(0,Ye-Ct),ne,ts),mt(I,W,lt,Xe-Ct/2,de,Nt+Ct,Ye)}}return Ct>0?Rn.stroke=Se?G:Vn:Se||(Rn._fill=et.width==0?et._fill:et._stroke??et._fill,Rn.width=0),Rn.fill=Se?ae:Vn,Rn})}function bg(n,e){let r=Tt(e?.alignGaps,0);return(i,a,f,h)=>mi(i,a,(v,E,_,D,w,A,I,W,Y,q,et)=>{[f,h]=Do(_,f,h);let M=v.pxRound,Q=J=>M(A(J,D,q,W)),x=J=>M(I(J,w,et,Y)),Z,$,ht;D.ori==0?(Z=ko,ht=Yi,$=tf):(Z=Io,ht=Gi,$=ef);let it=D.dir*(D.ori==0?1:-1),ft=Q(E[it==1?f:h]),H=ft,X=[],nt=[];for(let J=it==1?f:h;J>=f&&J<=h;J+=it)if(_[J]!=null){let Ft=E[J],ot=Q(Ft);X.push(H=ot),nt.push(x(_[J]))}let z={stroke:n(X,nt,Z,ht,$,M),fill:null,clip:null,band:null,gaps:null,flags:ji},j=z.stroke,[at,yt]=Ea(i,a);if(v.fill!=null||at!=0){let J=z.fill=new Path2D(j),xe=v.fillTo(i,a,v.min,v.max,at),Ft=x(xe);ht(J,H,Ft),ht(J,ft,Ft)}if(!v.spanGaps){let J=[];J.push(...ba(E,_,f,h,it,Q,r)),z.gaps=J=v.gaps(i,a,f,h,J),z.clip=Mo(J,D.ori,W,Y,q,et)}return yt!=0&&(z.band=yt==2?[_s(i,a,f,h,j,-1),_s(i,a,f,h,j,1)]:_s(i,a,f,h,j,yt)),z})}function yg(n){return bg(wg,n)}function wg(n,e,r,i,a,f){let h=n.length;if(h<2)return null;let v=new Path2D;if(r(v,n[0],e[0]),h==2)i(v,n[1],e[1]);else{let E=Array(h),_=Array(h-1),D=Array(h-1),w=Array(h-1);for(let A=0;A<h-1;A++)D[A]=e[A+1]-e[A],w[A]=n[A+1]-n[A],_[A]=D[A]/w[A];E[0]=_[0];for(let A=1;A<h-1;A++)_[A]===0||_[A-1]===0||_[A-1]>0!=_[A]>0?E[A]=0:(E[A]=3*(w[A-1]+w[A])/((2*w[A]+w[A-1])/_[A-1]+(w[A]+2*w[A-1])/_[A]),isFinite(E[A])||(E[A]=0));E[h-1]=_[h-2];for(let A=0;A<h-1;A++)a(v,n[A]+w[A]/3,e[A]+E[A]*w[A]/3,n[A+1]-w[A]/3,e[A+1]-E[A+1]*w[A]/3,n[A+1],e[A+1])}return v}var oa=new Set;function bu(){for(let n of oa)n.syncRect(!0)}Ki&&(di(sm,Fi,bu),di(im,Fi,bu,!0),di(Co,Fi,()=>{Ae.pxRatio=St}));var Tg=rf(),Ag=nf();function yu(n,e,r,i){return(i?[n[0],n[1]].concat(n.slice(2)):[n[0]].concat(n.slice(1))).map((f,h)=>la(f,h,e,r))}function Sg(n,e){return n.map((r,i)=>i==0?{}:fe({},e,r))}function la(n,e,r,i){return fe({},e==0?r:i,n)}function of(n,e,r){return e==null?Bi:[e,r]}var Cg=of;function Lg(n,e,r){return e==null?Bi:Lo(e,r,ha,!0)}function lf(n,e,r,i){return e==null?Bi:No(e,r,n.scales[i].log,!1)}var Og=lf;function af(n,e,r,i){return e==null?Bi:fa(e,r,n.scales[i].log,!1)}var Dg=af;function Ng(n,e,r,i,a){let f=Ue(Zc(n),Zc(e)),h=e-n,v=Mn(a/i*h,r);do{let E=r[v],_=i*E/h;if(_>=a&&f+(E<5?Rs.get(E):0)<=17)return[E,_]}while(++v<r.length);return[0,0]}function wu(n){let e,r;return n=n.replace(/(\d+)px/,(i,a)=>(e=_e((r=+a)*St))+"px"),[n,e,r]}function xg(n){n.show&&[n.font,n.labelFont].forEach(e=>{let r=Ht(e[2]*St,1);e[0]=e[0].replace(/[0-9.]+px/,r+"px"),e[1]=r})}function Ae(n,e,r){let i={mode:Tt(n.mode,1)},a=i.mode;function f(l,c,d,p){let g=c.valToPct(l);return p+d*(c.dir==-1?1-g:g)}function h(l,c,d,p){let g=c.valToPct(l);return p+d*(c.dir==-1?g:1-g)}function v(l,c,d,p){return c.ori==0?f(l,c,d,p):h(l,c,d,p)}i.valToPosH=f,i.valToPosV=h;let E=!1;i.status=0;let _=i.root=bn(Hp);if(n.id!=null&&(_.id=n.id),cn(_,n.class),n.title){let l=bn(Bp,_);l.textContent=n.title}let D=Pn("canvas"),w=i.ctx=D.getContext("2d"),A=bn(Up,_);di("click",A,l=>{l.target===W&&(xt!=cs||$t!=Kn)&&ue.click(i,l)},!0);let I=i.under=bn(jp,A);A.appendChild(D);let W=i.over=bn(Kp,A);n=Ui(n);let Y=+Tt(n.pxAlign,1),q=vu(Y);(n.plugins||[]).forEach(l=>{l.opts&&(n=l.opts(i,n)||n)});let et=n.ms||.001,M=i.series=a==1?yu(n.series||[],fu,gu,!1):Sg(n.series||[null],mu),Q=i.axes=yu(n.axes||[],uu,du,!0),x=i.scales={},Z=i.bands=n.bands||[];Z.forEach(l=>{l.fill=bt(l.fill||null),l.dir=Tt(l.dir,-1)});let $=a==2?M[1].facets[0].scale:M[0].scale,ht={axes:sl,series:Xo},it=(n.drawOrder||["axes","series"]).map(l=>ht[l]);function ft(l){let c=x[l];if(c==null){let d=(n.scales||kr)[l]||kr;if(d.from!=null)ft(d.from),x[l]=fe({},x[d.from],d,{key:l});else{c=x[l]=fe({},l==$?qu:dg,d),c.key=l;let p=c.time,g=c.range,y=$s(g);if((l!=$||a==2&&!p)&&(y&&(g[0]==null||g[1]==null)&&(g={min:g[0]==null?Qc:{mode:1,hard:g[0],soft:g[0]},max:g[1]==null?Qc:{mode:1,hard:g[1],soft:g[1]}},y=!1),!y&&Po(g))){let O=g;g=(P,R,V)=>R==null?Bi:Lo(R,V,O)}c.range=bt(g||(p?Cg:l==$?c.distr==3?Og:c.distr==4?Dg:of:c.distr==3?lf:c.distr==4?af:Lg)),c.auto=bt(y?!1:c.auto),c.clamp=bt(c.clamp||hg),c._min=c._max=null;let L=c.distr==3?O=>gs(O>0?O:c.clamp(i,O,c.min,c.max,c.key)):c.distr==4?O=>zl(O,c.asinh):c.distr==100?O=>c.fwd(O):O=>O;c.valToPct=O=>{let P=L(O),{_min:R,_max:V}=c,F=V-R;return(P-R)/F}}}}ft("x"),ft("y"),a==1&&M.forEach(l=>{ft(l.scale)}),Q.forEach(l=>{ft(l.scale)});for(let l in n.scales)ft(l);let H=x[$],X=H.distr,nt,z;H.ori==0?(cn(_,Fp),nt=f,z=h):(cn(_,Wp),nt=h,z=f);let j={};for(let l in x){let c=x[l];(c.min!=null||c.max!=null)&&(j[l]={min:c.min,max:c.max},c.min=c.max=null)}let at=n.tzDate||(l=>new Date(_e(l/et))),yt=n.fmtDate||ma,J=et==1?Hm(at):Bm(at),xe=lu(at,ou(et==1?Vm:Wm,yt)),Ft=cu(at,au(jm,yt)),ot=[],mt=i.legend=fe({},Gm,n.legend),B=i.cursor=fe({},Zm,{drag:{y:a==2}},n.cursor),Ot=mt.show,Qt=B.show,Yt=mt.markers;mt.idxs=ot,Yt.width=bt(Yt.width),Yt.dash=bt(Yt.dash),Yt.stroke=bt(Yt.stroke),Yt.fill=bt(Yt.fill);let C,Nt,Pe,he=[],Ct=[],Se,je=!1,ae={};if(mt.live){let l=M[1]?M[1].values:null;je=l!=null,Se=je?l(i,1,0):{_:0};for(let c in Se)ae[c]=ca}if(Ot)if(C=Pn("table",Jp,_),Pe=Pn("tbody",null,C),mt.mount(i,C),je){Nt=Pn("thead",null,C,Pe);let l=Pn("tr",null,Nt);Pn("th",null,l);for(var In in Se)Pn("th",$c,l).textContent=In}else cn(C,Zp),mt.live&&cn(C,Xp);let G={show:!0},$n={show:!1};function Hs(l,c){if(c==0&&(je||!mt.live||a==2))return Bi;let d=[],p=Pn("tr",tm,Pe,Pe.childNodes[c]);cn(p,l.class),l.show||cn(p,hi);let g=Pn("th",null,p);if(Yt.show){let O=bn(em,g);if(c>0){let P=Yt.width(i,c);P&&(O.style.border=P+"px "+Yt.dash(i,c)+" "+Yt.stroke(i,c)),O.style.background=Yt.fill(i,c)}}let y=bn($c,g);y.textContent=l.label,c>0&&(Yt.show||(y.style.color=l.width>0?Yt.stroke(i,c):Yt.fill(i,c)),Ke("click",g,O=>{if(B._lock)return;ys(O);let P=M.indexOf(l);if((O.ctrlKey||O.metaKey)!=mt.isolate){let R=M.some((V,F)=>F>0&&F!=P&&V.show);M.forEach((V,F)=>{F>0&&ye(F,R?F==P?G:$n:G,!0,Zt.setSeries)})}else ye(P,{show:!l.show},!0,Zt.setSeries)},!1),ws&&Ke(Wc,g,O=>{B._lock||(ys(O),ye(M.indexOf(l),Ln,!0,Zt.setSeries))},!1));for(var L in Se){let O=Pn("td",nm,p);O.textContent="--",d.push(O)}return[p,d]}let Zn=new Map;function Ke(l,c,d,p=!0){let g=Zn.get(c)||{},y=B.bind[l](i,c,d,p);y&&(di(l,c,g[l]=y),Zn.set(c,g))}function Rn(l,c,d){let p=Zn.get(c)||{};for(let g in p)(l==null||g==l)&&(ea(g,c,p[g]),delete p[g]);l==null&&Zn.delete(c)}let Vn=0,wn=0,ut=0,st=0,lt=0,It=0,Hn=lt,Es=It,Fn=ut,Xe=st,Ze=0,de=0,Ye=0,ne=0;i.bbox={};let ts=!1,gi=!1,bs=!1,es=!1,_i=!1,Ge=!1;function zi(l,c,d){(d||l!=i.width||c!=i.height)&&Rr(l,c),Un(!1),bs=!0,gi=!0,ce()}function Rr(l,c){i.width=Vn=ut=l,i.height=wn=st=c,lt=It=0,vi(),Go();let d=i.bbox;Ze=d.left=ui(lt*St,.5),de=d.top=ui(It*St,.5),Ye=d.width=ui(ut*St,.5),ne=d.height=ui(st*St,.5)}let jo=3;function Ko(){let l=!1,c=0;for(;!l;){c++;let d=el(c),p=nl(c);l=c==jo||d&&p,l||(Rr(i.width,i.height),gi=!0)}}function Yo({width:l,height:c}){zi(l,c)}i.setSize=Yo;function vi(){let l=!1,c=!1,d=!1,p=!1;Q.forEach((g,y)=>{if(g.show&&g._show){let{side:L,_size:O}=g,P=L%2,R=g.label!=null?g.labelSize:0,V=O+R;V>0&&(P?(ut-=V,L==3?(lt+=V,p=!0):d=!0):(st-=V,L==0?(It+=V,l=!0):c=!0))}}),ss[0]=l,ss[1]=d,ss[2]=c,ss[3]=p,ut-=Wn[1]+Wn[3],lt+=Wn[3],st-=Wn[2]+Wn[0],It+=Wn[0]}function Go(){let l=lt+ut,c=It+st,d=lt,p=It;function g(y,L){switch(y){case 1:return l+=L,l-L;case 2:return c+=L,c-L;case 3:return d-=L,d+L;case 0:return p-=L,p+L}}Q.forEach((y,L)=>{if(y.show&&y._show){let O=y.side;y._pos=g(O,y._size),y.label!=null&&(y._lpos=g(O,y.labelSize))}})}if(B.dataIdx==null){let l=B.hover,c=l.skip=new Set(l.skip??[]);c.add(void 0);let d=l.prox=bt(l.prox),p=l.bias??=0;B.dataIdx=(g,y,L,O)=>{if(y==0)return L;let P=L,R=d(g,y,L,O)??Vt,V=R>=0&&R<Vt,F=H.ori==0?ut:st,tt=B.left,Dt=e[0],vt=e[y];if(c.has(vt[L])){P=null;let pt=null,rt=null,U;if(p==0||p==-1)for(U=L;pt==null&&U-- >0;)c.has(vt[U])||(pt=U);if(p==0||p==1)for(U=L;rt==null&&U++<vt.length;)c.has(vt[U])||(rt=U);if(pt!=null||rt!=null)if(V){let At=pt==null?-1/0:nt(Dt[pt],H,F,0),zt=rt==null?1/0:nt(Dt[rt],H,F,0),Ut=tt-At,Rt=zt-tt;Ut<=Rt?Ut<=R&&(P=pt):Rt<=R&&(P=rt)}else P=rt==null?pt:pt==null?rt:L-pt<=rt-L?pt:rt}else V&&ve(tt-nt(Dt[L],H,F,0))>R&&(P=null);return P}}let ys=l=>{B.event=l};B.idxs=ot,B._lock=!1;let Bt=B.points;Bt.show=bt(Bt.show),Bt.size=bt(Bt.size),Bt.stroke=bt(Bt.stroke),Bt.width=bt(Bt.width),Bt.fill=bt(Bt.fill);let Tn=i.focus=fe({},n.focus||{alpha:.3},B.focus),ws=Tn.prox>=0,Ts=ws&&Bt.one,ze=[],hn=[],tn=[];function ns(l,c){let d=Bt.show(i,c);if(d)return cn(d,Qp),cn(d,l.class),Xn(d,-10,-10,ut,st),W.insertBefore(d,ze[c]),d}function Fs(l,c){if(a==1||c>0){let d=a==1&&x[l.scale].time,p=l.value;l.value=d?nu(p)?cu(at,au(p,yt)):p||Ft:p||cg,l.label=l.label||(d?eg:tg)}if(Ts||c>0){l.width=l.width==null?1:l.width,l.paths=l.paths||Tg,l.fillTo=bt(l.fillTo||pg),l.pxAlign=+Tt(l.pxAlign,Y),l.pxRound=vu(l.pxAlign),l.stroke=bt(l.stroke||null),l.fill=bt(l.fill||null),l._stroke=l._fill=l._paths=l._focus=null;let d=ug(Ue(1,l.width),1),p=l.points=fe({},{size:d,width:Ue(1,d*.2),stroke:l.stroke,space:d*2,paths:Ag,_stroke:null,_fill:null},l.points);p.show=bt(p.show),p.filter=bt(p.filter),p.fill=bt(p.fill),p.stroke=bt(p.stroke),p.paths=bt(p.paths),p.pxAlign=l.pxAlign}if(Ot){let d=Hs(l,c);he.splice(c,0,d[0]),Ct.splice(c,0,d[1]),mt.values.push(null)}if(Qt){ot.splice(c,0,null);let d=null;Ts?c==0&&(d=ns(l,c)):c>0&&(d=ns(l,c)),ze.splice(c,0,d),hn.splice(c,0,0),tn.splice(c,0,0)}Xt("addSeries",c)}function zo(l,c){c=c??M.length,l=a==1?la(l,c,fu,gu):la(l,c,{},mu),M.splice(c,0,l),Fs(M[c],c)}i.addSeries=zo;function qi(l){if(M.splice(l,1),Ot){mt.values.splice(l,1),Ct.splice(l,1);let c=he.splice(l,1)[0];Rn(null,c.firstChild),c.remove()}Qt&&(ot.splice(l,1),ze.splice(l,1)[0].remove(),hn.splice(l,1),tn.splice(l,1)),Xt("delSeries",l)}i.delSeries=qi;let ss=[!1,!1,!1,!1];function qo(l,c){if(l._show=l.show,l.show){let d=l.side%2,p=x[l.scale];p==null&&(l.scale=d?M[1].scale:$,p=x[l.scale]);let g=p.time;l.size=bt(l.size),l.space=bt(l.space),l.rotate=bt(l.rotate),$s(l.incrs)&&l.incrs.forEach(L=>{!Rs.has(L)&&Rs.set(L,Nu(L))}),l.incrs=bt(l.incrs||(p.distr==2?Im:g?et==1?Rm:Fm:fi)),l.splits=bt(l.splits||(g&&p.distr==1?J:p.distr==3?sa:p.distr==4?ig:sg)),l.stroke=bt(l.stroke),l.grid.stroke=bt(l.grid.stroke),l.ticks.stroke=bt(l.ticks.stroke),l.border.stroke=bt(l.border.stroke);let y=l.values;l.values=$s(y)&&!$s(y[0])?bt(y):g?$s(y)?lu(at,ou(y,yt)):nu(y)?Um(at,y):y||xe:y||ng,l.filter=bt(l.filter||(p.distr>=3&&p.log==10?lg:p.distr==3&&p.log==2?ag:Ou)),l.font=wu(l.font),l.labelFont=wu(l.labelFont),l._size=l.size(i,null,c,0),l._space=l._rotate=l._incrs=l._found=l._splits=l._values=null,l._size>0&&(ss[c]=!0,l._el=bn(Yp,A))}}function Ws(l,c,d,p){let[g,y,L,O]=d,P=c%2,R=0;return P==0&&(O||y)&&(R=c==0&&!g||c==2&&!L?_e(uu.size/3):0),P==1&&(g||L)&&(R=c==1&&!y||c==3&&!O?_e(du.size/2):0),R}let Vr=i.padding=(n.padding||[Ws,Ws,Ws,Ws]).map(l=>bt(Tt(l,Ws))),Wn=i._padding=Vr.map((l,c)=>l(i,c,ss,0)),pe,se=null,Gt=null,Ei=a==1?M[0].idxs:null,en=null,Bs=!1;function Hr(l,c){if(e=l??[],i.data=i._data=e,a==2){pe=0;for(let d=1;d<M.length;d++)pe+=e[d][0].length}else{e.length==0&&(i.data=i._data=e=[[]]),en=e[0],pe=en.length;let d=e;if(X==2){d=e.slice();let p=d[0]=Array(pe);for(let g=0;g<pe;g++)p[g]=g}i._data=e=d}if(Un(!0),Xt("setData"),X==2&&(bs=!0),c!==!1){let d=H;d.auto(i,Bs)?Qi():Jt($,d.min,d.max),es=es||B.left>=0,Ge=!0,ce()}}i.setData=Hr;function Qi(){Bs=!0;let l,c;a==1&&(pe>0?(se=Ei[0]=0,Gt=Ei[1]=pe-1,l=e[0][se],c=e[0][Gt],X==2?(l=se,c=Gt):l==c&&(X==3?[l,c]=No(l,l,H.log,!1):X==4?[l,c]=fa(l,l,H.log,!1):H.time?c=l+_e(86400/et):[l,c]=Lo(l,c,ha,!0))):(se=Ei[0]=l=null,Gt=Ei[1]=c=null)),Jt($,l,c)}let Us,is,Ji,Xi,Zi,tr,er,nr,sr,An;function rs(l,c,d,p,g,y){l??=Vc,d??=pa,p??="butt",g??=Vc,y??="round",l!=Us&&(w.strokeStyle=Us=l),g!=is&&(w.fillStyle=is=g),c!=Ji&&(w.lineWidth=Ji=c),y!=Zi&&(w.lineJoin=Zi=y),p!=tr&&(w.lineCap=tr=p),d!=Xi&&w.setLineDash(Xi=d)}function Fr(l,c,d,p){c!=is&&(w.fillStyle=is=c),l!=er&&(w.font=er=l),d!=nr&&(w.textAlign=nr=d),p!=sr&&(w.textBaseline=sr=p)}function Wr(l,c,d,p,g=0){if(p.length>0&&l.auto(i,Bs)&&(c==null||c.min==null)){let y=Tt(se,0),L=Tt(Gt,p.length-1),O=d.min==null?am(p,y,L,g,l.distr==3):[d.min,d.max];l.min=kn(l.min,d.min=O[0]),l.max=Ue(l.max,d.max=O[1])}}let As={min:null,max:null};function Qo(){for(let p in x){let g=x[p];j[p]==null&&(g.min==null||j[$]!=null&&g.auto(i,Bs))&&(j[p]=As)}for(let p in x){let g=x[p];j[p]==null&&g.from!=null&&j[g.from]!=null&&(j[p]=As)}j[$]!=null&&Un(!0);let l={};for(let p in j){let g=j[p];if(g!=null){let y=l[p]=Ui(x[p],gm);if(g.min!=null)fe(y,g);else if(p!=$||a==2)if(pe==0&&y.from==null){let L=y.range(i,null,null,p);y.min=L[0],y.max=L[1]}else y.min=Vt,y.max=-Vt}}if(pe>0){M.forEach((p,g)=>{if(a==1){let y=p.scale,L=j[y];if(L==null)return;let O=l[y];if(g==0){let P=O.range(i,O.min,O.max,y);O.min=P[0],O.max=P[1],se=Mn(O.min,e[0]),Gt=Mn(O.max,e[0]),Gt-se>1&&(e[0][se]<O.min&&se++,e[0][Gt]>O.max&&Gt--),p.min=en[se],p.max=en[Gt]}else p.show&&p.auto&&Wr(O,L,p,e[g],p.sorted);p.idxs[0]=se,p.idxs[1]=Gt}else if(g>0&&p.show&&p.auto){let[y,L]=p.facets,O=y.scale,P=L.scale,[R,V]=e[g],F=l[O],tt=l[P];F!=null&&Wr(F,j[O],y,R,y.sorted),tt!=null&&Wr(tt,j[P],L,V,L.sorted),p.min=L.min,p.max=L.max}});for(let p in l){let g=l[p],y=j[p];if(g.from==null&&(y==null||y.min==null)){let L=g.range(i,g.min==Vt?null:g.min,g.max==-Vt?null:g.max,p);g.min=L[0],g.max=L[1]}}}for(let p in l){let g=l[p];if(g.from!=null){let y=l[g.from];if(y.min==null)g.min=g.max=null;else{let L=g.range(i,y.min,y.max,p);g.min=L[0],g.max=L[1]}}}let c={},d=!1;for(let p in l){let g=l[p],y=x[p];if(y.min!=g.min||y.max!=g.max){y.min=g.min,y.max=g.max;let L=y.distr;y._min=L==3?gs(y.min):L==4?zl(y.min,y.asinh):L==100?y.fwd(y.min):y.min,y._max=L==3?gs(y.max):L==4?zl(y.max,y.asinh):L==100?y.fwd(y.max):y.max,c[p]=d=!0}}if(d){M.forEach((p,g)=>{a==2?g>0&&c.y&&(p._paths=null):c[p.scale]&&(p._paths=null)});for(let p in c)bs=!0,Xt("setScale",p);Qt&&B.left>=0&&(es=Ge=!0)}for(let p in j)j[p]=null}function Jo(l){let c=na(se-1,0,pe-1),d=na(Gt+1,0,pe-1);for(;l[c]==null&&c>0;)c--;for(;l[d]==null&&d<pe-1;)d++;return[c,d]}function Xo(){pe>0&&(M.forEach((l,c)=>{if(c>0&&l.show&&(Br(c,!1),Br(c,!0),l._paths==null)){An!=l.alpha&&(w.globalAlpha=An=l.alpha);let d=a==2?[0,e[c][0].length-1]:Jo(e[c]);l._paths=l.paths(i,c,d[0],d[1]),An!=1&&(w.globalAlpha=An=1)}}),M.forEach((l,c)=>{if(c>0&&l.show){An!=l.alpha&&(w.globalAlpha=An=l.alpha),l._paths!=null&&Ur(c,!1);{let d=l._paths!=null?l._paths.gaps:null,p=l.points.show(i,c,se,Gt,d),g=l.points.filter(i,c,p,d);(p||g)&&(l.points._paths=l.points.paths(i,c,se,Gt,g),Ur(c,!0))}An!=1&&(w.globalAlpha=An=1),Xt("drawSeries",c)}}))}function Br(l,c){let d=c?M[l].points:M[l];d._stroke=d.stroke(i,l),d._fill=d.fill(i,l)}function Ur(l,c){let d=c?M[l].points:M[l],{stroke:p,fill:g,clip:y,flags:L,_stroke:O=d._stroke,_fill:P=d._fill,_width:R=d.width}=d._paths;R=Ht(R*St,3);let V=null,F=R%2/2;c&&P==null&&(P=R>0?"#fff":O);let tt=d.pxAlign==1&&F>0;if(tt&&w.translate(F,F),!c){let Dt=Ze-R/2,vt=de-R/2,pt=Ye+R,rt=ne+R;V=new Path2D,V.rect(Dt,vt,pt,rt)}c?Bn(O,R,d.dash,d.cap,P,p,g,L,y):Zo(l,O,R,d.dash,d.cap,P,p,g,L,V,y),tt&&w.translate(-F,-F)}function Zo(l,c,d,p,g,y,L,O,P,R,V){let F=!1;P!=0&&Z.forEach((tt,Dt)=>{if(tt.series[0]==l){let vt=M[tt.series[1]],pt=e[tt.series[1]],rt=(vt._paths||kr).band;$s(rt)&&(rt=tt.dir==1?rt[0]:rt[1]);let U,At=null;vt.show&&rt&&um(pt,se,Gt)?(At=tt.fill(i,Dt)||y,U=vt._paths.clip):rt=null,Bn(c,d,p,g,At,L,O,P,R,V,U,rt),F=!0}}),F||Bn(c,d,p,g,y,L,O,P,R,V)}let bi=ji|ra;function Bn(l,c,d,p,g,y,L,O,P,R,V,F){rs(l,c,d,p,g),(P||R||F)&&(w.save(),P&&w.clip(P),R&&w.clip(R)),F?(O&bi)==bi?(w.clip(F),V&&w.clip(V),yi(g,L),os(l,y,c)):O&ra?(yi(g,L),w.clip(F),os(l,y,c)):O&ji&&(w.save(),w.clip(F),V&&w.clip(V),yi(g,L),w.restore(),os(l,y,c)):(yi(g,L),os(l,y,c)),(P||R||F)&&w.restore()}function os(l,c,d){d>0&&(c instanceof Map?c.forEach((p,g)=>{w.strokeStyle=Us=g,w.stroke(p)}):c!=null&&l&&w.stroke(c))}function yi(l,c){c instanceof Map?c.forEach((d,p)=>{w.fillStyle=is=p,w.fill(d)}):c!=null&&l&&w.fill(c)}function tl(l,c,d,p){let g=Q[l],y;if(p<=0)y=[0,0];else{let L=g._space=g.space(i,l,c,d,p),O=g._incrs=g.incrs(i,l,c,d,p,L);y=Ng(c,d,O,p,L)}return g._found=y}function ir(l,c,d,p,g,y,L,O,P,R){let V=L%2/2;Y==1&&w.translate(V,V),rs(O,L,P,R,O),w.beginPath();let F,tt,Dt,vt,pt=g+(p==0||p==3?-y:y);d==0?(tt=g,vt=pt):(F=g,Dt=pt);for(let rt=0;rt<l.length;rt++)c[rt]!=null&&(d==0?F=Dt=l[rt]:tt=vt=l[rt],w.moveTo(F,tt),w.lineTo(Dt,vt));w.stroke(),Y==1&&w.translate(-V,-V)}function el(l){let c=!0;return Q.forEach((d,p)=>{if(!d.show)return;let g=x[d.scale];if(g.min==null){d._show&&(c=!1,d._show=!1,Un(!1));return}else d._show||(c=!1,d._show=!0,Un(!1));let y=d.side,L=y%2,{min:O,max:P}=g,[R,V]=tl(p,O,P,L==0?ut:st);if(V==0)return;let F=g.distr==2,tt=d._splits=d.splits(i,p,O,P,R,V,F),Dt=g.distr==2?tt.map(U=>en[U]):tt,vt=g.distr==2?en[tt[1]]-en[tt[0]]:R,pt=d._values=d.values(i,d.filter(i,Dt,p,V,vt),p,V,vt);d._rotate=y==2?d.rotate(i,pt,p,V):0;let rt=d._size;d._size=yn(d.size(i,pt,p,l)),rt!=null&&d._size!=rt&&(c=!1)}),c}function nl(l){let c=!0;return Vr.forEach((d,p)=>{let g=d(i,p,ss,l);g!=Wn[p]&&(c=!1),Wn[p]=g}),c}function sl(){for(let l=0;l<Q.length;l++){let c=Q[l];if(!c.show||!c._show)continue;let d=c.side,p=d%2,g,y,L=c.stroke(i,l),O=d==0||d==3?-1:1;if(c.label){let De=c.labelGap*O,He=_e((c._lpos+De)*St);Fr(c.labelFont[0],L,"center",d==2?Or:Rc),w.save(),p==1?(g=y=0,w.translate(He,_e(de+ne/2)),w.rotate((d==3?-So:So)/2)):(g=_e(Ze+Ye/2),y=He),w.fillText(c.label,g,y),w.restore()}let[P,R]=c._found;if(R==0)continue;let V=x[c.scale],F=p==0?Ye:ne,tt=p==0?Ze:de,Dt=_e(c.gap*St),vt=c._splits,pt=V.distr==2?vt.map(De=>en[De]):vt,rt=V.distr==2?en[vt[1]]-en[vt[0]]:P,U=c.ticks,At=c.border,zt=U.show?_e(U.size*St):0,Ut=c._rotate*-So/180,Rt=q(c._pos*St),te=(zt+Dt)*O,Le=Rt+te;y=p==0?Le:0,g=p==1?Le:0;let Me=c.font[0],ke=c.align==1?Vi:c.align==2?Yl:Ut>0?Vi:Ut<0?Yl:p==0?"center":d==3?Yl:Vi,rn=Ut||p==1?"middle":d==2?Or:Rc;Fr(Me,L,ke,rn);let on=c.font[1]*c.lineGap,we=vt.map(De=>q(v(De,V,F,tt))),gn=c._values;for(let De=0;De<gn.length;De++){let He=gn[De];if(He!=null){p==0?g=we[De]:y=we[De],He=""+He;let Ds=He.indexOf(`
`)==-1?[He]:He.split(/\n/gm);for(let qn=0;qn<Ds.length;qn++){let Je=Ds[qn];Ut?(w.save(),w.translate(g,y+qn*on),w.rotate(Ut),w.fillText(Je,0,0),w.restore()):w.fillText(Je,g,y+qn*on)}}}U.show&&ir(we,U.filter(i,pt,l,R,rt),p,d,Rt,zt,Ht(U.width*St,3),U.stroke(i,l),U.dash,U.cap);let Oe=c.grid;Oe.show&&ir(we,Oe.filter(i,pt,l,R,rt),p,p==0?2:1,p==0?de:Ze,p==0?ne:Ye,Ht(Oe.width*St,3),Oe.stroke(i,l),Oe.dash,Oe.cap),At.show&&ir([Rt],[1],p==0?1:0,p==0?1:2,p==1?de:Ze,p==1?ne:Ye,Ht(At.width*St,3),At.stroke(i,l),At.dash,At.cap)}Xt("drawAxes")}function Un(l){M.forEach((c,d)=>{d>0&&(c._paths=null,l&&(a==1?(c.min=null,c.max=null):c.facets.forEach(p=>{p.min=null,p.max=null})))})}let wi=!1,rr=!1,dn=[];function Ce(){rr=!1;for(let l=0;l<dn.length;l++)Xt(...dn[l]);dn.length=0}function ce(){wi||(Tm(be),wi=!0)}function $e(l,c=!1){wi=!0,rr=c,l(i),be(),c&&dn.length>0&&queueMicrotask(Ce)}i.batch=$e;function be(){if(ts&&(Qo(),ts=!1),bs&&(Ko(),bs=!1),gi){if(Kt(I,Vi,lt),Kt(I,Or,It),Kt(I,Nr,ut),Kt(I,xr,st),Kt(W,Vi,lt),Kt(W,Or,It),Kt(W,Nr,ut),Kt(W,xr,st),Kt(A,Nr,Vn),Kt(A,xr,wn),D.width=_e(Vn*St),D.height=_e(wn*St),Q.forEach(({_el:l,_show:c,_size:d,_pos:p,side:g})=>{if(l!=null)if(c){let y=g===3||g===0?d:0,L=g%2==1;Kt(l,L?"left":"top",p-y),Kt(l,L?"width":"height",d),Kt(l,L?"top":"left",L?It:lt),Kt(l,L?"height":"width",L?st:ut),ta(l,hi)}else cn(l,hi)}),Us=is=Ji=Zi=tr=er=nr=sr=Xi=null,An=1,On(!0),lt!=Hn||It!=Es||ut!=Fn||st!=Xe){Un(!1);let l=ut/Fn,c=st/Xe;if(Qt&&!es&&B.left>=0){B.left*=l,B.top*=c,nn&&Xn(nn,_e(B.left),0,ut,st),ls&&Xn(ls,0,_e(B.top),ut,st);for(let d=0;d<ze.length;d++){let p=ze[d];p!=null&&(hn[d]*=l,tn[d]*=c,Xn(p,yn(hn[d]),yn(tn[d]),ut,st))}}if(Pt.show&&!_i&&Pt.left>=0&&Pt.width>0){Pt.left*=l,Pt.width*=l,Pt.top*=c,Pt.height*=c;for(let d in ar)Kt(us,d,Pt[d])}Hn=lt,Es=It,Fn=ut,Xe=st}Xt("setSize"),gi=!1}Vn>0&&wn>0&&(w.clearRect(0,0,D.width,D.height),Xt("drawClear"),it.forEach(l=>l()),Xt("draw")),Pt.show&&_i&&(js(Pt),_i=!1),Qt&&es&&(Yn(null,!0,!1),es=!1),mt.show&&mt.live&&Ge&&(mn(),Ge=!1),E||(E=!0,i.status=1,Xt("ready")),Bs=!1,wi=!1}i.redraw=(l,c)=>{bs=c||!1,l!==!1?Jt($,H.min,H.max):ce()};function Ss(l,c){let d=x[l];if(d.from==null){if(pe==0){let p=d.range(i,c.min,c.max,l);c.min=p[0],c.max=p[1]}if(c.min>c.max){let p=c.min;c.min=c.max,c.max=p}if(pe>1&&c.min!=null&&c.max!=null&&c.max-c.min<1e-16)return;l==$&&d.distr==2&&pe>0&&(c.min=Mn(c.min,e[0]),c.max=Mn(c.max,e[0]),c.min==c.max&&c.max++),j[l]=c,ts=!0,ce()}}i.setScale=Ss;let jn,Sn,nn,ls,Ti,as,cs,Kn,Ai,or,xt,$t,Cn=!1,ue=B.drag,ie=ue.x,re=ue.y;Qt&&(B.x&&(jn=bn(zp,W)),B.y&&(Sn=bn(qp,W)),H.ori==0?(nn=jn,ls=Sn):(nn=Sn,ls=jn),xt=B.left,$t=B.top);let Pt=i.select=fe({show:!0,over:!0,left:0,width:0,top:0,height:0},n.select),us=Pt.show?bn(Gp,Pt.over?W:I):null;function js(l,c){if(Pt.show){for(let d in l)Pt[d]=l[d],d in ar&&Kt(us,d,l[d]);c!==!1&&Xt("setSelect")}}i.setSelect=js;function pn(l){if(M[l].show)Ot&&ta(he[l],hi);else if(Ot&&cn(he[l],hi),Qt){let d=Ts?ze[0]:ze[l];Xn(d,-10,-10,ut,st)}}function Jt(l,c,d){Ss(l,{min:c,max:d})}function ye(l,c,d,p){c.focus!=null&&Cs(l),c.show!=null&&M.forEach((g,y)=>{y>0&&(l==y||l==null)&&(g.show=c.show,pn(y),a==2?(Jt(g.facets[0].scale,null,null),Jt(g.facets[1].scale,null,null)):Jt(g.scale,null,null),ce())}),d!==!1&&Xt("setSeries",l,c),p&&zn("setSeries",i,l,c)}i.setSeries=ye;function qe(l,c){fe(Z[l],c)}function lr(l,c){l.fill=bt(l.fill||null),l.dir=Tt(l.dir,-1),c=c??Z.length,Z.splice(c,0,l)}function il(l){l==null?Z.length=0:Z.splice(l,1)}i.addBand=lr,i.setBand=qe,i.delBand=il;function rl(l,c){M[l].alpha=c,Qt&&ze[l]&&(ze[l].style.opacity=c),Ot&&he[l]&&(he[l].style.opacity=c)}let sn,me,Re,Ln={focus:!0};function Cs(l){if(l!=Re){let c=l==null,d=Tn.alpha!=1;M.forEach((p,g)=>{if(a==1||g>0){let y=c||g==0||g==l;p._focus=c?null:y,d&&rl(g,y?1:Tn.alpha)}}),Re=l,d&&ce()}}Ot&&ws&&Ke(Bc,C,l=>{B._lock||(ys(l),Re!=null&&ye(null,Ln,!0,Zt.setSeries))});function Qe(l,c,d){let p=x[c];d&&(l=l/St-(p.ori==1?It:lt));let g=ut;p.ori==1&&(g=st,l=g-l),p.dir==-1&&(l=g-l);let y=p._min,L=p._max,O=l/g,P=y+(L-y)*O,R=p.distr;return R==3?Wi(10,P):R==4?hm(P,p.asinh):R==100?p.bwd(P):P}function jr(l,c){let d=Qe(l,$,c);return Mn(d,e[0],se,Gt)}i.valToIdx=l=>Mn(l,e[0]),i.posToIdx=jr,i.posToVal=Qe,i.valToPos=(l,c,d)=>x[c].ori==0?f(l,x[c],d?Ye:ut,d?Ze:0):h(l,x[c],d?ne:st,d?de:0),i.setCursor=(l,c,d)=>{xt=l.left,$t=l.top,Yn(null,c,d)};function fs(l,c){Kt(us,Vi,Pt.left=l),Kt(us,Nr,Pt.width=c)}function Si(l,c){Kt(us,Or,Pt.top=l),Kt(us,xr,Pt.height=c)}let Ls=H.ori==0?fs:Si,Ve=H.ori==1?fs:Si;function ol(){if(Ot&&mt.live)for(let l=a==2?1:0;l<M.length;l++){if(l==0&&je)continue;let c=mt.values[l],d=0;for(let p in c)Ct[l][d++].firstChild.nodeValue=c[p]}}function mn(l,c){if(l!=null&&(l.idxs?l.idxs.forEach((d,p)=>{ot[p]=d}):mm(l.idx)||ot.fill(l.idx),mt.idx=ot[0]),Ot&&mt.live){for(let d=0;d<M.length;d++)(d>0||a==1&&!je)&&Ci(d,ot[d]);ol()}Ge=!1,c!==!1&&Xt("setLegend")}i.setLegend=mn;function Ci(l,c){let d=M[l],p=l==0&&X==2?en:e[l],g;je?g=d.values(i,l,c)??ae:(g=d.value(i,c==null?null:p[c],l,c),g=g==null?ae:{_:g}),mt.values[l]=g}function Yn(l,c,d){Ai=xt,or=$t,[xt,$t]=B.move(i,xt,$t),B.left=xt,B.top=$t,Qt&&(nn&&Xn(nn,_e(xt),0,ut,st),ls&&Xn(ls,0,_e($t),ut,st));let p,g=se>Gt;sn=Vt,me=null;let y=H.ori==0?ut:st,L=H.ori==1?ut:st;if(xt<0||pe==0||g){p=B.idx=null;for(let O=0;O<M.length;O++){let P=ze[O];P!=null&&Xn(P,-10,-10,ut,st)}ws&&ye(null,Ln,!0,l==null&&Zt.setSeries),mt.live&&(ot.fill(p),Ge=!0)}else{let O,P,R;a==1&&(O=H.ori==0?xt:$t,P=Qe(O,$),p=B.idx=Mn(P,e[0],se,Gt),R=nt(e[0][p],H,y,0));let V=-10,F=-10,tt=0,Dt=0,vt=!0,pt="",rt="";for(let U=a==2?1:0;U<M.length;U++){let At=M[U],zt=ot[U],Ut=zt==null?null:a==1?e[U][zt]:e[U][1][zt],Rt=B.dataIdx(i,U,p,P),te=Rt==null?null:a==1?e[U][Rt]:e[U][1][Rt];Ge=Ge||te!=Ut||Rt!=zt,ot[U]=Rt;let Le=Rt==p?R:nt(a==1?e[0][Rt]:e[U][0][Rt],H,y,0);if(U>0&&At.show){let Me=te==null?-10:z(te,a==1?x[At.scale]:x[At.facets[1].scale],L,0);if(ws&&te!=null){let ke=H.ori==1?xt:$t,rn=ve(Tn.dist(i,U,Rt,Me,ke));if(rn<sn){let on=Tn.bias;if(on!=0){let we=Qe(ke,At.scale),gn=te>=0?1:-1,Oe=we>=0?1:-1;Oe==gn&&(Oe==1?on==1?te>=we:te<=we:on==1?te<=we:te>=we)&&(sn=rn,me=U)}else sn=rn,me=U}}if(Ge||Ts){let ke,rn;H.ori==0?(ke=Le,rn=Me):(ke=Me,rn=Le);let on,we,gn,Oe,De,He,Ds=!0,qn=Bt.bbox;if(qn!=null){Ds=!1;let Je=qn(i,U);gn=Je.left,Oe=Je.top,on=Je.width,we=Je.height}else gn=ke,Oe=rn,on=we=Bt.size(i,U);if(He=Bt.fill(i,U),De=Bt.stroke(i,U),Ts)U==me&&sn<=Tn.prox&&(V=gn,F=Oe,tt=on,Dt=we,vt=Ds,pt=He,rt=De);else{let Je=ze[U];Je!=null&&(hn[U]=gn,tn[U]=Oe,qc(Je,on,we,Ds),Gc(Je,He,De),Xn(Je,yn(gn),yn(Oe),ut,st))}}}}if(Ts){let U=Tn.prox,At=Re==null?sn<=U:sn>U||me!=Re;if(Ge||At){let zt=ze[0];hn[0]=V,tn[0]=F,qc(zt,tt,Dt,vt),Gc(zt,pt,rt),Xn(zt,yn(V),yn(F),ut,st)}}}if(Pt.show&&Cn)if(l!=null){let[O,P]=Zt.scales,[R,V]=Zt.match,[F,tt]=l.cursor.sync.scales,Dt=l.cursor.drag;if(ie=Dt._x,re=Dt._y,ie||re){let{left:vt,top:pt,width:rt,height:U}=l.select,At=l.scales[F].ori,zt=l.posToVal,Ut,Rt,te,Le,Me,ke=O!=null&&R(O,F),rn=P!=null&&V(P,tt);ke&&ie?(At==0?(Ut=vt,Rt=rt):(Ut=pt,Rt=U),te=x[O],Le=nt(zt(Ut,F),te,y,0),Me=nt(zt(Ut+Rt,F),te,y,0),Ls(kn(Le,Me),ve(Me-Le))):Ls(0,y),rn&&re?(At==1?(Ut=vt,Rt=rt):(Ut=pt,Rt=U),te=x[P],Le=z(zt(Ut,tt),te,L,0),Me=z(zt(Ut+Rt,tt),te,L,0),Ve(kn(Le,Me),ve(Me-Le))):Ve(0,L)}else Oi()}else{let O=ve(Ai-Ti),P=ve(or-as);if(H.ori==1){let tt=O;O=P,P=tt}ie=ue.x&&O>=ue.dist,re=ue.y&&P>=ue.dist;let R=ue.uni;R!=null?ie&&re&&(ie=O>=R,re=P>=R,!ie&&!re&&(P>O?re=!0:ie=!0)):ue.x&&ue.y&&(ie||re)&&(ie=re=!0);let V,F;ie&&(H.ori==0?(V=cs,F=xt):(V=Kn,F=$t),Ls(kn(V,F),ve(F-V)),re||Ve(0,L)),re&&(H.ori==1?(V=cs,F=xt):(V=Kn,F=$t),Ve(kn(V,F),ve(F-V)),ie||Ls(0,y)),!ie&&!re&&(Ls(0,0),Ve(0,0))}if(ue._x=ie,ue._y=re,l==null){if(d){if(Ni!=null){let[O,P]=Zt.scales;Zt.values[0]=O!=null?Qe(H.ori==0?xt:$t,O):null,Zt.values[1]=P!=null?Qe(H.ori==1?xt:$t,P):null}zn(Hc,i,xt,$t,ut,st,p)}if(ws){let O=d&&Zt.setSeries,P=Tn.prox;Re==null?sn<=P&&ye(me,Ln,!0,O):sn>P?ye(null,Ln,!0,O):me!=Re&&ye(me,Ln,!0,O)}}Ge&&(mt.idx=p,mn()),c!==!1&&Xt("setCursor")}let Gn=null;Object.defineProperty(i,"rect",{get(){return Gn==null&&On(!1),Gn}});function On(l=!1){l?Gn=null:(Gn=W.getBoundingClientRect(),Xt("syncRect",Gn))}function Li(l,c,d,p,g,y,L){B._lock||Cn&&l!=null&&l.movementX==0&&l.movementY==0||(hs(l,c,d,p,g,y,L,!1,l!=null),l!=null?Yn(null,!0,!0):Yn(c,!0,!1))}function hs(l,c,d,p,g,y,L,O,P){if(Gn==null&&On(!1),ys(l),l!=null)d=l.clientX-Gn.left,p=l.clientY-Gn.top;else{if(d<0||p<0){xt=-10,$t=-10;return}let[R,V]=Zt.scales,F=c.cursor.sync,[tt,Dt]=F.values,[vt,pt]=F.scales,[rt,U]=Zt.match,At=c.axes[0].side%2==1,zt=H.ori==0?ut:st,Ut=H.ori==1?ut:st,Rt=At?y:g,te=At?g:y,Le=At?p:d,Me=At?d:p;if(vt!=null?d=rt(R,vt)?v(tt,x[R],zt,0):-10:d=zt*(Le/Rt),pt!=null?p=U(V,pt)?v(Dt,x[V],Ut,0):-10:p=Ut*(Me/te),H.ori==1){let ke=d;d=p,p=ke}}P&&((d<=1||d>=ut-1)&&(d=ui(d,ut)),(p<=1||p>=st-1)&&(p=ui(p,st))),O?(Ti=d,as=p,[cs,Kn]=B.move(i,d,p)):(xt=d,$t=p)}let ar={width:0,height:0,left:0,top:0};function Oi(){js(ar,!1)}let cr,ur,Kr,Yr;function Gr(l,c,d,p,g,y,L){Cn=!0,ie=re=ue._x=ue._y=!1,hs(l,c,d,p,g,y,L,!0,!1),l!=null&&(Ke(Gl,Xl,fr,!1),zn(Fc,i,cs,Kn,ut,st,null));let{left:O,top:P,width:R,height:V}=Pt;cr=O,ur=P,Kr=R,Yr=V}function fr(l,c,d,p,g,y,L){Cn=ue._x=ue._y=!1,hs(l,c,d,p,g,y,L,!1,!0);let{left:O,top:P,width:R,height:V}=Pt,F=R>0||V>0,tt=cr!=O||ur!=P||Kr!=R||Yr!=V;if(F&&tt&&js(Pt),ue.setScale&&F&&tt){let Dt=O,vt=R,pt=P,rt=V;if(H.ori==1&&(Dt=P,vt=V,pt=O,rt=R),ie&&Jt($,Qe(Dt,$),Qe(Dt+vt,$)),re)for(let U in x){let At=x[U];U!=$&&At.from==null&&At.min!=Vt&&Jt(U,Qe(pt+rt,U),Qe(pt,U))}Oi()}else B.lock&&(B._lock=!B._lock,Yn(null,!0,!1));l!=null&&(Rn(Gl,Xl),zn(Gl,i,xt,$t,ut,st,null))}function Os(l,c,d,p,g,y,L){if(B._lock)return;ys(l);let O=Cn;if(Cn){let P=!0,R=!0,V=10,F,tt;H.ori==0?(F=ie,tt=re):(F=re,tt=ie),F&&tt&&(P=xt<=V||xt>=ut-V,R=$t<=V||$t>=st-V),F&&P&&(xt=xt<cs?0:ut),tt&&R&&($t=$t<Kn?0:st),Yn(null,!0,!0),Cn=!1}xt=-10,$t=-10,Yn(null,!0,!0),O&&(Cn=O)}function zr(l,c,d,p,g,y,L){B._lock||(ys(l),Qi(),Oi(),l!=null&&zn(Uc,i,xt,$t,ut,st,null))}function qr(){Q.forEach(xg),zi(i.width,i.height,!0)}di(Co,Fi,qr);let ds={};ds.mousedown=Gr,ds.mousemove=Li,ds.mouseup=fr,ds.dblclick=zr,ds.setSeries=(l,c,d,p)=>{let g=Zt.match[2];d=g(i,c,d),d!=-1&&ye(d,p,!0,!1)},Qt&&(Ke(Fc,W,Gr),Ke(Hc,W,Li),Ke(Wc,W,l=>{ys(l),On(!1)}),Ke(Bc,W,Os),Ke(Uc,W,zr),oa.add(i),i.syncRect=On);let Di=i.hooks=n.hooks||{};function Xt(l,c,d){rr?dn.push([l,c,d]):l in Di&&Di[l].forEach(p=>{p.call(null,i,c,d)})}(n.plugins||[]).forEach(l=>{for(let c in l.hooks)Di[c]=(Di[c]||[]).concat(l.hooks[c])});let Ks=(l,c,d)=>d,Zt=fe({key:null,setSeries:!1,filters:{pub:tu,sub:tu},scales:[$,M[1]?M[1].scale:null],match:[eu,eu,Ks],values:[null,null]},B.sync);Zt.match.length==2&&Zt.match.push(Ks),B.sync=Zt;let Ni=Zt.key,hr=Qu(Ni);function zn(l,c,d,p,g,y,L){Zt.filters.pub(l,c,d,p,g,y,L)&&hr.pub(l,c,d,p,g,y,L)}hr.sub(i);function ll(l,c,d,p,g,y,L){Zt.filters.sub(l,c,d,p,g,y,L)&&ds[l](null,c,d,p,g,y,L)}i.pub=ll;function Qr(){hr.unsub(i),oa.delete(i),Zn.clear(),ea(Co,Fi,qr),_.remove(),C?.remove(),Xt("destroy")}i.destroy=Qr;function Ys(){Xt("init",n,e),Hr(e||n.data,!1),j[$]?Ss($,j[$]):Qi(),_i=Pt.show&&(Pt.width>0||Pt.height>0),es=Ge=!0,zi(n.width,n.height)}return M.forEach(Fs),Q.forEach(qo),r?r instanceof HTMLElement?(r.appendChild(_),Ys()):r(i,Ys):Ys(),i}Ae.assign=fe;Ae.fmtNum=da;Ae.rangeNum=Lo;Ae.rangeLog=No;Ae.rangeAsinh=fa;Ae.orient=mi;Ae.pxRatio=St;Ae.join=wm;Ae.fmtDate=ma,Ae.tzDate=Mm;Ae.sync=Qu;{Ae.addGap=mg,Ae.clipGaps=Mo;let n=Ae.paths={points:nf};n.linear=rf,n.stepped=vg,n.bars=Eg,n.spline=yg}var{button:Pg,div:cf,pre:dv,select:uf,option:vs}=qt.tags,Ro=class n{freq;data;uplot_index;constructor(e,r){this.freq=e,this.data=new Array,r&&this.data.push(r)}addData(e){this.data.push(e)}static fromJSON(e){if(e.freq){var r=new n(e.freq);if(e.data)for(let i=0;i<e.data.length;i++)r.addData(e.data[i]);return r}return null}expire(e){for(;this.data.length>0&&this.data[0].t<e;)this.data.shift()}expireOlderThen(e){let r=Date.now()-e*1e3;this.expire(r)}};function hf(n){let e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width","16"),e.setAttribute("height","16"),e.setAttribute("viewBox","0 0 16 16"),e.classList.add("bi"),e.classList.add("bi-pause");let r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",n),e.appendChild(r),e}function ff(){return hf("M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5m4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5")}function Mg(){return hf("M10.804 8 5 4.633v6.734zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696z")}var Vs=class extends vn{root;uplot;dataq;max_seconds;show_raw_rssi;max_storage_seconds;date_offset;cfg;update_uplot;players;getSeriesColor(e){switch(e%8){case 0:return"#03fce3";case 1:return"#fcba03";case 2:return"#fc037b";case 3:return"#fc3103";case 4:return"#00ff00";case 5:return"#0000ff";case 6:return"#ff00ff";case 7:return"#124511";default:return"red"}}updateGraph(e){if(this.uplot)return this.uplot.setData(e),this.uplot.setSize({width:this.getDom().offsetWidth,height:600}),this.uplot}getGraph(){if(this.uplot)return this.uplot;let e={title:"",width:1048,height:600,scales:{x:{time:!0},y:{auto:!1,range:[0,1300]}},series:[{label:"time:"},{stroke:"#70dba4",label:"peak"},{stroke:"#dbc270",label:"enter"},{stroke:"#3af51d",label:"leave"}],axes:[{label:"X Axis Label",labelSize:20},{space:50,side:1,label:"RSSI",labelGap:8,labelSize:28,stroke:"grey"}]};return this.uplot=new Ae(e,[[0,1,3],[1,1,1],[1,1,1],[1,1,1]],this.getDom()),this.uplot}getDom(){return this.root||(this.root=cf(cf({class:"input-group flex-nowrap"},Pg({class:"btn btn-secondary",id:"btn_signal_pause",type:"button",onclick:()=>{this.update_uplot=!this.update_uplot,this.update_uplot?(this.onNextValues(),We("btn_signal_pause").replaceChildren(ff())):We("btn_signal_pause").replaceChildren(Mg())}},ff()),uf({class:"form-select",id:"select_signal_duration",onchange:()=>{var e=We("select_signal_duration");this.max_seconds=Number(e.value),this.onNextValues()}},vs({value:30},"30s"),vs({value:60,selected:!0},"60s"),vs({value:60*2},"2min"),vs({value:60*3},"3min"),vs({value:60*5},"5min"),vs({value:60*10},"10min"),vs({value:60*30},"30min")),uf({class:"form-select",id:"select_signal_raw",onchange:()=>{var e=We("select_signal_raw");this.show_raw_rssi=!!Number(e.value),this.onNextValues()}},vs({value:0,selected:!0},"filtered RSSI"),vs({value:1},"raw RSSI"))))),this.root}needSeriesUpdate(){return this.uplot?this.uplot.series.length!=this.dataq.length+1+3:!1}updateSeries(){if(this.uplot){for(let e=4;e<this.uplot.series.length;e++)this.uplot.delSeries(e);this.dataq.forEach((e,r)=>{e.uplot_index=r+4,this.uplot.addSeries({label:`freq:${e.freq}`,stroke:this.getSeriesColor(r)},e.uplot_index)})}}data2uplot(e,r){var i=0,a=0,f=0;this.cfg&&(i=this.cfg.rssi[0].peak,a=this.cfg.rssi[0].offset_enter/100*i,f=this.cfg.rssi[0].offset_leave/100*i);var h=Array.from([[[e,r],[i,i]],[[e,r],[a,a]],[[e,r],[f,f]]]),v=0,E=Number.MAX_VALUE;this.dataq.forEach(_=>{let D=new Array,w=new Array;_.data.forEach(A=>{let I=A.t/1e3;I>=e&&I<=r&&(v=v<I?I:v,E=E>I?I:E,D.push(I),w.push(this.show_raw_rssi?A.r:A.s))}),h.push(Array.from([D,w]))});for(let _=0;_<3;_++)h[_][0][0]=E,h[_][0][1]=v;return h}onNextValues(){if(!this.uplot)return;this.needSeriesUpdate()&&this.updateSeries();let e=Date.now()/1e3,r=this.data2uplot(e-this.max_seconds,e);this.updateGraph(Ae.join(r))}onRssiUpdate(e){for(let i of e.data){this.date_offset||(this.date_offset=Date.now()-i.t);var r=this.dataq.find(a=>a.freq==e.freq);r?r.addData(i):(r=new Ro(e.freq,i),this.dataq.push(r)),r.expire(this.max_storage_seconds)}this.saveStorage(),this.update_uplot&&this.onNextValues()}saveStorage(){try{localStorage.setItem("SignalStorage",JSON.stringify(this.dataq))}catch{if(this.max_storage_seconds>30){console.info(`Storage to small, change history to max ${this.max_storage_seconds}s`),this.max_storage_seconds-=5;for(let r of this.dataq)r.expireOlderThen(this.max_storage_seconds)}}}loadStorage(){this.dataq=new Array;try{var e=localStorage.getItem("SignalStorage");if(e){let r=JSON.parse(e);for(let i=0;i<r.length;i++){let a=Ro.fromJSON(r[i]);a&&this.dataq.push(a)}}}catch{this.dataq=new Array}}onPlayersUpdate(e){this.players=e}constructor(){super("RSSI"),this.max_storage_seconds=60*60,this.max_seconds=100,this.update_uplot=!0,this.show_raw_rssi=!1,this.getDom(),this.getGraph(),this.loadStorage(),document.addEventListener("SFT_RSSI",e=>{e.detail&&this.onRssiUpdate(e.detail)}),document.addEventListener("SFT_CONFIG_UPDATE",e=>{e.detail&&(this.cfg=e.detail)}),document.addEventListener("SFT_PLAYERS_UPDATE",e=>{e.detail&&this.onPlayersUpdate(e.detail)})}};var Vo=class extends ks{constructor(e){super(e),this.pages.push(new yo),this.pages.push(new bo),this.pages.push(new Is),this.pages.push(new Vs)}};var{h3:Lv,label:Ov,form:kg,select:Dv,input:Nv,img:xv,fieldset:Pv,option:Mv,button:Ig,div:wa,h5:kv,pre:Iv,ul:$v,li:Rv,span:Vv,a:Hv,table:Fv,thead:Wv,tbody:Bv,th:Uv,tr:jv,td:Kv}=qt.tags,Ho=class extends Is{drawConfig(e){var r=new Array;return r.push(new li(e)),r.push(new ai(e,"RSSI Config",1,8)),r.push(new Lr(e)),r.push(new ci(e)),wa(kg(r.map(i=>i.draw()),wa({class:"mb-3",style:"margin: 5px 3px"},Ig({class:"btn btn-primary",type:"button",id:"config_submit_btn_id",onclick:()=>{var i=We("config_submit_btn_id");i.disabled=!0,i.classList.add("disabled");var a=new Be;r.forEach(h=>{h.getKeyValues(a)});var f=new Be;f.setValues(a),f.save(h=>{h&&this.onConfigUpdate(h),i.classList.remove("disabled"),i.disabled=!1})}},"Submit"))))}getDom(){this.root||(this.root=wa());var e=new Be;return e.update(r=>{this.onConfigUpdate(r)}),this.root}onConfigUpdate(e){this.root&&this.root.replaceChildren(this.drawConfig(e))}constructor(){super()}};var Fo=class extends ks{constructor(e){super(e),this.pages.push(new Ho),this.pages.push(new Vs)}};var{h3:iE,label:rE,form:$g,select:oE,input:lE,img:aE,fieldset:cE,option:uE,button:Rg,div:Ta,h5:fE,pre:hE,ul:dE,li:pE,span:mE,a:gE,table:_E,thead:vE,tbody:EE,th:bE,tr:yE,td:wE}=qt.tags,Wo=class extends Is{drawConfig(e){var r=new Array;return r.push(new li(e)),r.push(new ai(e,"RSSI Config",1,8)),r.push(new ci(e)),Ta($g(r.map(i=>i.draw()),Ta({class:"mb-3",style:"margin: 5px 3px"},Rg({class:"btn btn-primary",type:"button",id:"config_submit_btn_id",onclick:()=>{var i=We("config_submit_btn_id");i.disabled=!0,i.classList.add("disabled");var a=new Be;r.forEach(h=>{h.getKeyValues(a)});var f=new Be;f.setValues(a),f.save(h=>{h&&this.onConfigUpdate(h),i.classList.remove("disabled"),i.disabled=!1})}},"Submit"))))}getDom(){this.root||(this.root=Ta());var e=new Be;return e.update(r=>{this.onConfigUpdate(r)}),this.root}onConfigUpdate(e){this.root&&this.root.replaceChildren(this.drawConfig(e))}constructor(){super()}};var Bo=class extends ks{constructor(e){super(e),this.pages.push(new Wo),this.pages.push(new Vs)}};var{button:VE,div:df,pre:HE}=qt.tags;var $r=class extends vn{root;getDom(){return this.root||(this.root=df()),this.root}onRssiUpdate(e){this.root.append(df(JSON.stringify(e)))}constructor(){super("DEBUG"),this.getDom(),document.addEventListener("SFT_RSSI",e=>{this.onRssiUpdate(e.detail)})}},pf=new Vo("Race");pf.addPage(new $r);var mf=new Fo("CTF");mf.addPage(new $r);var gf=new Bo("CTF");gf.addPage(new $r);var Uo=new mo;Uo.addMode(0,pf);Uo.addMode(1,mf);Uo.addMode(2,gf);qt.add(document.body,Uo.getDom());var FE=new Qn;Ms.instance().sync_time(null);setTimeout(()=>{console.debug("TimeSync offset: "+Ms.getOffset())},2e3);})();
/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
//# sourceMappingURL=app.js.map
